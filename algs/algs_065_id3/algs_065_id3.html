<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <script type="text/x-mathjax-config">
    MathJax.Hub.Register.StartupHook("TeX Jax Ready",function () {
      MathJax.Hub.Insert(MathJax.InputJax.TeX.Definitions.macros,{
        cancel: ["Extension","cancel"], cancelto: ["Extension","cancel"]
      });
    });
    </script>  
   
  <title>ID3 Karar Ağacı</title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <script
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_HTML-full"
  type="text/javascript"></script>
</head>
<body>
<div id="header">
</div>
<h1 id="id3-karar-ağacı">ID3 Karar Ağacı</h1>
<p>Zeki arama yazısında, arama algoritmasına tahmin yeteneği
kazandırdığımızda problem sonucuna ulaşım hızını arttırmıştık. Tahmin
yeteneği oyun tahtasına değer biçebilen işlev sayesinde bilgisayara
kodlanmıştı.</p>
<p>Bir soru; İnsan zekasında tahmin neye dayanır? Üzerinde bilgimiz,
tecrübemiz olmayan konu hakkında tahmin yapabilirmiyiz? Hayır. Öyleyse
bilgisayara tahmin özelliği kazandırdığımız zaman aynı zamanda makinaya
“bilgi” verdiğimizi söyleyebiliriz. Makinayı bilgilendirdik, ona tecrübe
kazandırdık da diyebiliriz çünkü tahmin, bir konu hakkında bilgimize,
tecrübemize dayandığı ölçüde başarılı olabilir.</p>
<p>Bilgisayara bilgiyi iki şekilde verebiliriz: Yapısal, ya da işlevsel.
Zeki arama örneği işlevsel bir örnek gösterdi. Bilgiyi, bilgisayara
algoritma halinde verdik. Tahta değerlendiren işlev, her taşa göre nasıl
hesap yapacağını biliyordu. Bu hesabı toplama ve çarpma işlemlerini
kullanarak ve daha önceden “bildiği” ağırlıklara göre birbirine
ekleyerek tahta hakkında ne düşündüğünü tek bir sayı halinde bildirdi,
ve algoritmanın geri kalanı bu değerler ile doğru seçimi yaparak sonuca
ulaştı.</p>
<p>Bu yazıda oyun oynama yerine birçok seçeneğin arasında karar vermek
konusunu işleyeceğiz. Zeki aramanın aksine bilgi bilgisayara işlev
olarak değil, bir karar ağaç yapısı olarak verilecek, ve daha da iyisi
bilgisayarın bu yapıyı “örnek veriden” kendi kendine öğrenmesi
sağlanacak.</p>
<p>Karar Ağacı Nedir?</p>
<p>Video, televizyon gibi bir ev elektronik eşyasının kılavuzunda “şu,
şöyle olduysa şöyle yap” gibi tarifler vardir. İlk önce kontrol edilmesi
tavsiye edilen ayarlar vardır, ve bu ayarlardan gelen cevaba göre
değişik ayarlara bakılması tavsiye edilir ve en sonunda kılavuz ne hangi
özel düğmeye basılması gerektiğini söyler. Kullanım kılavuzları onlarca
sayfalık bir karar ağacıdır denebilir. İnsanlara karar ağacın kavramı
doğal geldiği için kılavuzlar bu şekilde hazırlanmıştır.</p>
<p>Diğer bir örnek, lokantalarda çok yemek yiyen birisinin kullandığı
karar ağacı olabilir. Bu kimse her türlü değişik şart altında değişik
lokantalara gitmiş, ve her seferindeki memnuniyet/pişmanlık durumunu
kayıt ederek bir karar ağacı oluşturmuş ise, artık yeni bir lokantada
karar kılması için kapısından şöyle içeri bakıp menüye göz gezdirmesi
yeterli olacaktır. Bu kişinin lokanta deneyimleri mesela aşağıdaki gibi
kayıtlı olsun.</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>labels <span class="op">=</span> [<span class="st">&#39;BASKA&#39;</span>,<span class="st">&#39;BAR&#39;</span>,<span class="st">&#39;HAFTASONU&#39;</span>,<span class="st">&#39;ACMIYIZ&#39;</span>,<span class="st">&#39;MUSTERILER&#39;</span>,<span class="op">\</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;FIYAT&#39;</span>,<span class="st">&#39;YAGMUR&#39;</span>, <span class="st">&#39;RESERVASYON&#39;</span>,<span class="st">&#39;YEMEKTURU&#39;</span>,<span class="st">&#39;BEKLEMESURESI&#39;</span>,<span class="st">&#39;BEKLEYELIM&#39;</span>]</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>dataSet <span class="op">=</span> [</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>[<span class="st">&#39;EVET&#39;</span>,<span class="st">&#39;HAYIR&#39;</span>,<span class="st">&#39;HAYIR&#39;</span>,<span class="st">&#39;EVET&#39;</span>,<span class="st">&#39;BIRAZ&#39;</span>,<span class="st">&#39;DDD&#39;</span>,<span class="st">&#39;HAYIR&#39;</span>,<span class="st">&#39;EVET&#39;</span>,<span class="st">&#39;FRANSIZ&#39;</span>,<span class="st">&#39;0&#39;</span>,<span class="st">&#39;EVET&#39;</span>],</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>[<span class="st">&#39;EVET&#39;</span>,<span class="st">&#39;HAYIR&#39;</span>,<span class="st">&#39;HAYIR&#39;</span>,<span class="st">&#39;EVET&#39;</span>,<span class="st">&#39;DOLU&#39;</span>,<span class="st">&#39;D&#39;</span>,<span class="st">&#39;HAYIR&#39;</span>,<span class="st">&#39;HAYIR&#39;</span>,<span class="st">&#39;TAYLAND&#39;</span>,<span class="st">&#39;30&#39;</span>,<span class="st">&#39;HAYIR&#39;</span>],</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>[<span class="st">&#39;HAYIR&#39;</span>,<span class="st">&#39;EVET&#39;</span>,<span class="st">&#39;HAYIR&#39;</span>,<span class="st">&#39;HAYIR&#39;</span>,<span class="st">&#39;BIRAZ&#39;</span>,<span class="st">&#39;D&#39;</span>,<span class="st">&#39;HAYIR&#39;</span>,<span class="st">&#39;HAYIR&#39;</span>,<span class="st">&#39;KEBAP&#39;</span>,<span class="st">&#39;0&#39;</span>,<span class="st">&#39;EVET&#39;</span>],</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>[<span class="st">&#39;EVET&#39;</span>,<span class="st">&#39;HAYIR&#39;</span>,<span class="st">&#39;EVET&#39;</span>,<span class="st">&#39;EVET&#39;</span>,<span class="st">&#39;DOLU&#39;</span>,<span class="st">&#39;D&#39;</span>,<span class="st">&#39;EVET&#39;</span>,<span class="st">&#39;HAYIR&#39;</span>,<span class="st">&#39;TAYLAND&#39;</span>,<span class="st">&#39;10&#39;</span>,<span class="st">&#39;EVET&#39;</span>],</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>[<span class="st">&#39;EVET&#39;</span>,<span class="st">&#39;HAYIR&#39;</span>,<span class="st">&#39;EVET&#39;</span>,<span class="st">&#39;HAYIR&#39;</span>,<span class="st">&#39;DOLU&#39;</span>,<span class="st">&#39;DDD&#39;</span>,<span class="st">&#39;HAYIR&#39;</span>,<span class="st">&#39;EVET&#39;</span>,<span class="st">&#39;FRANSIZ&#39;</span>,<span class="st">&#39;60&#39;</span>,<span class="st">&#39;HAYIR&#39;</span>],</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>[<span class="st">&#39;HAYIR&#39;</span>,<span class="st">&#39;EVET&#39;</span>,<span class="st">&#39;HAYIR&#39;</span>,<span class="st">&#39;EVET&#39;</span>,<span class="st">&#39;BIRAZ&#39;</span>,<span class="st">&#39;DD&#39;</span>,<span class="st">&#39;EVET&#39;</span>,<span class="st">&#39;EVET&#39;</span>,<span class="st">&#39;ITALYAN&#39;</span>,<span class="st">&#39;0&#39;</span>,<span class="st">&#39;EVET&#39;</span>],</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>[<span class="st">&#39;HAYIR&#39;</span>,<span class="st">&#39;EVET&#39;</span>,<span class="st">&#39;HAYIR&#39;</span>,<span class="st">&#39;HAYIR&#39;</span>,<span class="st">&#39;HIC&#39;</span>,<span class="st">&#39;D&#39;</span>,<span class="st">&#39;EVET&#39;</span>,<span class="st">&#39;HAYIR&#39;</span>,<span class="st">&#39;KEBAP&#39;</span>,<span class="st">&#39;0&#39;</span>,<span class="st">&#39;HAYIR&#39;</span>],</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>[<span class="st">&#39;HAYIR&#39;</span>,<span class="st">&#39;HAYIR&#39;</span>,<span class="st">&#39;HAYIR&#39;</span>,<span class="st">&#39;EVET&#39;</span>,<span class="st">&#39;BIRAZ&#39;</span>,<span class="st">&#39;DD&#39;</span>,<span class="st">&#39;EVET&#39;</span>,<span class="st">&#39;EVET&#39;</span>,<span class="st">&#39;TAYLAND&#39;</span>,<span class="st">&#39;0&#39;</span>,<span class="st">&#39;EVET&#39;</span>],</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>[<span class="st">&#39;HAYIR&#39;</span>,<span class="st">&#39;EVET&#39;</span>,<span class="st">&#39;EVET&#39;</span>,<span class="st">&#39;HAYIR&#39;</span>,<span class="st">&#39;DOLU&#39;</span>,<span class="st">&#39;D&#39;</span>,<span class="st">&#39;EVET&#39;</span>,<span class="st">&#39;HAYIR&#39;</span>,<span class="st">&#39;KEBAP&#39;</span>,<span class="st">&#39;60&#39;</span>,<span class="st">&#39;HAYIR&#39;</span>],</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>[<span class="st">&#39;EVET&#39;</span>,<span class="st">&#39;EVET&#39;</span>,<span class="st">&#39;EVET&#39;</span>,<span class="st">&#39;EVET&#39;</span>,<span class="st">&#39;DOLU&#39;</span>,<span class="st">&#39;DDD&#39;</span>,<span class="st">&#39;HAYIR&#39;</span>,<span class="st">&#39;EVET&#39;</span>,<span class="st">&#39;ITALYAN&#39;</span>,<span class="st">&#39;10&#39;</span>,<span class="st">&#39;HAYIR&#39;</span>],</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>[<span class="st">&#39;HAYIR&#39;</span>,<span class="st">&#39;HAYIR&#39;</span>,<span class="st">&#39;HAYIR&#39;</span>,<span class="st">&#39;HAYIR&#39;</span>,<span class="st">&#39;HIC&#39;</span>,<span class="st">&#39;D&#39;</span>,<span class="st">&#39;HAYIR&#39;</span>,<span class="st">&#39;HAYIR&#39;</span>,<span class="st">&#39;TAYLAND&#39;</span>,<span class="st">&#39;0&#39;</span>,<span class="st">&#39;HAYIR&#39;</span>],</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>[<span class="st">&#39;EVET&#39;</span>,<span class="st">&#39;EVET&#39;</span>,<span class="st">&#39;EVET&#39;</span>,<span class="st">&#39;EVET&#39;</span>,<span class="st">&#39;DOLU&#39;</span>,<span class="st">&#39;D&#39;</span>,<span class="st">&#39;HAYIR&#39;</span>,<span class="st">&#39;HAYIR&#39;</span>,<span class="st">&#39;KEBAP&#39;</span>,<span class="st">&#39;30&#39;</span>,<span class="st">&#39;EVET&#39;</span>]</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>]</span></code></pre></div>
<p>Peki bu veriye bakarak karar ağacını nasıl oluşturacağız?</p>
<p>İnsanın aklında karar ağacını oluşturması başka bilim dalları altında
araştırılıyor. Bilgisayar için karar ağacını “kendi kendine çıkartan”
bir yapay zeka algoritması (ID3), bu yazımızın konusu olacak. ID3 ve
genelde öğrenen algoritmalar ve ileride mekanize-öğrenme konusuna giriş
açısından yararlı olabilir, ve bu konuda zaten en popüler yaklaşım olan
ID3’ün geniş bir uygulama alanı vardır.</p>
<p>Algoritma</p>
<p>Karar ağacımız öyle olsun ki, eğitim verisi ile eğitildikten sonra,
yeni bir soruya karşılılk, üstten başlayarak yeni şartlar çerçevesinde
(ama eski veriye göre kurulmuş) ağaçta bizi bir ‘evet’ ya da ‘hayır’
cevabına doğru yönlendirsin. İyi kurulmuş bir karar ağacı, “en az” soru
ile “en çabuk” cevaba erişmemizi sağlayan ağaçtır. Çünkü ileride de
göreceğimiz gibi, aynı veri için birden fazla değişik karar ağacı kurmak
mümkündür.</p>
<p>Evet, algoritmamıza başlayalım. Veriyi bölmek için, bir başlık
seçmemiz gerekiyor. Bu seçimi şimdilik rasgele yapalım, diyelim ki
“Müşteri” başlığını seçtik. Veriye bakınca, bu başlık altında “Hiç”,
“Biraz” ya da “Dolu” değerlerini görüyoruz. Bu başlığı en üst düğüm
olarak ağaca yerleştirelim, ve veriyi, bu başlığın tekrar eden değerlere
göre guruplayıp, bölelim.</p>
<p>Alttaki ağaç, müşteri başlığı üzerinden oluşturulan ağacımızın ilk
seviyesidir.</p>
<p><img src="id3_hangi_baslik_1.jpg" /></p>
<p>Yeşil ve kırmızı toplar evet=yeşil, hayır=kırmızı cevaplarını temsil
ediyorlar. Resimin anlatmak istediği, karar ağacı öğreniminin, eğitim
verisinin tamamını böldüğü, ve seçenekler arasında taksim ettiği.
Elimizdeki verinin “hedef başlığı” “bekleyelim mi?” sorusudur, ve cevabı
sadece evet ya da hayır olabilir. Yazının geri kalan kısmında kırmızı ve
yeşil topların hepsini göstermeyeceğiz. Kolaylık bakımından ağacın en uç
kısmında tamamen yeşil ya da tamamen kırmızı var ise tek bir renk
göstermek yeterli olacak.</p>
<p>Ağacın bu ilk seviyesine bakınca, görüyoruz ki daha şimdiden elimizde
yararlı bir karar ağacı var. Çünkü eğer, ‘müşteriler’ sorusuna yeni
sorunun cevabı “hiç” olsaydı, direk olarak bir “Y” (Yanlış) cevabına
erişmemiz mümkün oluyordu. Bu noktada iş bitiyor, karar verilmiş olurdu.
Tabii bu cevap senaryosu çok iyimser bir senaryodur, çünkü eğer yeni
sorunun cevabı “Dolu” olsa idi, bu dalı izleyerek hala bölünmüş olan bir
dala geldiğimizi görecektik. Demek ki ağaç oluşturan algoritmanın işi
daha bitmedi. “Dolu” dalını takip ederek, oradaki verileri de bölmeye
devam etmemiz gerekiyor.</p>
<p>Bu dalı bölmek için, ‘müşteriler’ başlığından sonra, gene rasgele
olarak, ‘bekleme süresi’ başlığını seçebiliriz. Eğer lokanta dolu ise,
kapıda beklememiz için eğitim verisinde elimizde olan bekleme süreleri
bu başlık altında toplanmış. Mümkün değerler 60 dakika’dan fazla, 30-60
dakika arası, 10-30 dakika arası, ya da 10 dakikadan daha az beklemek
olarak görülüyor. Bu bölünmeyi de yaptıktan sonra, sırası ile
“müşteriler=dolu’’ ve”bekleme süresi=60 dakidan fazla’’ sorusunun bizi
kesin bir cevaba eriştirdiğini göreceğiz. Ayrıca, “müşteriler=dolu’’
ve”10 dakikadan az beklemek’’ sorusu bizi ‘evet’ cevabına getirecektir.
Bunlar da güzel. Fakat işimiz daha bitmedi, halâ bölünmemiş dallar var,
vs.</p>
<p>Herhalde algoritmanın bölen ve ağaç oluşturan kısmının mantığı
anlaşıldı. Tahmin edilecegi gibi bu bölme ve dal oluşturma işlemi
tamamen ‘evet’ ve ‘hayır’ sonuçlarına erişinceye kadar devam edecek.
Sonuç karar ağacını aşağıda görüyoruz.</p>
<p><img src="id3_agac_ilk.jpg" /></p>
<p>Optimizasyon</p>
<p>Yapay zeka dalında, algoritmaların doğruluğu kadar, bilgisayara
getirdiği yükün ne kadar önemli olduğunu görmüştük. O kadar ki, eğer bu
yük kontrol edilir bir ölçüde değil ise, algoritmanın işe yararlılığı
sorgulanmaya başlanır. Test olarak, bir algoritmanın 12 veri satırı
(yukarıdaki örnek) yerine , 500,000 satırlık veri ile ne yapacağını
sormak yerinde olur. Çünkü insan beyninin yaptığı binbir türlü teknik
kullanarak bu kadar veriyi işlemektir, aktif zekamızda farkında olmasak
bile, belli bir seviyede bu işlemler olmaktadır. Basit bir iş gibi
görünen bir yerden bir yere kalkıp yürümek için kullandığımız
algoritmaların neler çözmek zorunda olduğunu, robot yazılımlar ile
uğraşanlar bilir.</p>
<p>O yüzden, ID3 algoritmasını 500,000 satırlık veriyi idare edebilecek
şekilde ilerletmemiz gerekiyor.</p>
<p>Başlık Seçimi</p>
<p>Ilerletme için uygun bir zaman herhalde başlık seçimi esnâsında
olacaktır. İlk karar ağacında gördüğümüz gibi bazı sorulara olan
cevaplar daha ilk seviyede kesin cevaba erişebiliyordu. Demek ki,
sürekli olarak “uygun başlığı uygun zamanda” seçersek, ağacımızı oldukça
küçültmemiz mümkün olur. Böylece kesin cevaba erişmemiz kolaylaşır.
Tabii kolaylık derken, 500,000 satırlık veri için 100 derinliğindeki bir
ağaç ile 10 birim arasındaki bir farktan bahsediyorum, ki bu fark hiç
yabana atılacak bir fark değildir.</p>
<p>Peki uygun başlık nedir? Mesela ilk seviye için, müşteri yerine,
“yemek türü” başlığını seçseydik, daha mı iyi bir seçim yapmış olurduk?
Bu farazi bölünmeyi aşağıdaki şekilde görelim.</p>
<p><img src="id3_hangi_baslik_2.jpg" /></p>
<p>Görüyoruz ki, bu yeni bölünme bizi hiç bir kesin cevaba götürmedi.
Üstüne üstlük, bütün bu dalların alt-dalları, onlarında alt-dalları
derken ağacımızın arap saçına dönmesi ihtimal dahilinde. Demek ki ‘yemek
türü’ bölünmesi bize yeni “bilgi” sâğlamadı. Halâ elimizde kesin
cevaplar değil, seçenekler var.</p>
<p>Bize öyle bir işlev lazım ki, her parçaya bakıp kazandırdığı bilgiyi
ölçsün, hala bölünmüş kalan kısımlar içinde bile, onlardan en iyi
olanını seçsin. İşte bu noktada bilgi kuramı yardımımıza yetişiyor.</p>
<p>Bilgi Kuramı</p>
<p>Bilgi kuramı (information theory), bilgiyi nasıl kodlayacağımızı ve
sonuç kodlamanın ne kadar yer tutacağı gibi sorunlar ile uğraşır.
Mesela, elimizde 2 değişik değer var ise ve bu değerleri ikili düzende
kodlamamız gerekse, bu iş için kaç tane bit gerekir?</p>
<p>Cevap: Bir tane.</p>
<p>Peki, 4 tane değer olduğunu düşünelim. Şimdi kaç tane? Cevap: İki.
Tekrar eden mantık belki farkedilmistir; eğer “kaç bit” sorusu ile
“eldeki bilgi” arasında matematiksel bir bâglantı kurmak gerekse (K ye
B), şöyle yazabiliriz. Parça Bilgi Değeri şuna eşit:</p>
<p><span class="math display">\[ -\frac{d}{d+y} \log_2 \bigg(
\frac{d}{d+y} \bigg) -
\frac{y}{d+y} \log_2 \bigg( \frac{y}{d+y} \bigg)
\]</span></p>
<p>Adresleme, onluk düzen ve ikilik düzen arasında gidip gelme gibi
problemlerden hatırlayabileceğimiz bir sonuç bu. Ya da, ‘iki tane bit en
fazla kaç onluk sayıyı gösterir’ sorusunun tersten sorulmuş şeklidir
denebilir.</p>
<p>Şimdi bu ters soruyu karar ağacının böldüğü her parçaya soralım.
Tabii birkaç değişiklik yapmamız gerekecek. Mesela elimizde
<code>yemekturu=tayland</code> sonucunda tek bir parça üzerine 2 yanlış
ve 2 doğru değer var ise, bu düğümün bilgi değerini kesirler ile
hesaplamamız gerekecek. Kesirler ile uğraşırken log işlevi eksi değerler
getireceği için cevabı önce kesirin kendisi, sonra da eksi ile çarpmamız
lazım (<span class="math inline">\(\log\)</span>, 0 ve 1 arası için eksi
değer getirir). Yani, genel olarak iki cevaplı bir uzayda, tek parçanın
bilgi değeri şöyle gösterilebilir. Parça Bilgi Değeri suna eşit:</p>
<p><span class="math display">\[ B(O(v_1),...,O(V_n)) = \sum_{i=1}^{n}
-O(v_i)\log_2O(v_i) \]</span></p>
<p><span class="math inline">\(O\)</span>, olasılığı temsil ediyor.</p>
<p>Genel olarak göstermek gerekirse, n cevaplı bir uzayda parçanın bilgi
değeri şudur.</p>
<p><span class="math display">\[ B \bigg(\frac{1}{2}, \frac{1}{2} \bigg)
=
\frac{1}{2}\log_2 \bigg(\frac{1}{2} \bigg)
- \frac{1}{2}\log_2 \bigg(\frac{1}{2} \bigg) = \textrm { 1 bit }
\]</span></p>
<p>Formülü kontrol etmek için, başta verdiğimiz bit örneğini kullanalım:
2 değişik değer için kaç bit gerekir?</p>
<p><span class="math display">\[ \sum_{i=1}^{parca} \frac{d_i +
y_i}{d+y}
\bigg( \frac{d_i}{d_i+y_i}, \frac{y_i}{d_i+y_i} \bigg)
\]</span></p>
<p><span class="math inline">\(d_i\)</span>: i’inci parça doğru
sayısı</p>
<p><span class="math inline">\(y_i\)</span>: i’inci parca yanlis
sayisi</p>
<p><span class="math inline">\(d\)</span>: tüm doğrular</p>
<p><span class="math inline">\(y\)</span>: tüm yanlışlar</p>
<p>1 bit gerektiğini halâ bulabiliyoruz.</p>
<p>Parçaların Bilgi Değer Toplamı</p>
<p>Bölündükten sonra elimize geçen parçaların bilgi değer toplamı
için</p>
<p>Müşteri Parçaları</p>
<p><span class="math display">\[  
\frac{2}{12}B(0,1) + \frac{4}{12}B(1,0) + \frac{6}{12} B(\frac{2}{6},
\frac{4}{6}) = 0.459
\]</span></p>
<p>Yemek Türü Parçaları</p>
<p><span class="math display">\[
\frac{2}{12}B(\frac{1}{2},\frac{1}{2}) +
\frac{2}{12}B(\frac{1}{2},\frac{1}{2}) +
\frac{4}{12}B(\frac{2}{4},\frac{2}{4}) +
\frac{4}{12}B(\frac{2}{4},\frac{2}{4})
= 1
\]</span></p>
<p>Problemi sözel olarak biraz daha berraklaştıralım. Herhangi bir
düğümde iken, bu düğümün bilgi değerini B() ile bulabiliriz. Lokanta
örneğinin ilk seviyesinde, en üst düğümün bilgi değeri ‘1’ olduğunu
görülebilir, çünkü elimizde tek düğüm, 6 yanlış, 6 doğru cevap var.
Güzel.</p>
<p>Şimdi bir seviye aşağı inelim. Her başlığı teker teker deneyip, ve
veriyi her başlık için geçici olarak parçalayıp, muhtemel her bölünme
için bu başlığa tekâbül eden parçaların bilgi değerini toplayalım (bir
üstteki formül).</p>
<p>Örnek veri üzerinde üstteki formülü deneyelim (1. seviye parçalanması
için)</p>
<p>Müşteri Parçaları</p>
<p><span class="math display">\[
\frac{2}{12}B(0,1) +
\frac{4}{12}B(1,0) +
\frac{6}{12}B(\frac{2}{6}, \frac{4}{6}) = 0.459
\]</span></p>
<p>Yemek Türü Parçaları</p>
<p><span class="math display">\[
\frac{2}{12}B(\frac{1}{2}, \frac{1}{2}) +
\frac{2}{12}B(\frac{1}{2}, \frac{1}{2}) +
\frac{4}{12}B(\frac{2}{4}, \frac{2}{4}) +
\frac{4}{12}B(\frac{2}{4}, \frac{2}{4})  = 1
\]</span></p>
<p>Görüyoruz ki, ağacın en üst seviyesini temsil etmek için 1 bit
gerekiyor iken, müşteri bölünmesinden sonra 0.459 bit yetiyor (daha az).
Fakat yemek türü bölünmesinden sonra halâ 1 bit lâzım! Yani, yemek türü
bölünmesi bize hiç bir şey kazandırmadı.</p>
<p>Kazanç kelimesini aritmetik olarak şöyle târif edebiliriz: Bir
düğümün bilgi değerinden, bu düğümün alt-parçalarının bilgi değer
toplamının düşülmesi kazanç değerini verir. ID3 algoritması, tabii ki
daha az bit gerektiren ya da, daha çok bilgi “kazandıran” seçeneği takip
ederse daha etkili olur. Böylece her seviyede gitgide daha berraklaşan
karar ağacı, “en az” seviyede, kesin kararlara “en çabuk” şekilde ulaşan
karar ağacı olacaktır.</p>
<p>Eğer B() işlevinin iç mekanizmaları hala anlaşılmadı ise, şunları
bilmek yardımcı olabilir:</p>
<p>Parça tamamen yanlış değerler içeriyor (kesin cevap) = B(0,1) = 0
bit</p>
<p>Parça tamamen doğru değerler içeriyor (kesin cevap) = B(1,0) = 0
bit</p>
<p>… 3 doğru, 3 yanlış = B(3,3) = 1 bit … 2 doğru, 4 yanlış = B(2,4) =
0.92 bit … 1 doğru, 5 yanlış = B(1,5) = 0.65 bit</p>
<p>Yeni algoritmanın sonucu ortaya çıkacak karar ağacı şöyle olacaktır.
Bu ağacın ilk baştaki ağaca kıyasla çok daha küçük olduğunu
görüyoruz.</p>
<p><img src="id3_agac_eniyi.jpg" /></p>
<p>Kodu Python ile göstermek gerekirse [1]</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> math <span class="im">import</span> log</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> operator</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> calcShannonEnt(dataSet):</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>    numEntries <span class="op">=</span> <span class="bu">len</span>(dataSet)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>    labelCounts <span class="op">=</span> {}</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># kac ozgun deger var ve bu degerler kac kere ortaya cikiyorlar</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> featVec <span class="kw">in</span> dataSet: </span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>        currentLabel <span class="op">=</span> featVec[<span class="op">-</span><span class="dv">1</span>]</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> currentLabel <span class="kw">not</span> <span class="kw">in</span> labelCounts.keys(): labelCounts[currentLabel] <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>        labelCounts[currentLabel] <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>    shannonEnt <span class="op">=</span> <span class="fl">0.0</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> key <span class="kw">in</span> labelCounts:</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>        prob <span class="op">=</span> <span class="bu">float</span>(labelCounts[key])<span class="op">/</span>numEntries</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>        shannonEnt <span class="op">-=</span> prob <span class="op">*</span> log(prob,<span class="dv">2</span>) <span class="co">#log base 2</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> shannonEnt</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> splitDataSet(dataSet, axis, value):</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>    retDataSet <span class="op">=</span> []</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> featVec <span class="kw">in</span> dataSet:</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> featVec[axis] <span class="op">==</span> value:</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>            reducedFeatVec <span class="op">=</span> featVec[:axis]     </span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>            reducedFeatVec.extend(featVec[axis<span class="op">+</span><span class="dv">1</span>:])</span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>            retDataSet.append(reducedFeatVec)</span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> retDataSet</span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> chooseBestFeatureToSplit(dataSet):</span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>    numFeatures <span class="op">=</span> <span class="bu">len</span>(dataSet[<span class="dv">0</span>]) <span class="op">-</span> <span class="dv">1</span>      </span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>    baseEntropy <span class="op">=</span> calcShannonEnt(dataSet)</span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a>    bestInfoGain <span class="op">=</span> <span class="fl">0.0</span><span class="op">;</span> bestFeature <span class="op">=</span> <span class="op">-</span><span class="dv">1</span></span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a>    <span class="co"># tum ozellikleri ziyaret et</span></span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(numFeatures):        </span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a>        featList <span class="op">=</span> [example[i] <span class="cf">for</span> example <span class="kw">in</span> dataSet]</span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a>        uniqueVals <span class="op">=</span> <span class="bu">set</span>(featList)       </span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a>        newEntropy <span class="op">=</span> <span class="fl">0.0</span></span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> value <span class="kw">in</span> uniqueVals:</span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a>            subDataSet <span class="op">=</span> splitDataSet(dataSet, i, value)</span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true" tabindex="-1"></a>            prob <span class="op">=</span> <span class="bu">len</span>(subDataSet)<span class="op">/</span><span class="bu">float</span>(<span class="bu">len</span>(dataSet))</span>
<span id="cb2-39"><a href="#cb2-39" aria-hidden="true" tabindex="-1"></a>            newEntropy <span class="op">+=</span> prob <span class="op">*</span> calcShannonEnt(subDataSet)     </span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true" tabindex="-1"></a>        <span class="co"># enformasyon kazancini hesapla, yani entropideki azalisi</span></span>
<span id="cb2-41"><a href="#cb2-41" aria-hidden="true" tabindex="-1"></a>        infoGain <span class="op">=</span> baseEntropy <span class="op">-</span> newEntropy     </span>
<span id="cb2-42"><a href="#cb2-42" aria-hidden="true" tabindex="-1"></a>        <span class="co"># bu hesabi simdiye kadarki en iyi kazancla karsilastir</span></span>
<span id="cb2-43"><a href="#cb2-43" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (infoGain <span class="op">&gt;</span> bestInfoGain):       </span>
<span id="cb2-44"><a href="#cb2-44" aria-hidden="true" tabindex="-1"></a>            bestInfoGain <span class="op">=</span> infoGain         </span>
<span id="cb2-45"><a href="#cb2-45" aria-hidden="true" tabindex="-1"></a>            bestFeature <span class="op">=</span> i</span>
<span id="cb2-46"><a href="#cb2-46" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> bestFeature                      </span>
<span id="cb2-47"><a href="#cb2-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-48"><a href="#cb2-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-49"><a href="#cb2-49" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> createTree(dataSet,labels):</span>
<span id="cb2-50"><a href="#cb2-50" aria-hidden="true" tabindex="-1"></a>    classList <span class="op">=</span> [example[<span class="op">-</span><span class="dv">1</span>] <span class="cf">for</span> example <span class="kw">in</span> dataSet]</span>
<span id="cb2-51"><a href="#cb2-51" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> classList.count(classList[<span class="dv">0</span>]) <span class="op">==</span> <span class="bu">len</span>(classList): </span>
<span id="cb2-52"><a href="#cb2-52" aria-hidden="true" tabindex="-1"></a>        <span class="co"># tum siniflar esitse bolmeyi durdur</span></span>
<span id="cb2-53"><a href="#cb2-53" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> classList[<span class="dv">0</span>]</span>
<span id="cb2-54"><a href="#cb2-54" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">len</span>(dataSet[<span class="dv">0</span>]) <span class="op">==</span> <span class="dv">1</span>: </span>
<span id="cb2-55"><a href="#cb2-55" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> majorityCnt(classList)</span>
<span id="cb2-56"><a href="#cb2-56" aria-hidden="true" tabindex="-1"></a>    bestFeat <span class="op">=</span> chooseBestFeatureToSplit(dataSet)</span>
<span id="cb2-57"><a href="#cb2-57" aria-hidden="true" tabindex="-1"></a>    bestFeatLabel <span class="op">=</span> labels[bestFeat]</span>
<span id="cb2-58"><a href="#cb2-58" aria-hidden="true" tabindex="-1"></a>    myTree <span class="op">=</span> {bestFeatLabel:{}}</span>
<span id="cb2-59"><a href="#cb2-59" aria-hidden="true" tabindex="-1"></a>    <span class="kw">del</span>(labels[bestFeat])</span>
<span id="cb2-60"><a href="#cb2-60" aria-hidden="true" tabindex="-1"></a>    featValues <span class="op">=</span> [example[bestFeat] <span class="cf">for</span> example <span class="kw">in</span> dataSet]</span>
<span id="cb2-61"><a href="#cb2-61" aria-hidden="true" tabindex="-1"></a>    uniqueVals <span class="op">=</span> <span class="bu">set</span>(featValues)</span>
<span id="cb2-62"><a href="#cb2-62" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> value <span class="kw">in</span> uniqueVals:</span>
<span id="cb2-63"><a href="#cb2-63" aria-hidden="true" tabindex="-1"></a>        <span class="co">#copy all of labels, so trees don&#39;t mess up existing labels</span></span>
<span id="cb2-64"><a href="#cb2-64" aria-hidden="true" tabindex="-1"></a>        subLabels <span class="op">=</span> labels[:]       </span>
<span id="cb2-65"><a href="#cb2-65" aria-hidden="true" tabindex="-1"></a>        myTree[bestFeatLabel][value] <span class="op">=</span> <span class="op">\</span></span>
<span id="cb2-66"><a href="#cb2-66" aria-hidden="true" tabindex="-1"></a>            createTree(splitDataSet(dataSet, bestFeat, value),subLabels)</span>
<span id="cb2-67"><a href="#cb2-67" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> myTree                            </span>
<span id="cb2-68"><a href="#cb2-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-69"><a href="#cb2-69" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> getNumLeafs(myTree):</span>
<span id="cb2-70"><a href="#cb2-70" aria-hidden="true" tabindex="-1"></a>    numLeafs <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb2-71"><a href="#cb2-71" aria-hidden="true" tabindex="-1"></a>    <span class="co"># FIX: Convert dict_keys to a list</span></span>
<span id="cb2-72"><a href="#cb2-72" aria-hidden="true" tabindex="-1"></a>    firstStr <span class="op">=</span> <span class="bu">list</span>(myTree.keys())[<span class="dv">0</span>] </span>
<span id="cb2-73"><a href="#cb2-73" aria-hidden="true" tabindex="-1"></a>    secondDict <span class="op">=</span> myTree[firstStr]</span>
<span id="cb2-74"><a href="#cb2-74" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> key <span class="kw">in</span> secondDict.keys():</span>
<span id="cb2-75"><a href="#cb2-75" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="bu">type</span>(secondDict[key]).<span class="va">__name__</span><span class="op">==</span><span class="st">&#39;dict&#39;</span>:</span>
<span id="cb2-76"><a href="#cb2-76" aria-hidden="true" tabindex="-1"></a>            numLeafs <span class="op">+=</span> getNumLeafs(secondDict[key])</span>
<span id="cb2-77"><a href="#cb2-77" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:   numLeafs <span class="op">+=</span><span class="dv">1</span></span>
<span id="cb2-78"><a href="#cb2-78" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> numLeafs</span>
<span id="cb2-79"><a href="#cb2-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-80"><a href="#cb2-80" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> getTreeDepth(myTree):</span>
<span id="cb2-81"><a href="#cb2-81" aria-hidden="true" tabindex="-1"></a>    maxDepth <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb2-82"><a href="#cb2-82" aria-hidden="true" tabindex="-1"></a>    <span class="co"># FIX: Convert dict_keys to a list</span></span>
<span id="cb2-83"><a href="#cb2-83" aria-hidden="true" tabindex="-1"></a>    firstStr <span class="op">=</span> <span class="bu">list</span>(myTree.keys())[<span class="dv">0</span>]</span>
<span id="cb2-84"><a href="#cb2-84" aria-hidden="true" tabindex="-1"></a>    secondDict <span class="op">=</span> myTree[firstStr]</span>
<span id="cb2-85"><a href="#cb2-85" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> key <span class="kw">in</span> secondDict.keys():</span>
<span id="cb2-86"><a href="#cb2-86" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="bu">type</span>(secondDict[key]).<span class="va">__name__</span><span class="op">==</span><span class="st">&#39;dict&#39;</span>:</span>
<span id="cb2-87"><a href="#cb2-87" aria-hidden="true" tabindex="-1"></a>            thisDepth <span class="op">=</span> <span class="dv">1</span> <span class="op">+</span> getTreeDepth(secondDict[key])</span>
<span id="cb2-88"><a href="#cb2-88" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:   thisDepth <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb2-89"><a href="#cb2-89" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> thisDepth <span class="op">&gt;</span> maxDepth: maxDepth <span class="op">=</span> thisDepth</span>
<span id="cb2-90"><a href="#cb2-90" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> maxDepth</span>
<span id="cb2-91"><a href="#cb2-91" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-92"><a href="#cb2-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-93"><a href="#cb2-93" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> plotNode(nodeTxt, centerPt, parentPt, nodeType):</span>
<span id="cb2-94"><a href="#cb2-94" aria-hidden="true" tabindex="-1"></a>    createPlot.ax1.annotate(nodeTxt, xy<span class="op">=</span>parentPt,  xycoords<span class="op">=</span><span class="st">&#39;axes fraction&#39;</span>,</span>
<span id="cb2-95"><a href="#cb2-95" aria-hidden="true" tabindex="-1"></a>             xytext<span class="op">=</span>centerPt, textcoords<span class="op">=</span><span class="st">&#39;axes fraction&#39;</span>,</span>
<span id="cb2-96"><a href="#cb2-96" aria-hidden="true" tabindex="-1"></a>             va<span class="op">=</span><span class="st">&quot;center&quot;</span>, ha<span class="op">=</span><span class="st">&quot;center&quot;</span>, bbox<span class="op">=</span>nodeType, arrowprops<span class="op">=</span>arrow_args )</span>
<span id="cb2-97"><a href="#cb2-97" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-98"><a href="#cb2-98" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> plotMidText(cntrPt, parentPt, txtString):</span>
<span id="cb2-99"><a href="#cb2-99" aria-hidden="true" tabindex="-1"></a>    xMid <span class="op">=</span> (parentPt[<span class="dv">0</span>]<span class="op">-</span>cntrPt[<span class="dv">0</span>])<span class="op">/</span><span class="fl">2.0</span> <span class="op">+</span> cntrPt[<span class="dv">0</span>]</span>
<span id="cb2-100"><a href="#cb2-100" aria-hidden="true" tabindex="-1"></a>    yMid <span class="op">=</span> (parentPt[<span class="dv">1</span>]<span class="op">-</span>cntrPt[<span class="dv">1</span>])<span class="op">/</span><span class="fl">2.0</span> <span class="op">+</span> cntrPt[<span class="dv">1</span>]</span>
<span id="cb2-101"><a href="#cb2-101" aria-hidden="true" tabindex="-1"></a>    createPlot.ax1.text(xMid, yMid, txtString, <span class="op">\</span></span>
<span id="cb2-102"><a href="#cb2-102" aria-hidden="true" tabindex="-1"></a>                        va<span class="op">=</span><span class="st">&quot;center&quot;</span>, ha<span class="op">=</span><span class="st">&quot;center&quot;</span>, rotation<span class="op">=</span><span class="dv">30</span>)</span>
<span id="cb2-103"><a href="#cb2-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-104"><a href="#cb2-104" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> plotTree(myTree, parentPt, nodeTxt):</span>
<span id="cb2-105"><a href="#cb2-105" aria-hidden="true" tabindex="-1"></a>    numLeafs <span class="op">=</span> getNumLeafs(myTree)  </span>
<span id="cb2-106"><a href="#cb2-106" aria-hidden="true" tabindex="-1"></a>    depth <span class="op">=</span> getTreeDepth(myTree)</span>
<span id="cb2-107"><a href="#cb2-107" aria-hidden="true" tabindex="-1"></a>    <span class="co"># FIX: Convert dict_keys to a list here as well</span></span>
<span id="cb2-108"><a href="#cb2-108" aria-hidden="true" tabindex="-1"></a>    firstStr <span class="op">=</span> <span class="bu">list</span>(myTree.keys())[<span class="dv">0</span>]       </span>
<span id="cb2-109"><a href="#cb2-109" aria-hidden="true" tabindex="-1"></a>    cntrPt <span class="op">=</span> (plotTree.xOff <span class="op">+</span> (<span class="fl">1.0</span> <span class="op">+</span> <span class="bu">float</span>(numLeafs))<span class="op">/</span><span class="fl">2.0</span><span class="op">/</span>plotTree.totalW,<span class="op">\</span></span>
<span id="cb2-110"><a href="#cb2-110" aria-hidden="true" tabindex="-1"></a>              plotTree.yOff)</span>
<span id="cb2-111"><a href="#cb2-111" aria-hidden="true" tabindex="-1"></a>    plotMidText(cntrPt, parentPt, nodeTxt)</span>
<span id="cb2-112"><a href="#cb2-112" aria-hidden="true" tabindex="-1"></a>    plotNode(firstStr, cntrPt, parentPt, decisionNode)</span>
<span id="cb2-113"><a href="#cb2-113" aria-hidden="true" tabindex="-1"></a>    secondDict <span class="op">=</span> myTree[firstStr]</span>
<span id="cb2-114"><a href="#cb2-114" aria-hidden="true" tabindex="-1"></a>    plotTree.yOff <span class="op">=</span> plotTree.yOff <span class="op">-</span> <span class="fl">1.0</span><span class="op">/</span>plotTree.totalD</span>
<span id="cb2-115"><a href="#cb2-115" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> key <span class="kw">in</span> secondDict.keys():</span>
<span id="cb2-116"><a href="#cb2-116" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="bu">type</span>(secondDict[key]).<span class="va">__name__</span><span class="op">==</span><span class="st">&#39;dict&#39;</span>:</span>
<span id="cb2-117"><a href="#cb2-117" aria-hidden="true" tabindex="-1"></a>            plotTree(secondDict[key],cntrPt,<span class="bu">str</span>(key))          </span>
<span id="cb2-118"><a href="#cb2-118" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:   </span>
<span id="cb2-119"><a href="#cb2-119" aria-hidden="true" tabindex="-1"></a>            plotTree.xOff <span class="op">=</span> plotTree.xOff <span class="op">+</span> <span class="fl">1.0</span><span class="op">/</span>plotTree.totalW</span>
<span id="cb2-120"><a href="#cb2-120" aria-hidden="true" tabindex="-1"></a>            plotNode(secondDict[key], (plotTree.xOff, plotTree.yOff), <span class="op">\</span></span>
<span id="cb2-121"><a href="#cb2-121" aria-hidden="true" tabindex="-1"></a>            cntrPt, leafNode)</span>
<span id="cb2-122"><a href="#cb2-122" aria-hidden="true" tabindex="-1"></a>            plotMidText((plotTree.xOff, plotTree.yOff), cntrPt, <span class="bu">str</span>(key))</span>
<span id="cb2-123"><a href="#cb2-123" aria-hidden="true" tabindex="-1"></a>    plotTree.yOff <span class="op">=</span> plotTree.yOff <span class="op">+</span> <span class="fl">1.0</span><span class="op">/</span>plotTree.totalD</span>
<span id="cb2-124"><a href="#cb2-124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-125"><a href="#cb2-125" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-126"><a href="#cb2-126" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> createPlot(inTree):</span>
<span id="cb2-127"><a href="#cb2-127" aria-hidden="true" tabindex="-1"></a>    fig <span class="op">=</span> plt.figure(<span class="dv">1</span>, facecolor<span class="op">=</span><span class="st">&#39;white&#39;</span>)</span>
<span id="cb2-128"><a href="#cb2-128" aria-hidden="true" tabindex="-1"></a>    fig.clf()</span>
<span id="cb2-129"><a href="#cb2-129" aria-hidden="true" tabindex="-1"></a>    axprops <span class="op">=</span> <span class="bu">dict</span>(xticks<span class="op">=</span>[], yticks<span class="op">=</span>[])</span>
<span id="cb2-130"><a href="#cb2-130" aria-hidden="true" tabindex="-1"></a>    createPlot.ax1 <span class="op">=</span> plt.subplot(<span class="dv">111</span>, frameon<span class="op">=</span><span class="va">False</span>, <span class="op">**</span>axprops)    </span>
<span id="cb2-131"><a href="#cb2-131" aria-hidden="true" tabindex="-1"></a>    plotTree.totalW <span class="op">=</span> <span class="bu">float</span>(getNumLeafs(inTree))</span>
<span id="cb2-132"><a href="#cb2-132" aria-hidden="true" tabindex="-1"></a>    plotTree.totalD <span class="op">=</span> <span class="bu">float</span>(getTreeDepth(inTree))</span>
<span id="cb2-133"><a href="#cb2-133" aria-hidden="true" tabindex="-1"></a>    plotTree.xOff <span class="op">=</span> <span class="op">-</span><span class="fl">0.5</span><span class="op">/</span>plotTree.totalW<span class="op">;</span> plotTree.yOff <span class="op">=</span> <span class="fl">1.0</span><span class="op">;</span></span>
<span id="cb2-134"><a href="#cb2-134" aria-hidden="true" tabindex="-1"></a>    plotTree(inTree, (<span class="fl">0.5</span>,<span class="fl">1.0</span>), <span class="st">&#39;&#39;</span>)</span>
<span id="cb2-135"><a href="#cb2-135" aria-hidden="true" tabindex="-1"></a>    plt.savefig(<span class="st">&#39;id3_1.png&#39;</span>)</span>
<span id="cb2-136"><a href="#cb2-136" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-137"><a href="#cb2-137" aria-hidden="true" tabindex="-1"></a>decisionNode <span class="op">=</span> <span class="bu">dict</span>(boxstyle<span class="op">=</span><span class="st">&quot;sawtooth&quot;</span>, fc<span class="op">=</span><span class="st">&quot;0.8&quot;</span>)</span>
<span id="cb2-138"><a href="#cb2-138" aria-hidden="true" tabindex="-1"></a>leafNode <span class="op">=</span> <span class="bu">dict</span>(boxstyle<span class="op">=</span><span class="st">&quot;round4&quot;</span>, fc<span class="op">=</span><span class="st">&quot;0.8&quot;</span>)</span>
<span id="cb2-139"><a href="#cb2-139" aria-hidden="true" tabindex="-1"></a>arrow_args <span class="op">=</span> <span class="bu">dict</span>(arrowstyle<span class="op">=</span><span class="st">&quot;&lt;-&quot;</span>)</span>
<span id="cb2-140"><a href="#cb2-140" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-141"><a href="#cb2-141" aria-hidden="true" tabindex="-1"></a>tree <span class="op">=</span> createTree(dataSet, labels)</span>
<span id="cb2-142"><a href="#cb2-142" aria-hidden="true" tabindex="-1"></a>createPlot(tree)</span></code></pre></div>
<p><img src="id3_1.png" /></p>
<p>Aynı kodu LİSP ile görelim,</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode lisp"><code class="sourceCode commonlisp"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co">;;</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="co">;; Ilk kolon, her satir icin kimlik gorevini yapiyor. Yani, d1&#39;i</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="co">;; kullanarak d1 ile baslayan tum veri satirina ulasmak mumkun.</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co">;; Python kodundaki veri farkli olarak ikinci kolondaki etiket degerini</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="co">;; en sona atiyor</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="co">;; </span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="co">;; LISP dilinde bu isi gerceklestirebilmek icin, veri satirindaki bilgileri</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="co">;; anahtar-deger deger cifti olarak kimlik kolonu &#39;uzerinde&#39; sakliyoruz.</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="co">;; LISP komutlarindan &#39;get&#39;, bu isi goruyor. </span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="co">;;</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>(<span class="kw">setf</span> *egitim-verisi*</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>      &#39;(</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>    (d1 EVET EVET HAYIR HAYIR EVET BIRAZ DDD HAYIR EVET FRANSIZ T0)</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>    (d2 HAYIR EVET HAYIR HAYIR EVET DOLU D HAYIR HAYIR TAYLAND T30)</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>    (d3 EVET HAYIR EVET HAYIR HAYIR BIRAZ D HAYIR HAYIR KEBAP T0)</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>    (d4 EVET EVET HAYIR EVET EVET DOLU D EVET HAYIR TAYLAND T10)</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>    (d5 HAYIR EVET HAYIR EVET HAYIR DOLU DDD HAYIR EVET FRANSIZ T60)</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>    (d6 EVET HAYIR EVET HAYIR EVET BIRAZ DD EVET EVET ITALYAN T0)</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>    (d7 HAYIR HAYIR EVET HAYIR HAYIR HIC D EVET HAYIR KEBAP T0)</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>    (d8 EVET HAYIR HAYIR HAYIR EVET BIRAZ DD EVET EVET TAYLAND T0)</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>    (d9 HAYIR HAYIR EVET EVET HAYIR DOLU D EVET HAYIR KEBAP T60)</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>    (d10 HAYIR EVET EVET EVET EVET DOLU DDD HAYIR EVET ITALYAN T10)</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>    (d11 HAYIR HAYIR HAYIR HAYIR HAYIR HIC D HAYIR HAYIR TAYLAND T0)</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>    (d12 EVET EVET EVET EVET EVET DOLU D HAYIR HAYIR KEBAP T30)</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>    ))</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>(<span class="kw">setf</span> *dogru-sayisi* <span class="dv">0</span>)</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>(<span class="kw">setf</span> *yanlis-sayisi* <span class="dv">0</span>)</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>(<span class="kw">setf</span> *toplam-veri-sayisi* <span class="dv">0</span>)</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>(<span class="kw">setf</span> *basliklar*</span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>      &#39;(BEKLEYELIMMI</span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>    BASKA</span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>    BAR</span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>    HAFTASONU</span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>    ACMIYIZ</span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a>    MUSTERILER</span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a>    FIYAT</span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a>    YAGMUR</span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a>    RESERVASYON</span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a>    YEMEKTURU</span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a>    BEKLEMESURESI))</span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-44"><a href="#cb3-44" aria-hidden="true" tabindex="-1"></a>(<span class="kw">defun</span><span class="fu"> deger-koy </span>(baslik satir deger)</span>
<span id="cb3-45"><a href="#cb3-45" aria-hidden="true" tabindex="-1"></a>  (<span class="kw">setf</span> (<span class="kw">get</span> satir baslik) deger))</span>
<span id="cb3-46"><a href="#cb3-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-47"><a href="#cb3-47" aria-hidden="true" tabindex="-1"></a>(<span class="kw">defun</span><span class="fu"> deger-al </span>(baslik satir)</span>
<span id="cb3-48"><a href="#cb3-48" aria-hidden="true" tabindex="-1"></a>  (<span class="kw">get</span> satir baslik))</span>
<span id="cb3-49"><a href="#cb3-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-50"><a href="#cb3-50" aria-hidden="true" tabindex="-1"></a><span class="co">;; uzerinde irdeleme yaptigimiz kolon degerini bulup geri</span></span>
<span id="cb3-51"><a href="#cb3-51" aria-hidden="true" tabindex="-1"></a><span class="co">;; getirir. </span></span>
<span id="cb3-52"><a href="#cb3-52" aria-hidden="true" tabindex="-1"></a>(<span class="kw">defun</span><span class="fu"> hedef-baslik-degeri </span>(satir)</span>
<span id="cb3-53"><a href="#cb3-53" aria-hidden="true" tabindex="-1"></a>  (<span class="kw">get</span> satir <span class="dt">&#39;BEKLEYELIMMI</span>))</span>
<span id="cb3-54"><a href="#cb3-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-55"><a href="#cb3-55" aria-hidden="true" tabindex="-1"></a>(<span class="kw">defun</span><span class="fu"> hedef-baslik </span>() (<span class="kw">return</span> <span class="dt">&#39;BEKLEYELIMMI</span>))</span>
<span id="cb3-56"><a href="#cb3-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-57"><a href="#cb3-57" aria-hidden="true" tabindex="-1"></a>(<span class="kw">defun</span><span class="fu"> veriyi-satirkimligine-cevir </span>(ornekler)</span>
<span id="cb3-58"><a href="#cb3-58" aria-hidden="true" tabindex="-1"></a>  (<span class="kw">loop</span> for satir in ornekler collect</span>
<span id="cb3-59"><a href="#cb3-59" aria-hidden="true" tabindex="-1"></a>    (<span class="kw">car</span> satir)))</span>
<span id="cb3-60"><a href="#cb3-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-61"><a href="#cb3-61" aria-hidden="true" tabindex="-1"></a><span class="co">;; verileri olusturan butun satirlarin irdeleme sonucu ayni mi?</span></span>
<span id="cb3-62"><a href="#cb3-62" aria-hidden="true" tabindex="-1"></a><span class="co">;; yani, verilen satilarinin hepsinin &#39;bekleyelimmi ozelligi</span></span>
<span id="cb3-63"><a href="#cb3-63" aria-hidden="true" tabindex="-1"></a><span class="co">;; ayni cevabi mi tasiyor?</span></span>
<span id="cb3-64"><a href="#cb3-64" aria-hidden="true" tabindex="-1"></a>(<span class="kw">defun</span><span class="fu"> ayni-cevap</span>? (satirlar)</span>
<span id="cb3-65"><a href="#cb3-65" aria-hidden="true" tabindex="-1"></a>  ( <span class="kw">let</span> ((sonuc <span class="kw">nil</span>))</span>
<span id="cb3-66"><a href="#cb3-66" aria-hidden="true" tabindex="-1"></a>    (<span class="kw">setq</span> ilkdeger (hedef-baslik-degeri (<span class="kw">car</span> satirlar)))</span>
<span id="cb3-67"><a href="#cb3-67" aria-hidden="true" tabindex="-1"></a>    (<span class="kw">setf</span> sonuc (<span class="kw">every</span> <span class="op">#&#39;</span>(<span class="kw">lambda</span>(e)</span>
<span id="cb3-68"><a href="#cb3-68" aria-hidden="true" tabindex="-1"></a>               (<span class="kw">equal</span> ilkdeger (hedef-baslik-degeri e)))</span>
<span id="cb3-69"><a href="#cb3-69" aria-hidden="true" tabindex="-1"></a>               (<span class="kw">cdr</span> satirlar))</span>
<span id="cb3-70"><a href="#cb3-70" aria-hidden="true" tabindex="-1"></a>      ) sonuc ))</span>
<span id="cb3-71"><a href="#cb3-71" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb3-72"><a href="#cb3-72" aria-hidden="true" tabindex="-1"></a><span class="co">;; bu islevin, program basladiktan hemen sonra cagrilmasi</span></span>
<span id="cb3-73"><a href="#cb3-73" aria-hidden="true" tabindex="-1"></a><span class="co">;; gerekiyor. anahtar/deger bilgilerini bu fonksiyon yaratip,</span></span>
<span id="cb3-74"><a href="#cb3-74" aria-hidden="true" tabindex="-1"></a><span class="co">;; kimlik sembolu uzerine koyuyor</span></span>
<span id="cb3-75"><a href="#cb3-75" aria-hidden="true" tabindex="-1"></a>(<span class="kw">defun</span><span class="fu"> egitim-verilerini-cevir </span>(veri basliklar)</span>
<span id="cb3-76"><a href="#cb3-76" aria-hidden="true" tabindex="-1"></a>  (<span class="kw">loop</span> for d in veri <span class="kw">do</span></span>
<span id="cb3-77"><a href="#cb3-77" aria-hidden="true" tabindex="-1"></a>    (<span class="kw">loop</span> for baslik in basliklar</span>
<span id="cb3-78"><a href="#cb3-78" aria-hidden="true" tabindex="-1"></a>          as deger in (<span class="kw">cdr</span> d)</span>
<span id="cb3-79"><a href="#cb3-79" aria-hidden="true" tabindex="-1"></a>          <span class="kw">do</span></span>
<span id="cb3-80"><a href="#cb3-80" aria-hidden="true" tabindex="-1"></a>          (<span class="kw">setf</span> kimlik-no (<span class="kw">first</span> d))</span>
<span id="cb3-81"><a href="#cb3-81" aria-hidden="true" tabindex="-1"></a>          (deger-koy baslik kimlik-no deger)</span>
<span id="cb3-82"><a href="#cb3-82" aria-hidden="true" tabindex="-1"></a>          ))</span>
<span id="cb3-83"><a href="#cb3-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-84"><a href="#cb3-84" aria-hidden="true" tabindex="-1"></a>  (<span class="kw">loop</span> for d in veri <span class="kw">do</span></span>
<span id="cb3-85"><a href="#cb3-85" aria-hidden="true" tabindex="-1"></a>    (<span class="kw">if</span> (<span class="kw">equal</span> (hedef-baslik-degeri (<span class="kw">car</span> d)) <span class="dt">&#39;EVET</span>) (<span class="kw">incf</span> *dogru-sayisi*))</span>
<span id="cb3-86"><a href="#cb3-86" aria-hidden="true" tabindex="-1"></a>    (<span class="kw">if</span> (<span class="kw">equal</span> (hedef-baslik-degeri (<span class="kw">car</span> d)) <span class="dt">&#39;EVET</span>) (<span class="kw">incf</span> *yanlis-sayisi*))</span>
<span id="cb3-87"><a href="#cb3-87" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb3-88"><a href="#cb3-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-89"><a href="#cb3-89" aria-hidden="true" tabindex="-1"></a>  (<span class="kw">setf</span> *toplam-veri-sayisi* (<span class="op">+</span> *dogru-sayisi* *yanlis-sayisi*))</span>
<span id="cb3-90"><a href="#cb3-90" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb3-91"><a href="#cb3-91" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-92"><a href="#cb3-92" aria-hidden="true" tabindex="-1"></a><span class="co">;;</span></span>
<span id="cb3-93"><a href="#cb3-93" aria-hidden="true" tabindex="-1"></a><span class="co">;;</span></span>
<span id="cb3-94"><a href="#cb3-94" aria-hidden="true" tabindex="-1"></a><span class="co">;; Iste Algoritma</span></span>
<span id="cb3-95"><a href="#cb3-95" aria-hidden="true" tabindex="-1"></a><span class="co">;;</span></span>
<span id="cb3-96"><a href="#cb3-96" aria-hidden="true" tabindex="-1"></a><span class="co">;;</span></span>
<span id="cb3-97"><a href="#cb3-97" aria-hidden="true" tabindex="-1"></a>(<span class="kw">defun</span><span class="fu"> karar-agaci-egit </span>(ornekler basliklar)</span>
<span id="cb3-98"><a href="#cb3-98" aria-hidden="true" tabindex="-1"></a>  (<span class="kw">let</span> ((sonuc <span class="kw">nil</span>))</span>
<span id="cb3-99"><a href="#cb3-99" aria-hidden="true" tabindex="-1"></a>    <span class="co">;; ornekler, butun egitim verisini olusturur</span></span>
<span id="cb3-100"><a href="#cb3-100" aria-hidden="true" tabindex="-1"></a>    (<span class="kw">cond</span></span>
<span id="cb3-101"><a href="#cb3-101" aria-hidden="true" tabindex="-1"></a>     ((<span class="kw">equal</span> basliklar <span class="kw">nil</span>)</span>
<span id="cb3-102"><a href="#cb3-102" aria-hidden="true" tabindex="-1"></a>      (<span class="kw">setf</span> sonuc (encok-gorulen-deger ornekler)))</span>
<span id="cb3-103"><a href="#cb3-103" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb3-104"><a href="#cb3-104" aria-hidden="true" tabindex="-1"></a>     <span class="co">;; butun satirlarin klasmani ayni ise, bulunan bu klasmani getir</span></span>
<span id="cb3-105"><a href="#cb3-105" aria-hidden="true" tabindex="-1"></a>     <span class="co">;; hepsi ayni ise, herhangi birinin klasmani yeter</span></span>
<span id="cb3-106"><a href="#cb3-106" aria-hidden="true" tabindex="-1"></a>     ((ayni-cevap? ornekler)</span>
<span id="cb3-107"><a href="#cb3-107" aria-hidden="true" tabindex="-1"></a>      (<span class="kw">setf</span> sonuc (hedef-baslik-degeri (<span class="kw">car</span> ornekler))))</span>
<span id="cb3-108"><a href="#cb3-108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-109"><a href="#cb3-109" aria-hidden="true" tabindex="-1"></a>     <span class="co">;; Burada, parca listelerinin listesini olustur. Bu kocaman liste</span></span>
<span id="cb3-110"><a href="#cb3-110" aria-hidden="true" tabindex="-1"></a>     <span class="co">;; elimizdeki veriyi her basligi kullanrak bolmus ve biraraya</span></span>
<span id="cb3-111"><a href="#cb3-111" aria-hidden="true" tabindex="-1"></a>     <span class="co">;; konulmus bir halidir. parca-sec islevi, girdisini boyle bekliyor.</span></span>
<span id="cb3-112"><a href="#cb3-112" aria-hidden="true" tabindex="-1"></a>     (<span class="kw">t</span> (<span class="kw">progn</span></span>
<span id="cb3-113"><a href="#cb3-113" aria-hidden="true" tabindex="-1"></a>      (<span class="kw">setq</span> parca-listenin-listesi</span>
<span id="cb3-114"><a href="#cb3-114" aria-hidden="true" tabindex="-1"></a>        (<span class="kw">loop</span> for baslik in basliklar collect (parcala ornekler baslik)))</span>
<span id="cb3-115"><a href="#cb3-115" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-116"><a href="#cb3-116" aria-hidden="true" tabindex="-1"></a>      (<span class="kw">setf</span> eniyi (parca-sec parca-listenin-listesi))</span>
<span id="cb3-117"><a href="#cb3-117" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-118"><a href="#cb3-118" aria-hidden="true" tabindex="-1"></a>      (<span class="kw">setf</span> sonuc (<span class="kw">cons</span> (<span class="kw">car</span> eniyi)</span>
<span id="cb3-119"><a href="#cb3-119" aria-hidden="true" tabindex="-1"></a>                (<span class="kw">loop</span> for dal in (<span class="kw">cdr</span> eniyi) collect</span>
<span id="cb3-120"><a href="#cb3-120" aria-hidden="true" tabindex="-1"></a>                  (<span class="kw">list</span> (<span class="kw">car</span> dal)</span>
<span id="cb3-121"><a href="#cb3-121" aria-hidden="true" tabindex="-1"></a>                    (karar-agaci-egit</span>
<span id="cb3-122"><a href="#cb3-122" aria-hidden="true" tabindex="-1"></a>                     (<span class="kw">cdr</span> dal)</span>
<span id="cb3-123"><a href="#cb3-123" aria-hidden="true" tabindex="-1"></a>                     (<span class="kw">remove</span> (<span class="kw">car</span> eniyi) basliklar))</span>
<span id="cb3-124"><a href="#cb3-124" aria-hidden="true" tabindex="-1"></a>                    ))</span>
<span id="cb3-125"><a href="#cb3-125" aria-hidden="true" tabindex="-1"></a>                ))</span>
<span id="cb3-126"><a href="#cb3-126" aria-hidden="true" tabindex="-1"></a>      ))</span>
<span id="cb3-127"><a href="#cb3-127" aria-hidden="true" tabindex="-1"></a>     </span>
<span id="cb3-128"><a href="#cb3-128" aria-hidden="true" tabindex="-1"></a>     ) sonuc ))</span>
<span id="cb3-129"><a href="#cb3-129" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-130"><a href="#cb3-130" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-131"><a href="#cb3-131" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-132"><a href="#cb3-132" aria-hidden="true" tabindex="-1"></a>(<span class="kw">defun</span><span class="fu"> kazanc </span>(parca-listesi)</span>
<span id="cb3-133"><a href="#cb3-133" aria-hidden="true" tabindex="-1"></a>  (<span class="kw">let</span> ((kazanc <span class="dv">0</span>))</span>
<span id="cb3-134"><a href="#cb3-134" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-135"><a href="#cb3-135" aria-hidden="true" tabindex="-1"></a>    <span class="co">;; Burada ufak bir numaraya dikkat. Gecici bir sekilde, parcalari</span></span>
<span id="cb3-136"><a href="#cb3-136" aria-hidden="true" tabindex="-1"></a>    <span class="co">;; &quot;butun&quot; tek parcaya topluyoruz ki bolunmeden onceki bilgi</span></span>
<span id="cb3-137"><a href="#cb3-137" aria-hidden="true" tabindex="-1"></a>    <span class="co">;; icerigini hesaplayabilelim.</span></span>
<span id="cb3-138"><a href="#cb3-138" aria-hidden="true" tabindex="-1"></a>    (<span class="kw">setf</span> birlesim (<span class="kw">reduce</span> <span class="op">#&#39;</span>append (<span class="kw">cdr</span> parca-listesi)))</span>
<span id="cb3-139"><a href="#cb3-139" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-140"><a href="#cb3-140" aria-hidden="true" tabindex="-1"></a>    (<span class="kw">setf</span> ust-bilgi-icerigi</span>
<span id="cb3-141"><a href="#cb3-141" aria-hidden="true" tabindex="-1"></a>      (parca-bilgi-icerigi birlesim))</span>
<span id="cb3-142"><a href="#cb3-142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-143"><a href="#cb3-143" aria-hidden="true" tabindex="-1"></a>    (<span class="kw">setf</span> cocuklarin-bilgi-icerigi (bilgi-icerigi parca-listesi))</span>
<span id="cb3-144"><a href="#cb3-144" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-145"><a href="#cb3-145" aria-hidden="true" tabindex="-1"></a>    (<span class="kw">setf</span> kazanc (<span class="op">-</span> ust-bilgi-icerigi cocuklarin-bilgi-icerigi))</span>
<span id="cb3-146"><a href="#cb3-146" aria-hidden="true" tabindex="-1"></a>    kazanc ))</span>
<span id="cb3-147"><a href="#cb3-147" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-148"><a href="#cb3-148" aria-hidden="true" tabindex="-1"></a>(<span class="kw">defun</span><span class="fu"> bilgi-icerigi </span>(parca-listesi)</span>
<span id="cb3-149"><a href="#cb3-149" aria-hidden="true" tabindex="-1"></a>  <span class="co">;; her parcanin bilgi icerigini hesaplayip bu degerleri topla</span></span>
<span id="cb3-150"><a href="#cb3-150" aria-hidden="true" tabindex="-1"></a>  (<span class="kw">let</span> ((toplam <span class="dv">0</span>))</span>
<span id="cb3-151"><a href="#cb3-151" aria-hidden="true" tabindex="-1"></a>    (<span class="kw">dolist</span> (parca (<span class="kw">cdr</span> parca-listesi)) <span class="co">;; cdr komutu baslik kismini kesip atiyor</span></span>
<span id="cb3-152"><a href="#cb3-152" aria-hidden="true" tabindex="-1"></a>      (<span class="kw">incf</span> toplam</span>
<span id="cb3-153"><a href="#cb3-153" aria-hidden="true" tabindex="-1"></a>        (parca-bilgi-icerigi parca))</span>
<span id="cb3-154"><a href="#cb3-154" aria-hidden="true" tabindex="-1"></a>      ) toplam ))</span>
<span id="cb3-155"><a href="#cb3-155" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-156"><a href="#cb3-156" aria-hidden="true" tabindex="-1"></a>(<span class="kw">defun</span><span class="fu"> encok-gorulen-deger </span>(baslik satirlar)</span>
<span id="cb3-157"><a href="#cb3-157" aria-hidden="true" tabindex="-1"></a>  (<span class="kw">let</span> ((enuzun <span class="kw">nil</span>))</span>
<span id="cb3-158"><a href="#cb3-158" aria-hidden="true" tabindex="-1"></a>    (<span class="kw">loop</span> for p in (parcala baslik satirlar) <span class="kw">do</span></span>
<span id="cb3-159"><a href="#cb3-159" aria-hidden="true" tabindex="-1"></a>          (<span class="kw">when</span> (<span class="op">&gt;</span> (<span class="kw">length</span> p) <span class="kw">length</span>)</span>
<span id="cb3-160"><a href="#cb3-160" aria-hidden="true" tabindex="-1"></a>            (<span class="kw">setq</span> <span class="kw">length</span> (<span class="kw">length</span> p))</span>
<span id="cb3-161"><a href="#cb3-161" aria-hidden="true" tabindex="-1"></a>            (<span class="kw">setq</span> enuzun p)))</span>
<span id="cb3-162"><a href="#cb3-162" aria-hidden="true" tabindex="-1"></a>    (<span class="kw">car</span> enuzun)))</span>
<span id="cb3-163"><a href="#cb3-163" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-164"><a href="#cb3-164" aria-hidden="true" tabindex="-1"></a>(<span class="kw">defun</span><span class="fu"> parca-bilgi-icerigi </span>(parca)</span>
<span id="cb3-165"><a href="#cb3-165" aria-hidden="true" tabindex="-1"></a>  <span class="co">;; bu parca icindeki dogru ve yanlis satirlari say. Dogru</span></span>
<span id="cb3-166"><a href="#cb3-166" aria-hidden="true" tabindex="-1"></a>  <span class="co">;; ve yanlis &#39;hedef basligina&#39; gore bulunuyor tabii</span></span>
<span id="cb3-167"><a href="#cb3-167" aria-hidden="true" tabindex="-1"></a>  (<span class="kw">let</span> ((dogru-sayisi <span class="dv">0</span>)(yanlis-sayisi <span class="dv">0</span>))</span>
<span id="cb3-168"><a href="#cb3-168" aria-hidden="true" tabindex="-1"></a>    (<span class="kw">dolist</span> (kimlik-no parca)</span>
<span id="cb3-169"><a href="#cb3-169" aria-hidden="true" tabindex="-1"></a>      (<span class="kw">cond</span></span>
<span id="cb3-170"><a href="#cb3-170" aria-hidden="true" tabindex="-1"></a>       <span class="co">;; eger satir BEKLEYELIMMI=EVET ise</span></span>
<span id="cb3-171"><a href="#cb3-171" aria-hidden="true" tabindex="-1"></a>       ((<span class="kw">and</span> (<span class="kw">member</span> kimlik-no parca)</span>
<span id="cb3-172"><a href="#cb3-172" aria-hidden="true" tabindex="-1"></a>         (<span class="kw">equal</span> (hedef-baslik-degeri kimlik-no) <span class="dt">&#39;EVET</span>))</span>
<span id="cb3-173"><a href="#cb3-173" aria-hidden="true" tabindex="-1"></a>    (<span class="kw">incf</span> dogru-sayisi))</span>
<span id="cb3-174"><a href="#cb3-174" aria-hidden="true" tabindex="-1"></a>       <span class="co">;; eger satir BEKLEYELIMMI=HAYIR ise</span></span>
<span id="cb3-175"><a href="#cb3-175" aria-hidden="true" tabindex="-1"></a>       ((<span class="kw">and</span> (<span class="kw">member</span> kimlik-no parca)</span>
<span id="cb3-176"><a href="#cb3-176" aria-hidden="true" tabindex="-1"></a>         (<span class="kw">equal</span> (hedef-baslik-degeri kimlik-no) <span class="dt">&#39;HAYIR</span>))</span>
<span id="cb3-177"><a href="#cb3-177" aria-hidden="true" tabindex="-1"></a>    (<span class="kw">incf</span> yanlis-sayisi))</span>
<span id="cb3-178"><a href="#cb3-178" aria-hidden="true" tabindex="-1"></a>       (<span class="kw">t</span> <span class="kw">nil</span>))</span>
<span id="cb3-179"><a href="#cb3-179" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb3-180"><a href="#cb3-180" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-181"><a href="#cb3-181" aria-hidden="true" tabindex="-1"></a>    (<span class="kw">setf</span> toplam (<span class="op">+</span> dogru-sayisi yanlis-sayisi))</span>
<span id="cb3-182"><a href="#cb3-182" aria-hidden="true" tabindex="-1"></a>    (<span class="kw">setf</span> dogru-orani (<span class="op">/</span> dogru-sayisi toplam))</span>
<span id="cb3-183"><a href="#cb3-183" aria-hidden="true" tabindex="-1"></a>    (<span class="kw">setf</span> yanlis-orani (<span class="op">/</span> yanlis-sayisi toplam))</span>
<span id="cb3-184"><a href="#cb3-184" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-185"><a href="#cb3-185" aria-hidden="true" tabindex="-1"></a>    <span class="co">;; Asagida gorulan (zerop ..) kullanimi guzel bir LISP numarasi.</span></span>
<span id="cb3-186"><a href="#cb3-186" aria-hidden="true" tabindex="-1"></a>    <span class="co">;; Eger dogru-orani 0 ise, hesabin geri kalani icin 0 kullan.</span></span>
<span id="cb3-187"><a href="#cb3-187" aria-hidden="true" tabindex="-1"></a>    <span class="co">;; Fakat (zerop xx) 0 ise, yani xx 0 degil ise :), o zaman</span></span>
<span id="cb3-188"><a href="#cb3-188" aria-hidden="true" tabindex="-1"></a>    <span class="co">;; log hesabini yap. Vay anasini.</span></span>
<span id="cb3-189"><a href="#cb3-189" aria-hidden="true" tabindex="-1"></a>    <span class="co">;; Bu numaradan once &#39;sifirla bolunme (division by zero)&#39; hatasi</span></span>
<span id="cb3-190"><a href="#cb3-190" aria-hidden="true" tabindex="-1"></a>    <span class="co">;; aliyordum. log 0 hesap edilir bir deger degil demek ki,</span></span>
<span id="cb3-191"><a href="#cb3-191" aria-hidden="true" tabindex="-1"></a>    <span class="co">;; tanim olarak 0 oldugu kabul ediliyor. Sinifta hoca da oyle</span></span>
<span id="cb3-192"><a href="#cb3-192" aria-hidden="true" tabindex="-1"></a>    <span class="co">;; soylemisti.</span></span>
<span id="cb3-193"><a href="#cb3-193" aria-hidden="true" tabindex="-1"></a>    (<span class="kw">setf</span> logp (<span class="op">*</span> (<span class="op">*</span> -1 dogru-orani)</span>
<span id="cb3-194"><a href="#cb3-194" aria-hidden="true" tabindex="-1"></a>          (<span class="kw">if</span> (<span class="kw">zerop</span> dogru-orani) <span class="dv">0</span> (<span class="kw">log</span> dogru-orani <span class="dv">2</span>))))</span>
<span id="cb3-195"><a href="#cb3-195" aria-hidden="true" tabindex="-1"></a>    (<span class="kw">setf</span> logn (<span class="op">*</span> (<span class="op">*</span> -1 yanlis-orani)</span>
<span id="cb3-196"><a href="#cb3-196" aria-hidden="true" tabindex="-1"></a>          (<span class="kw">if</span> (<span class="kw">zerop</span> yanlis-orani) <span class="dv">0</span> (<span class="kw">log</span> yanlis-orani <span class="dv">2</span>))))</span>
<span id="cb3-197"><a href="#cb3-197" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-198"><a href="#cb3-198" aria-hidden="true" tabindex="-1"></a>    (<span class="kw">setf</span> log-toplam (<span class="op">+</span> logp logn))</span>
<span id="cb3-199"><a href="#cb3-199" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-200"><a href="#cb3-200" aria-hidden="true" tabindex="-1"></a>    (<span class="kw">setf</span> butune-olan-d-y-orani (<span class="op">/</span> toplam *toplam-veri-sayisi*))</span>
<span id="cb3-201"><a href="#cb3-201" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-202"><a href="#cb3-202" aria-hidden="true" tabindex="-1"></a>    (<span class="kw">setf</span> bilgi-icerik (<span class="op">*</span> log-toplam butune-olan-d-y-orani))</span>
<span id="cb3-203"><a href="#cb3-203" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-204"><a href="#cb3-204" aria-hidden="true" tabindex="-1"></a>    bilgi-icerik ))</span>
<span id="cb3-205"><a href="#cb3-205" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-206"><a href="#cb3-206" aria-hidden="true" tabindex="-1"></a><span class="co">;;</span></span>
<span id="cb3-207"><a href="#cb3-207" aria-hidden="true" tabindex="-1"></a><span class="co">;; veriyi bolmek icin en iyi basligi bul</span></span>
<span id="cb3-208"><a href="#cb3-208" aria-hidden="true" tabindex="-1"></a>(<span class="kw">defun</span><span class="fu"> parca-sec </span>(parca-listenin-listesi)</span>
<span id="cb3-209"><a href="#cb3-209" aria-hidden="true" tabindex="-1"></a>  <span class="co">;;</span></span>
<span id="cb3-210"><a href="#cb3-210" aria-hidden="true" tabindex="-1"></a>  <span class="co">;;</span></span>
<span id="cb3-211"><a href="#cb3-211" aria-hidden="true" tabindex="-1"></a>  (<span class="kw">let</span> ((sonuc (<span class="kw">car</span> parca-listenin-listesi)))    </span>
<span id="cb3-212"><a href="#cb3-212" aria-hidden="true" tabindex="-1"></a>    (<span class="kw">dolist</span> (parca-listesi parca-listenin-listesi)</span>
<span id="cb3-213"><a href="#cb3-213" aria-hidden="true" tabindex="-1"></a>      (<span class="kw">if</span> (<span class="op">&gt;</span> (kazanc parca-listesi)</span>
<span id="cb3-214"><a href="#cb3-214" aria-hidden="true" tabindex="-1"></a>         (kazanc sonuc))</span>
<span id="cb3-215"><a href="#cb3-215" aria-hidden="true" tabindex="-1"></a>      (<span class="kw">setf</span> sonuc parca-listesi)))</span>
<span id="cb3-216"><a href="#cb3-216" aria-hidden="true" tabindex="-1"></a>    sonuc ))</span>
<span id="cb3-217"><a href="#cb3-217" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-218"><a href="#cb3-218" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-219"><a href="#cb3-219" aria-hidden="true" tabindex="-1"></a><span class="co">;; karar agacina bunun ile soru sorabilirsin.</span></span>
<span id="cb3-220"><a href="#cb3-220" aria-hidden="true" tabindex="-1"></a>(<span class="kw">defun</span><span class="fu"> soru-sor </span>(satir agac)</span>
<span id="cb3-221"><a href="#cb3-221" aria-hidden="true" tabindex="-1"></a>  (<span class="kw">let</span> (deger dal)</span>
<span id="cb3-222"><a href="#cb3-222" aria-hidden="true" tabindex="-1"></a>    (<span class="kw">if</span> (<span class="kw">atom</span> agac) (<span class="kw">return-from</span> soru-sor agac))</span>
<span id="cb3-223"><a href="#cb3-223" aria-hidden="true" tabindex="-1"></a>    (<span class="kw">setf</span> deger (deger-al (<span class="kw">car</span> agac) satir))</span>
<span id="cb3-224"><a href="#cb3-224" aria-hidden="true" tabindex="-1"></a>    (<span class="kw">setf</span> dal (<span class="kw">second</span> (<span class="kw">assoc</span> deger (<span class="kw">cdr</span> agac))))</span>
<span id="cb3-225"><a href="#cb3-225" aria-hidden="true" tabindex="-1"></a>    (soru-sor satir dal)))</span>
<span id="cb3-226"><a href="#cb3-226" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-227"><a href="#cb3-227" aria-hidden="true" tabindex="-1"></a><span class="co">;;</span></span>
<span id="cb3-228"><a href="#cb3-228" aria-hidden="true" tabindex="-1"></a><span class="co">;; Verilen basliga gore veriye bakar, basligin altindaki verinin</span></span>
<span id="cb3-229"><a href="#cb3-229" aria-hidden="true" tabindex="-1"></a><span class="co">;; tekabul eden degerine gore guruplama yapip, veriyi parcalara ayirir</span></span>
<span id="cb3-230"><a href="#cb3-230" aria-hidden="true" tabindex="-1"></a>(<span class="kw">defun</span><span class="fu"> parcala </span>(satirlar baslik)</span>
<span id="cb3-231"><a href="#cb3-231" aria-hidden="true" tabindex="-1"></a>  (<span class="kw">let</span> ((gecici-liste ())(e <span class="kw">nil</span>)(kimlik-no <span class="kw">nil</span>)(bulunanlar-sayisi <span class="dv">0</span>)(iteration <span class="dv">0</span>))</span>
<span id="cb3-232"><a href="#cb3-232" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-233"><a href="#cb3-233" aria-hidden="true" tabindex="-1"></a>    (<span class="kw">dolist</span> (kimlik-no satirlar)</span>
<span id="cb3-234"><a href="#cb3-234" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-235"><a href="#cb3-235" aria-hidden="true" tabindex="-1"></a>      (<span class="kw">setf</span> dongu <span class="dv">0</span>)</span>
<span id="cb3-236"><a href="#cb3-236" aria-hidden="true" tabindex="-1"></a>      (<span class="kw">setf</span> bulunanlar-sayisi -1)</span>
<span id="cb3-237"><a href="#cb3-237" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb3-238"><a href="#cb3-238" aria-hidden="true" tabindex="-1"></a>      <span class="co">;; eger konol degeri zaten mevcut ise, kimlik-no&#39;yi bu alt</span></span>
<span id="cb3-239"><a href="#cb3-239" aria-hidden="true" tabindex="-1"></a>      <span class="co">;; listeye ekle</span></span>
<span id="cb3-240"><a href="#cb3-240" aria-hidden="true" tabindex="-1"></a>      (<span class="kw">dolist</span> (su-anki-parca gecici-liste)</span>
<span id="cb3-241"><a href="#cb3-241" aria-hidden="true" tabindex="-1"></a>    <span class="co">;; su anki parcanin ilk satirina bakmak yeterli, cunku</span></span>
<span id="cb3-242"><a href="#cb3-242" aria-hidden="true" tabindex="-1"></a>    <span class="co">;; otekilerinde degeri ayni olacak</span></span>
<span id="cb3-243"><a href="#cb3-243" aria-hidden="true" tabindex="-1"></a>    (<span class="kw">setf</span> su-anki-ornek-deger (<span class="kw">car</span> su-anki-parca))</span>
<span id="cb3-244"><a href="#cb3-244" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-245"><a href="#cb3-245" aria-hidden="true" tabindex="-1"></a>    <span class="co">;; degerler ayni ise</span></span>
<span id="cb3-246"><a href="#cb3-246" aria-hidden="true" tabindex="-1"></a>    (<span class="kw">if</span> (<span class="kw">equal</span> su-anki-ornek-deger (deger-al baslik kimlik-no))</span>
<span id="cb3-247"><a href="#cb3-247" aria-hidden="true" tabindex="-1"></a>        (<span class="kw">progn</span></span>
<span id="cb3-248"><a href="#cb3-248" aria-hidden="true" tabindex="-1"></a>          <span class="co">;; demekki satir bu parcaya ait. ekle.</span></span>
<span id="cb3-249"><a href="#cb3-249" aria-hidden="true" tabindex="-1"></a>          (<span class="kw">setf</span> bulunanlar-sayisi dongu)</span>
<span id="cb3-250"><a href="#cb3-250" aria-hidden="true" tabindex="-1"></a>          (<span class="kw">return</span>)</span>
<span id="cb3-251"><a href="#cb3-251" aria-hidden="true" tabindex="-1"></a>          )</span>
<span id="cb3-252"><a href="#cb3-252" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb3-253"><a href="#cb3-253" aria-hidden="true" tabindex="-1"></a>    (<span class="kw">incf</span> dongu)</span>
<span id="cb3-254"><a href="#cb3-254" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-255"><a href="#cb3-255" aria-hidden="true" tabindex="-1"></a>    ) <span class="co">;; dolist sonu</span></span>
<span id="cb3-256"><a href="#cb3-256" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-257"><a href="#cb3-257" aria-hidden="true" tabindex="-1"></a>      (<span class="kw">if</span> (<span class="op">&gt;</span> bulunanlar-sayisi -1)</span>
<span id="cb3-258"><a href="#cb3-258" aria-hidden="true" tabindex="-1"></a>      (<span class="kw">progn</span></span>
<span id="cb3-259"><a href="#cb3-259" aria-hidden="true" tabindex="-1"></a>        <span class="co">;; buraya dikkat edin; bir liste icerigini degil, gostergecini</span></span>
<span id="cb3-260"><a href="#cb3-260" aria-hidden="true" tabindex="-1"></a>        <span class="co">;; (pointer) degistiriyoruz. Nth&#39;in geri getirdigi, normal</span></span>
<span id="cb3-261"><a href="#cb3-261" aria-hidden="true" tabindex="-1"></a>        <span class="co">;; deger degil, gostergec degeri. Yeni listenin gostergecini bu deger</span></span>
<span id="cb3-262"><a href="#cb3-262" aria-hidden="true" tabindex="-1"></a>        <span class="co">;; uzerine yazinca, eski liste kaybolmus oluyor.</span></span>
<span id="cb3-263"><a href="#cb3-263" aria-hidden="true" tabindex="-1"></a>        <span class="co">;; Yeni liste bir oncekinin bir fazlasi aslinda..</span></span>
<span id="cb3-264"><a href="#cb3-264" aria-hidden="true" tabindex="-1"></a>        (<span class="kw">setf</span> (<span class="kw">nth</span> bulunanlar-sayisi gecici-liste)</span>
<span id="cb3-265"><a href="#cb3-265" aria-hidden="true" tabindex="-1"></a>          (<span class="kw">append</span> (<span class="kw">nth</span> bulunanlar-sayisi gecici-liste) (<span class="kw">list</span> kimlik-no)))</span>
<span id="cb3-266"><a href="#cb3-266" aria-hidden="true" tabindex="-1"></a>        ))</span>
<span id="cb3-267"><a href="#cb3-267" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-268"><a href="#cb3-268" aria-hidden="true" tabindex="-1"></a>      <span class="co">;; yoksa, yeni bir alt-liste baslat, ve gecici-listeye ekle</span></span>
<span id="cb3-269"><a href="#cb3-269" aria-hidden="true" tabindex="-1"></a>      (<span class="kw">if</span> (<span class="kw">equal</span> bulunanlar-sayisi -1)</span>
<span id="cb3-270"><a href="#cb3-270" aria-hidden="true" tabindex="-1"></a>      (<span class="kw">progn</span></span>
<span id="cb3-271"><a href="#cb3-271" aria-hidden="true" tabindex="-1"></a>        (<span class="kw">setf</span> gecici-liste</span>
<span id="cb3-272"><a href="#cb3-272" aria-hidden="true" tabindex="-1"></a>          (<span class="kw">append</span> gecici-liste</span>
<span id="cb3-273"><a href="#cb3-273" aria-hidden="true" tabindex="-1"></a>              (<span class="kw">list</span> (<span class="kw">list</span> (deger-al baslik kimlik-no) kimlik-no))))</span>
<span id="cb3-274"><a href="#cb3-274" aria-hidden="true" tabindex="-1"></a>        ))</span>
<span id="cb3-275"><a href="#cb3-275" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb3-276"><a href="#cb3-276" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb3-277"><a href="#cb3-277" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-278"><a href="#cb3-278" aria-hidden="true" tabindex="-1"></a>    <span class="co">;; baslik degerini listenin onune koy</span></span>
<span id="cb3-279"><a href="#cb3-279" aria-hidden="true" tabindex="-1"></a>    (<span class="kw">setf</span> gecici-liste (<span class="kw">append</span> (<span class="kw">list</span> baslik) gecici-liste))</span>
<span id="cb3-280"><a href="#cb3-280" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-281"><a href="#cb3-281" aria-hidden="true" tabindex="-1"></a>    gecici-liste</span>
<span id="cb3-282"><a href="#cb3-282" aria-hidden="true" tabindex="-1"></a>    ))</span>
<span id="cb3-283"><a href="#cb3-283" aria-hidden="true" tabindex="-1"></a>                  </span>
<span id="cb3-284"><a href="#cb3-284" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-285"><a href="#cb3-285" aria-hidden="true" tabindex="-1"></a>(<span class="kw">defun</span><span class="fu"> agac-goster </span>(agac &amp;optional (derinlik <span class="dv">0</span>))</span>
<span id="cb3-286"><a href="#cb3-286" aria-hidden="true" tabindex="-1"></a>  (tab derinlik)</span>
<span id="cb3-287"><a href="#cb3-287" aria-hidden="true" tabindex="-1"></a>  (<span class="kw">format</span> <span class="kw">t</span> <span class="st">&quot;~A~%&quot;</span> (<span class="kw">first</span> agac))</span>
<span id="cb3-288"><a href="#cb3-288" aria-hidden="true" tabindex="-1"></a>  (<span class="kw">loop</span> for alt-agac in (<span class="kw">cdr</span> agac) <span class="kw">do</span></span>
<span id="cb3-289"><a href="#cb3-289" aria-hidden="true" tabindex="-1"></a>        (tab (<span class="op">+</span> derinlik <span class="dv">1</span>))</span>
<span id="cb3-290"><a href="#cb3-290" aria-hidden="true" tabindex="-1"></a>        (<span class="kw">format</span> <span class="kw">t</span> <span class="st">&quot;= ~A&quot;</span> (<span class="kw">first</span> alt-agac))</span>
<span id="cb3-291"><a href="#cb3-291" aria-hidden="true" tabindex="-1"></a>        (<span class="kw">if</span> (<span class="kw">atom</span> (<span class="kw">second</span> alt-agac))</span>
<span id="cb3-292"><a href="#cb3-292" aria-hidden="true" tabindex="-1"></a>        (<span class="kw">format</span> <span class="kw">t</span> <span class="st">&quot; =&gt; ~A~%&quot;</span> (<span class="kw">second</span> alt-agac))</span>
<span id="cb3-293"><a href="#cb3-293" aria-hidden="true" tabindex="-1"></a>          (<span class="kw">progn</span> (<span class="kw">terpri</span>)(agac-goster (<span class="kw">second</span> alt-agac) (<span class="op">+</span> derinlik <span class="dv">5</span>))))))</span>
<span id="cb3-294"><a href="#cb3-294" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-295"><a href="#cb3-295" aria-hidden="true" tabindex="-1"></a>(<span class="kw">defun</span><span class="fu"> tab </span>(n)</span>
<span id="cb3-296"><a href="#cb3-296" aria-hidden="true" tabindex="-1"></a>  (<span class="kw">loop</span> for i from <span class="dv">1</span> to n <span class="kw">do</span> (<span class="kw">format</span> <span class="kw">t</span> <span class="st">&quot; &quot;</span>)))</span>
<span id="cb3-297"><a href="#cb3-297" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-298"><a href="#cb3-298" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-299"><a href="#cb3-299" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-300"><a href="#cb3-300" aria-hidden="true" tabindex="-1"></a><span class="co">;; bu satiri silme</span></span>
<span id="cb3-301"><a href="#cb3-301" aria-hidden="true" tabindex="-1"></a>(egitim-verilerini-cevir *egitim-verisi* *basliklar*)</span>
<span id="cb3-302"><a href="#cb3-302" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-303"><a href="#cb3-303" aria-hidden="true" tabindex="-1"></a><span class="co">;;</span></span>
<span id="cb3-304"><a href="#cb3-304" aria-hidden="true" tabindex="-1"></a><span class="co">;; testler</span></span>
<span id="cb3-305"><a href="#cb3-305" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-306"><a href="#cb3-306" aria-hidden="true" tabindex="-1"></a><span class="co">;;</span></span>
<span id="cb3-307"><a href="#cb3-307" aria-hidden="true" tabindex="-1"></a><span class="co">;; test degerlendiren fonksiyon</span></span>
<span id="cb3-308"><a href="#cb3-308" aria-hidden="true" tabindex="-1"></a>(<span class="kw">defun</span><span class="fu"> test </span>(isim deyim sonuc)</span>
<span id="cb3-309"><a href="#cb3-309" aria-hidden="true" tabindex="-1"></a>  (<span class="kw">cond</span></span>
<span id="cb3-310"><a href="#cb3-310" aria-hidden="true" tabindex="-1"></a>   ((<span class="kw">equal</span> deyim sonuc) <span class="kw">t</span>)</span>
<span id="cb3-311"><a href="#cb3-311" aria-hidden="true" tabindex="-1"></a>   (<span class="kw">t</span> (<span class="kw">print</span> isim) (<span class="kw">error</span> <span class="st">&quot;HATA! Birim Testler Hata Yakaladi! &quot;</span>))  </span>
<span id="cb3-312"><a href="#cb3-312" aria-hidden="true" tabindex="-1"></a>   ))</span>
<span id="cb3-313"><a href="#cb3-313" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-314"><a href="#cb3-314" aria-hidden="true" tabindex="-1"></a><span class="co">;; her sembolun bir ozellik listesi var</span></span>
<span id="cb3-315"><a href="#cb3-315" aria-hidden="true" tabindex="-1"></a>(test <span class="st">&quot;ozellik listesi bos olan sembol&quot;</span> (<span class="kw">get</span> <span class="dt">&#39;ornek-sembol</span> <span class="dt">&#39;baharatlar</span>) NIL)</span>
<span id="cb3-316"><a href="#cb3-316" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-317"><a href="#cb3-317" aria-hidden="true" tabindex="-1"></a><span class="co">;; her sembolun bir ozellik listesi var</span></span>
<span id="cb3-318"><a href="#cb3-318" aria-hidden="true" tabindex="-1"></a>(<span class="kw">setf</span> (<span class="kw">get</span> <span class="dt">&#39;ornek-sembol</span> <span class="dt">&#39;baharatlar</span>) <span class="dt">&#39;tuz</span>) </span>
<span id="cb3-319"><a href="#cb3-319" aria-hidden="true" tabindex="-1"></a>(test <span class="st">&quot;ornek sembole baska bir deger ekle&quot;</span> (<span class="kw">get</span> <span class="dt">&#39;ornek-sembol</span> <span class="dt">&#39;baharatlar</span>) <span class="dt">&#39;tuz</span>)</span>
<span id="cb3-320"><a href="#cb3-320" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-321"><a href="#cb3-321" aria-hidden="true" tabindex="-1"></a><span class="co">;; her sembolun bir ozellik listesi var</span></span>
<span id="cb3-322"><a href="#cb3-322" aria-hidden="true" tabindex="-1"></a>(<span class="kw">setf</span> (<span class="kw">get</span> <span class="dt">&#39;ornek-sembol</span> <span class="dt">&#39;tatlilar</span>) <span class="dt">&#39;baklava</span>) </span>
<span id="cb3-323"><a href="#cb3-323" aria-hidden="true" tabindex="-1"></a>(test <span class="st">&quot;degisik bir sembole birsey ekle&quot;</span></span>
<span id="cb3-324"><a href="#cb3-324" aria-hidden="true" tabindex="-1"></a>      (<span class="kw">get</span> <span class="dt">&#39;ornek-sembol</span> <span class="dt">&#39;tatlilar</span>) <span class="dt">&#39;baklava</span>)</span>
<span id="cb3-325"><a href="#cb3-325" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-326"><a href="#cb3-326" aria-hidden="true" tabindex="-1"></a><span class="co">;; baslik degerini eriselim</span></span>
<span id="cb3-327"><a href="#cb3-327" aria-hidden="true" tabindex="-1"></a>(test <span class="st">&quot;tablo dogru kuruldu&quot;</span> (hedef-baslik-degeri <span class="dt">&#39;d1</span>) <span class="dt">&#39;EVET</span>)</span>
<span id="cb3-328"><a href="#cb3-328" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-329"><a href="#cb3-329" aria-hidden="true" tabindex="-1"></a><span class="co">;; yemekturu uzerinde parcalara ayiralim</span></span>
<span id="cb3-330"><a href="#cb3-330" aria-hidden="true" tabindex="-1"></a>(<span class="kw">setf</span> beklenen-parcalar &#39;(YEMEKTURU (FRANSIZ D1 D5)</span>
<span id="cb3-331"><a href="#cb3-331" aria-hidden="true" tabindex="-1"></a>                    (TAYLAND D2 D4 D8 D11)</span>
<span id="cb3-332"><a href="#cb3-332" aria-hidden="true" tabindex="-1"></a>                    (KEBAP D3 D7 D9 D12)</span>
<span id="cb3-333"><a href="#cb3-333" aria-hidden="true" tabindex="-1"></a>                    (ITALYAN D6 D10)))</span>
<span id="cb3-334"><a href="#cb3-334" aria-hidden="true" tabindex="-1"></a>(test <span class="st">&quot;parcala (yemekturu)&quot;</span></span>
<span id="cb3-335"><a href="#cb3-335" aria-hidden="true" tabindex="-1"></a>      (parcala (veriyi-satirkimligine-cevir *egitim-verisi*) <span class="dt">&#39;YEMEKTURU</span>)</span>
<span id="cb3-336"><a href="#cb3-336" aria-hidden="true" tabindex="-1"></a>      beklenen-parcalar)</span>
<span id="cb3-337"><a href="#cb3-337" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-338"><a href="#cb3-338" aria-hidden="true" tabindex="-1"></a><span class="co">;; musteriler uzerinde parcalara ayiralim</span></span>
<span id="cb3-339"><a href="#cb3-339" aria-hidden="true" tabindex="-1"></a>(<span class="kw">setf</span> beklenen-parcalar &#39;(MUSTERILER (BIRAZ D1 D3 D6 D8)</span>
<span id="cb3-340"><a href="#cb3-340" aria-hidden="true" tabindex="-1"></a>                     (DOLU D2 D4 D5 D9 D10 D12)</span>
<span id="cb3-341"><a href="#cb3-341" aria-hidden="true" tabindex="-1"></a>                     (HIC D7 D11)))</span>
<span id="cb3-342"><a href="#cb3-342" aria-hidden="true" tabindex="-1"></a>(test <span class="st">&quot;musteriler uzerinden parcala&quot;</span></span>
<span id="cb3-343"><a href="#cb3-343" aria-hidden="true" tabindex="-1"></a>     (parcala (veriyi-satirkimligine-cevir *egitim-verisi*) <span class="dt">&#39;musteriler</span>)</span>
<span id="cb3-344"><a href="#cb3-344" aria-hidden="true" tabindex="-1"></a>     beklenen-parcalar)</span>
<span id="cb3-345"><a href="#cb3-345" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-346"><a href="#cb3-346" aria-hidden="true" tabindex="-1"></a><span class="co">;; bilgi icerigi</span></span>
<span id="cb3-347"><a href="#cb3-347" aria-hidden="true" tabindex="-1"></a>(<span class="kw">setf</span> *toplam-veri-sayisi* <span class="dv">12</span>)</span>
<span id="cb3-348"><a href="#cb3-348" aria-hidden="true" tabindex="-1"></a>(test <span class="st">&quot;bilgi icerigi&quot;</span> (parca-bilgi-icerigi</span>
<span id="cb3-349"><a href="#cb3-349" aria-hidden="true" tabindex="-1"></a>              (veriyi-satirkimligine-cevir *egitim-verisi*))</span>
<span id="cb3-350"><a href="#cb3-350" aria-hidden="true" tabindex="-1"></a>     <span class="dv">1</span>)</span>
<span id="cb3-351"><a href="#cb3-351" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-352"><a href="#cb3-352" aria-hidden="true" tabindex="-1"></a><span class="co">;; eniyi parcayi bul, MUSTERILER basliginin secilmesi lazim.</span></span>
<span id="cb3-353"><a href="#cb3-353" aria-hidden="true" tabindex="-1"></a>(<span class="kw">setf</span> yemekturu-parcalari</span>
<span id="cb3-354"><a href="#cb3-354" aria-hidden="true" tabindex="-1"></a>     &#39;(TYPE</span>
<span id="cb3-355"><a href="#cb3-355" aria-hidden="true" tabindex="-1"></a>    (FRANSIZ D1 D5)</span>
<span id="cb3-356"><a href="#cb3-356" aria-hidden="true" tabindex="-1"></a>    (TAYLAND D2 D4 D8 D11)</span>
<span id="cb3-357"><a href="#cb3-357" aria-hidden="true" tabindex="-1"></a>    (KEBAP D3 D7 D9 D12)</span>
<span id="cb3-358"><a href="#cb3-358" aria-hidden="true" tabindex="-1"></a>    (ITALYAN D6 D10)))</span>
<span id="cb3-359"><a href="#cb3-359" aria-hidden="true" tabindex="-1"></a>(<span class="kw">setf</span> musteri-parcalari</span>
<span id="cb3-360"><a href="#cb3-360" aria-hidden="true" tabindex="-1"></a>     &#39;(patrons</span>
<span id="cb3-361"><a href="#cb3-361" aria-hidden="true" tabindex="-1"></a>    (BIRAZ D1 D3 D6 D8)</span>
<span id="cb3-362"><a href="#cb3-362" aria-hidden="true" tabindex="-1"></a>    (TAYLAND D2 D4 D5 D9 D10 D12)</span>
<span id="cb3-363"><a href="#cb3-363" aria-hidden="true" tabindex="-1"></a>    (HIC D7 D11)))</span>
<span id="cb3-364"><a href="#cb3-364" aria-hidden="true" tabindex="-1"></a>(<span class="kw">setf</span> ornek-girdi (<span class="kw">list</span> yemekturu-parcalari musteri-parcalari))</span>
<span id="cb3-365"><a href="#cb3-365" aria-hidden="true" tabindex="-1"></a>(test <span class="st">&quot;parca-sec&quot;</span></span>
<span id="cb3-366"><a href="#cb3-366" aria-hidden="true" tabindex="-1"></a>     (parca-sec ornek-girdi) musteri-parcalari)</span>
<span id="cb3-367"><a href="#cb3-367" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-368"><a href="#cb3-368" aria-hidden="true" tabindex="-1"></a><span class="co">;; eniyi parcalamayi sec, MUSTERILER basliginin secilmesi lazim</span></span>
<span id="cb3-369"><a href="#cb3-369" aria-hidden="true" tabindex="-1"></a>(<span class="kw">setf</span> girdi &#39;(D1 D3))</span>
<span id="cb3-370"><a href="#cb3-370" aria-hidden="true" tabindex="-1"></a>(test <span class="st">&quot;ayni cevap 1&quot;</span> (ayni-cevap? girdi) <span class="kw">t</span>)</span>
<span id="cb3-371"><a href="#cb3-371" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-372"><a href="#cb3-372" aria-hidden="true" tabindex="-1"></a>(<span class="kw">setf</span> girdi &#39;(D2 D4))</span>
<span id="cb3-373"><a href="#cb3-373" aria-hidden="true" tabindex="-1"></a>(test <span class="st">&quot;ayni cevap 2&quot;</span> (ayni-cevap? girdi) <span class="kw">nil</span>)</span>
<span id="cb3-374"><a href="#cb3-374" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-375"><a href="#cb3-375" aria-hidden="true" tabindex="-1"></a><span class="co">;; ana veriyi, kimlik no&#39;lara cevir</span></span>
<span id="cb3-376"><a href="#cb3-376" aria-hidden="true" tabindex="-1"></a>(test <span class="st">&quot;kimlik no ya ceviri testi&quot;</span> (veriyi-satirkimligine-cevir *egitim-verisi*)</span>
<span id="cb3-377"><a href="#cb3-377" aria-hidden="true" tabindex="-1"></a>     &#39;(D1 D2 D3 D4 D5 D6 D7 D8 D9 D10 D11 D12))</span>
<span id="cb3-378"><a href="#cb3-378" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-379"><a href="#cb3-379" aria-hidden="true" tabindex="-1"></a>(<span class="kw">setf</span> agac (karar-agaci-egit (veriyi-satirkimligine-cevir *egitim-verisi*)</span>
<span id="cb3-380"><a href="#cb3-380" aria-hidden="true" tabindex="-1"></a>                 &#39;(BASKA</span>
<span id="cb3-381"><a href="#cb3-381" aria-hidden="true" tabindex="-1"></a>                   BAR</span>
<span id="cb3-382"><a href="#cb3-382" aria-hidden="true" tabindex="-1"></a>                   HAFTASONU</span>
<span id="cb3-383"><a href="#cb3-383" aria-hidden="true" tabindex="-1"></a>                   ACMIYIZ</span>
<span id="cb3-384"><a href="#cb3-384" aria-hidden="true" tabindex="-1"></a>                   MUSTERILER</span>
<span id="cb3-385"><a href="#cb3-385" aria-hidden="true" tabindex="-1"></a>                   FIYAT</span>
<span id="cb3-386"><a href="#cb3-386" aria-hidden="true" tabindex="-1"></a>                   YAGMUR</span>
<span id="cb3-387"><a href="#cb3-387" aria-hidden="true" tabindex="-1"></a>                   RESERVASYON</span>
<span id="cb3-388"><a href="#cb3-388" aria-hidden="true" tabindex="-1"></a>                   YEMEKTURU</span>
<span id="cb3-389"><a href="#cb3-389" aria-hidden="true" tabindex="-1"></a>                   BEKLEMESURESI)                </span>
<span id="cb3-390"><a href="#cb3-390" aria-hidden="true" tabindex="-1"></a>                 ))</span>
<span id="cb3-391"><a href="#cb3-391" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-392"><a href="#cb3-392" aria-hidden="true" tabindex="-1"></a>(agac-goster agac)</span>
<span id="cb3-393"><a href="#cb3-393" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-394"><a href="#cb3-394" aria-hidden="true" tabindex="-1"></a><span class="co">;; egitim verisinden bir satir kullanip soru sor</span></span>
<span id="cb3-395"><a href="#cb3-395" aria-hidden="true" tabindex="-1"></a>(test <span class="st">&quot;soru-sor 1&quot;</span> (soru-sor <span class="dt">&#39;d6</span> agac) <span class="dt">&#39;EVET</span>)</span>
<span id="cb3-396"><a href="#cb3-396" aria-hidden="true" tabindex="-1"></a>(test <span class="st">&quot;soru-sor 2&quot;</span> (soru-sor <span class="dt">&#39;d2</span> agac) <span class="dt">&#39;HAYIR</span>)</span>
<span id="cb3-397"><a href="#cb3-397" aria-hidden="true" tabindex="-1"></a>(test <span class="st">&quot;soru-sor 3&quot;</span> (soru-sor <span class="dt">&#39;d3</span> agac) <span class="dt">&#39;EVET</span>)</span>
<span id="cb3-398"><a href="#cb3-398" aria-hidden="true" tabindex="-1"></a>(test <span class="st">&quot;soru-sor 4&quot;</span> (soru-sor <span class="dt">&#39;d4</span> agac) <span class="dt">&#39;EVET</span>)</span>
<span id="cb3-399"><a href="#cb3-399" aria-hidden="true" tabindex="-1"></a>(test <span class="st">&quot;soru-sor 5&quot;</span> (soru-sor <span class="dt">&#39;d5</span> agac) <span class="dt">&#39;HAYIR</span>)</span>
<span id="cb3-400"><a href="#cb3-400" aria-hidden="true" tabindex="-1"></a>(test <span class="st">&quot;soru-sor 6&quot;</span> (soru-sor <span class="dt">&#39;d6</span> agac) <span class="dt">&#39;EVET</span>)</span>
<span id="cb3-401"><a href="#cb3-401" aria-hidden="true" tabindex="-1"></a>(test <span class="st">&quot;soru-sor 7&quot;</span> (soru-sor <span class="dt">&#39;d7</span> agac) <span class="dt">&#39;HAYIR</span>)</span>
<span id="cb3-402"><a href="#cb3-402" aria-hidden="true" tabindex="-1"></a>(test <span class="st">&quot;soru-sor 8&quot;</span> (soru-sor <span class="dt">&#39;d8</span> agac) <span class="dt">&#39;EVET</span>)</span>
<span id="cb3-403"><a href="#cb3-403" aria-hidden="true" tabindex="-1"></a>(test <span class="st">&quot;soru-sor 9&quot;</span> (soru-sor <span class="dt">&#39;d9</span> agac) <span class="dt">&#39;HAYIR</span>)</span>
<span id="cb3-404"><a href="#cb3-404" aria-hidden="true" tabindex="-1"></a>(test <span class="st">&quot;soru-sor 10&quot;</span> (soru-sor <span class="dt">&#39;d10</span> agac) <span class="dt">&#39;HAYIR</span>)</span>
<span id="cb3-405"><a href="#cb3-405" aria-hidden="true" tabindex="-1"></a>(test <span class="st">&quot;soru-sor 11&quot;</span> (soru-sor <span class="dt">&#39;d11</span> agac) <span class="dt">&#39;HAYIR</span>)</span>
<span id="cb3-406"><a href="#cb3-406" aria-hidden="true" tabindex="-1"></a>(test <span class="st">&quot;soru-sor 12&quot;</span> (soru-sor <span class="dt">&#39;d12</span> agac) <span class="dt">&#39;EVET</span>)</span>
<span id="cb3-407"><a href="#cb3-407" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-408"><a href="#cb3-408" aria-hidden="true" tabindex="-1"></a>(<span class="kw">print</span> <span class="st">&quot;Tamam. Birim Testler Isledi.&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb4"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>clisp id3.lisp</span></code></pre></div>
<pre><code>MUSTERILER
 = BIRAZ =&gt; EVET
 = DOLU
     ACMIYIZ
      = EVET
          YEMEKTURU
           = TAYLAND
               HAFTASONU
                = HAYIR =&gt; HAYIR
                = EVET =&gt; EVET
           = ITALYAN =&gt; HAYIR
           = KEBAP =&gt; EVET
      = HAYIR =&gt; HAYIR
 = HIC =&gt; HAYIR

&quot;Tamam. Birim Testler Isledi.&quot; </code></pre>
<p>Kaynaklar</p>
<p>[1] Harrington, P., <em>Machine Learning In Action</em></p>
<p>
  <a href="..">Yukarı</a>
</p>
</body>
</html>
