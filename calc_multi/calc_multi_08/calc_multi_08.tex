\documentclass[12pt,fleqn]{article}\usepackage{../../common}
\begin{document}
Ders 8

Ýki deðiþkenli bir fonksiyonu grafiklemek (plot) için 

\includegraphics[height=4cm]{8_1.png}

$x,y$ deðerlerine tekabül eden $f(x,y)$'yi, z ekseni üzerindeki yükseklik
olarak kabul ederiz, ve oraya bir nokta koyarýz. Tüm $x,y$'ler için bu
yapýlýrsa bir yüzey ortaya çýkar. Dikkat 3 boyutlu bir þekil görülecektir,
fakat içi dolu deðildir, fonksiyon sadece yüzeydedir. 

Örnek

$$ f(x,y) = -y $$

2 deðiþkenli de olsa illa her iki deðiþken fonksiyonda kullanýlmalý diye
bir þart yok. Bu formül bir düzlem tanýmlar. 

\includegraphics[height=4cm]{8_2.png}

Hoca çizmek için önce yeþil okun gösterdiði çizgiden baþladý, ki bu çizgi
$z=-y$, -1 eðimi olan bir çizgi. $x$ tanýmlý olmadýðýna göre bu çizgi her
$x$ için geçerli olmalý, ve üstteki düzlem ortaya çýkýyor. x-ekseni bu
düzlemin içinden geçiyor. 

Örnek 

$$ f(x,y) = 1-x^2-y^2 $$

Grafiði anlamak için $yz$ düzleminde neler oluyor onu anlamaya
uðraþalým. Sadece $yz$ düzlemine bakmak demek, $x=0$ kabul etmek demektir,
o zaman geri kalanlar 

$$ z = 1-y^2 $$

bir parabolu tanýmlar. 

\includegraphics[height=4cm]{8_3.png}

Peki $xz$ düzleminde neler olur?

$$ z = 1- x^2 $$

yine aþaðý dönük bir parabol. 

\includegraphics[height=4cm]{8_4.png}

$xy$ düzlemiyle nerede kesiþim olur? $z=0$ ise, 

$$ 1-x^2-y^2 = 0 $$

$$ x^2 + y^2 = 1 $$

Bu birim yarýçapý olan bir çemberdir (unit circle). 

\includegraphics[height=4cm]{8_5.png}

Ýlginç bir diðer fonksiyon

\includegraphics[height=4cm]{8_6.png}

Bir at eðerine (saddle) benziyor, $yz$ düzleminden bakýlýnca yukarý giden
bir parabol $z=y^2$, ama $xz$ düzleminde aþaðý dönük bir parabol, $z=-x^2$. 

Kontur Grafikleri (Contour Plot)

2 deðiþkenli fonksiyonlarý çizmenin bir diðer yolu onun konturlarýný
çizmektir. Konturlar yeryüzünü resmetmek için kullanýlan haritalara
benzerler, 3 boyutlu þekillerin yassýlaþtýrýlarak, sadece üstten
görünüþlerini gösteren grafikleme þekilleridirler. 

\includegraphics[height=4cm]{8_7.png}

Bir kontur grafiði üzerindeki çizgilerin her biri, bir yüksekliðe
(elevation) tekabül eder. Mesela $f(x,y)=1$ eþitliði için olan tüm $x,y$
noktalarý üstte en dýþtaki kapalý eðridir, $f=2$, $f=3$, vs ayný þekilde. 3
boyutlu ``normal'' bir grafikte yükseklik olarak (3. boyut) temsil edilen
deðerler yassýlaþtýrýlarak onlarýn üstten görünüþü resmedilir. Ayrýca bir
$z$ ``sabitlenerek'' ona tekabül eden $x,y$ grafiklenir (bu sabit deðerler
çoðunlukla düzenli aralýklarla olacak þekilde seçilir, 1,2,3,4,vs gibi), 3
boyutlu bir resimde tüm $z$ deðerleri grafiklenir. Farklýlýklar
bunlardýr. Konturlar kullanarak 3 boyutlu bir fonksiyonu iki boyutta kýsmen
temsil edebilmiþ oluruz. 3 boyutlu fonksiyon ve $z=1$ anýndaki bir kesit
örneði alttadýr. 

\includegraphics[height=4cm]{8_8.png}

Bu tekniðe ``seviye eðrileri (level curve)'' ismi de verilir. $z=1$
seviyesinde kesit yapýlýnca o kesit üzerinde bir eðri oluþur, diðer
seviyelerde de kesitler yapýlabilir, vs. 

Bir topografik harita da aslýnda bir kontur grafiðidir. Mesela alttaki
harita ABD Jeolojik Ölçümler (US Geological Survey) haritalarýndan biri

\includegraphics[height=4cm]{8_9.png}

Mesela 500 yazan bir çizgi var, bu yüksekliði gösteriyor. Eðer o
yükseklikte kalmak istersek, hep o çizgi üzerinde yürüyebilirdik, ve hiç
yukarý ya da aþaðý gitmemiþ olurduk. Eðer çizgiler arasýnda gidip gelirsek,
o zaman yükseklik deðiþimi yapmýþ olurduk. 

Tabii kontur grafiklerinin illa bir coðrafi yüksekliði temsil etmesi
gerekmez. Mesela alttaki grafik ABD haritasýnda herhangi kaç derece
sýcaklýk olduðunu bölgesel olarak gösteriyor. 

\includegraphics[height=4cm]{8_10.png}

Renkler belli sýcaklýklarý temsil ediyorlar, ve renkler arasýnda bazý
sýnýrlar var. Bu grafik te bir kontur grafiðidir. 

Örnek

$$ f(x,y) = -y $$

Konturlar neye benzer? 

\includegraphics[height=4cm]{8_11.png}

Konturlar deðiþik yükseklikleri temsil ediyor, ve üstteki resim için de bu
geçerli. Bu grafiðin 3D hali içinde yeþil ok olan en üstten 2. grafik. O
grafikte bir düz yokuþ var, iþte üstteki çizgiler, bu yokuþtaki yükseklik
farkýnda tekabül ediyorlar. 

Örnek

$$ f(x,y) = 1-x^2-y^2 $$

Bu fonksiyon sýfýr ise birim çember olur dedik, yani

$$ x^2+y^2=1 $$

Eger $f=1$ ise

$$ x^2+y^2=0 $$

Eðer $f=-1$ ise

$$ x^2+y^2=2 $$

Eðer $f=-2$ ise

$$ x^2+y^2=3 $$

Grafik þöyle

\includegraphics[height=4cm]{8_12.png}

Seviye eðrilerinin dýþa doðru nasýl daha sýklaþtýðýna dikkat çekmek
isterim. Bu demektir ki dýþa doðru gittikçe yükseklik artýþý daha dik hale
geliyor, çünkü (yukarý doðru) ayný birim mesafeyi almak için gittikçe daha
az mesafe katetmek gerekiyor. Orta kýsým neredeyse dümdüz. 

Örnek

At eðeri grafiðinin konturlarý

\includegraphics[height=4cm]{8_13.png}

Kontur grafikleri bize $x,y$ deðiþirken neler olduðunu söyler. Mesela
deðerler azalýyor mu, çoðalýyor mu? Bu tür bir sorunun cevabýný kontur
grafiði hýzlý bir þekilde saðlayabilir. 

Mesela þu grafiðe bakalým

\includegraphics[height=4cm]{8_14.png}

Eðer $x$ $\uparrow$, $f(x,y)$ $\uparrow$

Eðer $x$ $\downarrow$, $f(x,y)$ $\downarrow$

Eðer $y$ $\uparrow$, $f(x,y)$ $\uparrow$

Eðer $y$ $\downarrow$, $f(x,y)$ $\downarrow$

Bu tür nicelik analiz kontur grafiklerinin çizgilerine bakarak hemen
yapýlabilir. Ama belki de ben daha detaylý bir analiz istiyorum, mesela bir
deðiþkendeki bir deðiþimin $f(x,y)$'daki deðiþimi ne kadar etkilediðini detaylý
þekilde görmek istiyorum.

Deðiþim oranlarýnýn hesabý türevlerle yapýlýr. 

Kýsmi Türevler (Partial Derivatives)

Tek deðiþkenli fonksiyonlar, mesela $f(x)$ gibi, o zaman $f(x)$'in türevi
bir limit olarak tanýmlýdýr

$$ f'(x) = \frac{df}{dx}  = 
\lim_{\Delta x \to 0} \frac{f(x+\Delta x) - f(x)}{\Delta x}
$$

Grafiksel olarak

\includegraphics[height=3cm]{8_15.png}

$x$ noktasýndaki eðim (slope) $f'(x)$'e eþittir. 

Yaklaþýksallýk Formülü

$$ f(x) \approx f(x_0) + f'(x_0)(x-x_0) $$

Bu formüle daha fazla terim eklesek, ortaya Taylor Formülü çýkardý. 

Benzer þeyleri 2 deðiþkenli fonksiyonlar için nasýl yapardýk?

Buradaki problem iki deðiþkenin ikisinin birden deðiþebileceði. Bu sebeple
bize birden fazla türev þekli gerekiyor. 

Notasyon

Parçalý türev kývrýk bir ``d'' sembolünü andýrýr

$$ \frac{\partial f}{\partial x} $$

Bu ibare ``sadece $x$ deðiþiyor, diðerleri deðiþmiyor'' demek. O yüzden bu
klasik bir türev deðil, kýsmý bir türev. Tamamý

$$ \frac{\partial f}{\partial x}(x_0,y_0) = 
\lim_{\Delta x \to 0} \frac{f(x_o+\Delta x, y_o) - f(x_0,y_0)}{\Delta x}
 $$

Gördüðümüz gibi $y$ üzerinde hiçbir deðiþiklik yapmýyorum. Sadece $x$'i
deðiþtirip, bu deðiþimin fonksiyonun tamamý üzerindeki oranýný (rate of
change) hesaplýyorum. Ayný þekilde

$$ \frac{\partial f}{\partial y}(x_0,y_0) = 
\lim_{\Delta y \to 0} \frac{f(x_o, y_o+\Delta y) - f(x_0,y_0)}{\Delta y}
 $$

Geometriksel olarak

\includegraphics[height=6cm]{8_16.png}

Üstteki $\partial f / \partial x$. Bir $x_0,y_0$ noktasýna bakýyorum, sonra
$y$'nin hiç deðiþmemesi durumunun ortaya çýkaracaðý bir düzlem hayal
ediyorum. Sonra bu düzlemin $f$'ten aldýðý ``kesiti'' düþünüyorum, iþte bu
yansýma bir yeni fonksiyon yaratýyor, ve bu fonksiyona $x_0,y_0$ noktasýnda
teðet geçen çizginin eðimi (slope),  $\partial f / \partial x$. 

Peki bu hesap nasýl yapýlýr? Bu arada notasyon olarak 

$$ \frac{\partial f}{\partial x} = f_x $$

ayný þeyler. Soldaki fizik notasyonu, saðdaki uygulamalý matematik
notasyonu [burada hoca uygulamalý matematik, zaten notasyonu deðiþtirilmiþ
fizik sadece diye espri yapýyor]. Her neyse, hesap için $y$ sabit tutulur,
$x$ deðiþken kalýr. 

Örnek

$$ f(x,y) = x^3y  + y^2 $$

$$ \frac{\partial f}{\partial x} = 3x^2y + 0$$

$$ \frac{\partial f}{\partial y} = x^3 + 2y$$

Örnekler 

Python Matplotlib ile kesit seviyeleri çizmek için örnek bir program

\begin{minted}[fontsize=\footnotesize]{python}
x=linspace(-3,3,40)
y=linspace(-3,3,40)
x,y=meshgrid(x,y)
z=sqrt(x**2+y**2)
z=x**2+y**2
cs=contour(x,y,z,15)
grid(True)
axis('scaled')
xlabel('x-axis')
ylabel('y-axis')
clabel(cs,inline=1,fontsize=9)
plt.savefig('levels.png')
\end{minted}

$x^2+y^2$ fonksiyonun grafiði alttadýr. 

\includegraphics[height=8cm]{levels.png}

Soru 2D-5

$T = x^2 + 2y^2 + 2z^2$ fonksiyonu her $x,y,z$ noktasýndaki sýcaklýðý rapor
ediyor. 

a) Bu fonksiyonun eþ sýcaklýk (isotherms) fonksiyonu hangi þekle benzer?

Cevap 

Eþ sýcaklýk $T$ fonksiyonun bir sabite eþitlendiðinde elde edilen
fonksiyondur, o ``þey'' ne ise, o cisim yüzeyinde sýcaklýk hiç
deðiþmeyecektir. 

Bu cisim bir ellipsoid, bir ellipsoid bir yumurtaya benzeyen, bir elips'in
alýp bir nevi çevrilerek elde edilen bir þekildir. Peki þeklin ellipsoid
olduðunu nereden biliyoruz? Çünkü ellipsoid formülü

$$ \frac{x^2}{a^2} +  \frac{y^2}{b^2} + \frac{z^2}{c^2}  = 1  $$

þeklinde, ve $x^2 + 2y^2 + 2z^2 = c$ formülünü üstteki forma çevirmek
mümkün. Ýki tarafý $c$'ye böleriz,

$$ \frac{x^2}{c} +  \frac{2y^2}{c} + \frac{2z^2}{c}  = 1  $$

Böylece $1/a^2 = 1/c$ olur, vs.. 

Peki bir ellipsoid'i nasýl grafikleriz? Bu noktada sorunun istediðinden
daha ileri gidiyoruz. 

Grafiklerken, mesela $x^2 + 2y^2 + 2z^2 = 10$ için diyelim, ilk aklýmýza
gelebilecek fikir formülü tekrar organize ederek $z$'yi yanlýz býrakmak, ve
$x,y$ kombinasyonlarýný bu fonksiyona geçerek sonuçlarý grafiklemek. 

Buradaki problem $z$ formülü ortaya bir karekök çýkartacak, ve bu karekök
sonucu hem eksi, hem artý olabilir. Daha iyi bir yöntem, kutupsal forma
geçmek, böylece hep artý olacak vektör büyüklüðü ve açýlar üzerinden bir
çizim yapmak [1]. Þu formüle tekrar bakarsak

$$ \underbrace{\frac{x^2}{a^2} +  \frac{y^2}{b^2}}_{w^2}
 + \frac{z^2}{c^2}  = 1  $$

bunu

$$ w^2 + \frac{z^2}{c^2}  = 1  $$

olarak görelim, burada karelerinin toplamý '1' olan bir þey var. 

Bu ``þeyler'' $\cos$ ve $\sin$ olabilirler, çünkü $\cos$ ve $\sin$ karelerinin
toplamý 1 deðerini verir.

Eðer

$$ w = \sin \phi $$

$$ \frac{z}{c} = \cos \phi $$

dersek, karelerin toplamý üstteki gibi 1 olur. 

Þimdi $w$'nin detayýna inelim

$$ w^2 = \sin^2\phi = \frac{x^2}{a^2} +  \frac{y^2}{b^2}  $$

Eþitliðin en saðýna bakarsak, yine kareler toplamý görüyoruz. Ama bu sefer
karelerin toplamý 1 deðil, $\sin^2\phi$ vermiþ. Problem deðil, karelerin
içine bir $\sin \phi$ biz sokarsak, o zaman sonuçta istediðimiz bir
ekstra $\sin^2\phi$ kendiliðinden gelecek. 

$$ \frac{x}{a} = \sin\phi \cos \theta  $$

$$ \frac{y}{b} = \sin\phi \sin\theta  $$

O zaman

$$ x = a \sin\phi \sin \theta  $$

$$ y = b \sin\phi \cos \theta  $$

$$ z = c \cos \phi $$

O zaman grafiklemeyi $\phi$, $\theta$ açýlarýnýn $0..\pi$ arasýndaki deðerlerinin 
kombinasyonlarýný kullanarak rahatça yapabiliriz. Alttaki kodda
\verb!linspace! ile bu ayrýksal deðerler bulunuyor, \verb!outer! ile
onlarýn her türlü kombinasyonla çarpýmý alýnýyor. 

Not: $w$ ile $z/c$'nin aldýðý $\cos, \sin$ deðerleri ters þekilde de olabilir,
sonuç farketmiyor, yine ellipsoid grafikleniyor. 

\begin{minted}[fontsize=\footnotesize]{python}
from __future__ import division

from mpl_toolkits.mplot3d import Axes3D

fig = plt.figure(figsize=plt.figaspect(1))  # Square figure
ax = fig.add_subplot(111, projection='3d')

# Katsayilar a0/c x**2 + a1/c y**2 + a2/c z**2 = 1 
coefs = (1, 4, 10)  

# Katsayilara tekabul eden caplar
rx, ry, rz = [1/np.sqrt(coef) for coef in coefs]

u = np.linspace(0, 2 * np.pi, 100)
v = np.linspace(0, np.pi, 100)

x = rx * np.outer(np.cos(u), np.sin(v))
y = ry * np.outer(np.sin(u), np.sin(v))
z = rz * np.outer(np.ones_like(u), np.cos(v))

ax.plot_surface(x, y, z,  rstride=4, cstride=4, color='b')

max_radius = max(rx, ry, rz)
ax.set_xlim(-max_radius, max_radius)
ax.set_ylim(-max_radius, max_radius)
ax.set_zlim(-max_radius, max_radius)

plt.savefig('ellipsoid.png')
\end{minted}

\includegraphics[height=8cm]{ellipsoid.png}

Kaynaklar

[1] Hass, {\em Thomas' Calculus, 11. Baski}

\end{document}
