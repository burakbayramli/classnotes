\documentclass[12pt,fleqn]{article}\usepackage{../../common}
\begin{document}
Ders 12

Zincirleme Kanunu hatýrlayalým

$$ \frac{dw}{dt}  = w_x \frac{dx}{dt} + 
w_y \frac{dy}{dt} + 
w_z \frac{dz}{dt}  $$

Bu formül, kýsmi türevler üzerinden, $w$'daki deðiþimin $x,y,z$'deki
deðiþime ne kadar ``hassas'' ne kadar ``baðlý'' olduðnu gösteriyor.

Þimdi üsttekini daha azaltýlmýþ, özetli (compact, concise) bir formda þöyle
yazacaðým. 

$$ 
= \nabla w \cdot  \frac{d\vec{r}}{dt} 
$$

Gradyan vektörü tüm kýsmi türevlerin bir araya konmuþ halidir. 

$$ \nabla w = < w_x, w_y, w_z > $$

Tabii ki bunu söyleyince üstteki gradyan'ýn $x,y,z$'ye baðlý olduðunu da
söylüyoruz, mesela $w$'nun belli bir nokta $x,y,z$'da gradyanýný
alabilirsiniz, o zaman her deðiþik $x,y,z$ noktasýnda farklý bir vektör
elde edersiniz, ki bu vektörlerin tamamýna ileride ``vektör alaný (vector
field)'' ismini vereceðiz. Devam edelim, 

$$ \frac{d\vec{r}}{dt} = < \frac{dx}{dt}, \frac{dy}{dt}, \frac{dz}{dt} > $$

Yani hýz vektörü (velocity vector) $d\vec{r}/{dt}$ yukarýdaki gibi
tanýmlýdýr.

Bugünkü amacýmýz gradyan vektörünü anlamak, ve nerelerde
kullanabileceðimizi incelemek. Gradyanlarý yaklaþýksal formüllerde
kullanmak mümkündür, vs. Üstte gördüðümüz onun notasyonu. 

Gradyanlarýn belki de en ``havalý'' özellikleri þudur. 

Teori

Ýddia ediyorum ki $\nabla w$ vektörü, $w = \textrm{ bir sabit }$ile elde
edilecek kesit yüzeyine (level surface) her zaman diktir.

Eðer fonksiyonumun bir kontur grafiðini çizersem

\includegraphics[height=3cm]{12_1.png}

gösterilen noktada hesaplanacak gradyan vektörü o noktadaki kontura
diktir. 

Örnek 1

Lineer bir $w$ kullanalým. 

$$ w = a_1 x + a_2 y + a_3 z $$

Gradyan nedir? Kýsmi türevleri alalým:

$$
\nabla w = < a_1, a_2, a_3 >
$$

Konturlarý nasýl elde ederim? $a_1 x + a_2 y + a_3 z  = c$ ki $c$ bir
sabittir, bu formülü tatmin eden tüm $x,y,z$ deðerleri bir düzlem
oluþtururlar. 

Bu düzlemin normalinin nasýl alýnacaðýný biliyoruz, katsayýlara bakarýz, $<
a_1,a_2,a_3 >$. Bu vektörün gradyanla ayný çýktýðýna dikkat, ki normal vektör de
düzleme diktir zaten. Ayný çýkmalarý mantýklý.

Aslýnda bu örnek gradyanýn dikliðini bir anlamda ispatlýyor, çünkü düzlem olmasa
bile herhangi bir fonksiyonun birinci yaklaþýksallýðý bir düzlem yaratýr, o
düzlemin normalý, gradyaný eþitliði bizi yine gradyanýn dikliðine götürür. Ama
bu yeterince ikna edici olmadýysa baþka bir örneðe bakabiliriz.

Örnek 2

$$ w = x^2 + y^2 $$

Bu fonksiyonun kesit seviyeleri, deðiþik yarýçaplara sahip dairelerdir,
$x^2 + y^2 = c$ formülündeki deðiþik $c$ deðerleri bu daireleri tanýmlar. 

Gradyan vektörü

$$ \nabla w = < 2x, 2y > $$

\includegraphics[height=4cm]{12_2.png}

Seçilen $x,y$ noktasýnda $\nabla w$ gösterilmiþ. Bu vektörün $x$ ve $y$
eksenlerinde boyunun, baþladýðý noktaya göre olan $x,y$ deðerlerinin
yaklaþýk iki katý olduðuna dikkat, ki bu da $<2x,2y>$ vektörü ile uyumlu. 

Þimdi gradyanýn niye kesit eðrilerine hep dik olduðunu ispatlayalým.

Ýspat

Önce kesit eðrileri ``üzerinde'' hareket eden bir nokta hayal edeceðiz. Bu
nokta fonksiyonun sabit olduðu yerlerden geçiyor demektir, çünkü kontur
üzerinde fonksiyon deðeri hep aynýdýr. 

Eðri $\vec{r} = \vec{r}(t)$ hep $w = c$ üzerinde olacak. Resme bakalým,
hayali bir kesit yüzeyi üzerinde bir eðri bu (kýrmýzý renkli) ve bu eðrinin
üzerinde giden noktanýn bir hýzý olacak. Bu arada $w$ mesela $w = x^2 +
y^2$ belki, herhangi bir üç boyutlu fonksiyon. $\vec{r}$'nin $w$ üstünde
gitmesi demek, $\vec{r}$ ile $w$ parametrize edilebilir demek, $\vec{r}(t)
= < x(t),y(t),z(t) >$ ve onu kullanarak $w(\vec{r}(t)) = c$.

\includegraphics[height=4cm]{12_3.png}

Ýddia o ki, 

$$ \vec{v} = \frac{d\vec{r}}{dt} $$

vektörü, kesit $w = c$'ye muhakkak teðet olmalý, çünkü hýz eðriye teðet, ve
eðri kesit içinde. Bu arada $w$'nin aslýnda $w(\vec{r}(t))$ olduðunu
belirttik.

Bu sayede Zincirleme Kanununu kullanarak 

$$ \frac{dw(\vec{r})}{dt} = \nabla w \cdot \frac{d\vec{r}}{dt} = \frac{dc}{dt}$$

eþitliðini kurabiliriz. Noktasal çarpým nereden geldi? Bu ifade $w$'nin
her kýsmi türevinin alýp, ona tekabül eden $\vec{r}(t)$ öðesinin türevi ile
çarpýp sonuçlarýn toplanmasý demek. Sonuç Zincirleme Kanunu'ndaki görüntü
olacaktýr. Ayrýca

$$  = \nabla w \cdot \vec{v} = 0$$

Sýfýra eþitliðin sebebi $w = c$ olmasý ve sabitin türevi $dc/dt$ sýfýr oldu. 

Þimdi sýfýr sonucundan ters yöne gidelim: iki vektörün noktasal çarpýmý ne
zaman sýfýr sonucu verir? Eðer vektörler birbirine dik ise. Demek ki
$\nabla w \perp \vec{v}$.

Hatta iddia ediyorum ki bu diklik $w=c$ üzerindeki her hareket (motion)
için geçerlidir. Yani $\vec{v}$, kesit yüzeyine teðet olan herhangi bir
vektör olabilir, üstteki diklik hep doðru olacaktýr.

\includegraphics[height=4cm]{12_4.png}

Bunun güzel bir uygulamasý þu, artýk istediðimiz her þeyin teðet düzlemini
bulabiliriz. 

Örnek

Yüzey $x^2 + y^2 - z^2 = 4$'un $(2,1,1)$ noktasýndaki teðet düzlemini
bul. Alttaki þekil bir hiperboloid (hyperboloid) ve bu dersin altýnda
grafiklemek için gereken kodlar var. 

\includegraphics[height=4cm]{12_5.png}

Resimde teðet düzlem pek teðet gibi deðil, diðer grafiðin içine girmiþ gibi
duruyor, fakat problemin verdiði noktada düzlem teðet. 

Bu düzlemi nasýl bulacaðýz? Gradyaný hesaplayarak. 

Kesit seviyesi $w=4$ ve Yüzey $w = x^2 + y^2 - z^2$. 

$$ \nabla w = <2x, 2y, -2z> $$

Verilen nokta deðerlerini bu gradyan vektörüne verirsek, sonuç
$<4,2,-2>$. Bu sonuç yüzeye ya da teðet düzleme normal (dik) olan 
vektörü verecek. 

Bu normal vektörü kullanarak düzlemin formülünü bulabiliriz. 

$$ 4x + 2y - 2z = ? $$

Soru iþareti ne olur? $(2,1,1)$ noktasýný formüle koyarsak, sonuç 8 çýkar.

$$ 4x + 2y - 2z = 8 $$

Alternatif Yöntem

Aslýnda tüm bunlarý gradyan olmadan da yapabilirdik, bir diferansiyel ile
ise baþlayabilirdik

$$ dw = 2x dx + 2y dy -2z dz $$

$(2,1,1)$ noktasýnda

$$ = 4dx + 4dy - 2dz $$

Yaklaþýksal olarak 

$$ \Delta w \approx 4 \Delta x + 2\Delta y - 2\Delta z  $$

Ne zaman kesit yüzeyi, kontur üzerindeyiz? Eðer $w$'de hiç deðiþim yok ise,
yani $\Delta w = 0$ ise. Bu arada üstteki yaklaþýksallýðýn bir lineer
yaklaþýksallýk olduðunu unutmayalým. $(2,1,1)$ noktasýnda bu teðeti kullanmak istersek,  
$\Delta w = 0$ eþitliði bize $4 \Delta x + 2\Delta y - 2\Delta z $ teðet 
düzlemini verecektir. Nasýl? $\Delta x$ deðiþimdir, teðet düzlem
üzerinde deðiþimi tanýmlamak istiyorsak, $(2,1,1)$'den baþlayarak bir yere
gittiðimizi düþünmemiz gerekir, ki mesela $x-2$ deðiþimini yapabiliriz,
vs. Tam formül

$$ 4(x-2) + 2(y-1) - 2(z-1) = 0 $$

Yönsel Türevler (Directional Derivatives) 

Elimdeki bir $w = w(x,y)$ formülünün kýsmi türevini aldýðým zaman 
$\partial  w/\partial x$, $\partial w/\partial y$ ile mesela, bu türevler 
x-ekseni ya da y-ekseni yönünde deðiþim olduðu zaman $w$'nun nasýl
deðiþtini ölçerler. Peki baþka yönlere göre, mesela bir birim 
vektör $\hat{u}$ yönünde türev alýnamaz mý? Cevap evet. Yönsel 
türevler bu ise yarýyorlar. 

\includegraphics[height=4cm]{12_6.png}

Yani $\hat{u}$ üzerinden geçen yolda ilerlerken $z$'nin nasýl deðiþeceðini
merak ediyorum. Düz çizgi üzerindeki gidiþata (straight line trajectory)
bakýyoruz.

$s$ adlý bir parametreye baðlý bir pozisyon vektörü $\vec{r(s)}$ hayal
edelim, öyle ki,

$$ d\vec{r}/ds = \hat{u} $$

sonucunu versin.

Niye üstte $t$ yerine $s$ kullandým? Çünkü çizgi boyunca birim hýzda
ilerliyorum, o zaman parametrize ettiðim þey katedilen yol. $s$ bir anlamda
eðri uzunluðu (arc length), tabii tam eðri denemez çünkü çizgi düz, ama
yine mesafe kavramýný kullanýyoruz.

O zaman $dw/ds$ nedir? Bunu hesaplamak için Zincirleme Kanunu'nun özel bir
durumunu kullanacaðýz.

Eðer $\hat{u} = <a,b>$ ise

$$ x(s) = x_0 + as $$

$$ y(s) = y_0 + bs $$

Bu formülleri $w$'ye sokarýz, sonra $dw/ds$'i hesaplarýz. 

Taným: Yönsel Türev

$$ \frac{dw}{ds}_{|\hat{u}} $$

Daha önce kýsmi türevleri incelerken onlarý geometrik olarak, x ve y
eksenine paralel düzlemlerin fonksiyonu kesmesi olarak görmüþtük. Yönsel
türevler ise herhangi bir yöndeki (daha doðrusu $\hat{u}$ yönündeki) bir
düzlemin fonksiyonu kesmesi olarak görülebilir.

\includegraphics[height=4cm]{12_7.png}

Taným

$dw / ds_{|\hat{u}}$ = Bir grafiðin (fonksiyonun) $\hat{u}$ vektörünü içeren /
ona paralel olan, ve dikey düzlem (vertical plane) kesilmesi ile elde edilen, o
düzlemdeki yansýmasýnýn oluþturduðu eðrinin deðiþimi / eðimi (slope).

Zincirleme Kanunu uygulanýrsa

$$ \frac{dw}{ds} = \nabla w \cdot \frac{d\vec{r}}{ds} 
= \nabla w \cdot \hat{u}
$$

Hatýrlamamýz gereken formül o zaman

$$ \frac{dw}{ds}_{|\hat{u}} =  \nabla w \cdot \hat{u} $$

Eþitliðin sað tarafý ``gradyanýn $\hat{u}$ yönünde giden bileþeni, kýsmý''
olarak ta nitelenebilir. 

Kavramlarýn birbiriyle alakasýný iyice görmek için suna bakalým

Örnek

$$ 
\frac{dw}{ds}_{|\hat{i}} =  \nabla w \cdot \hat{i} = 
\frac{\partial w}{\partial x} $$

Geometrik olarak

$$ \frac{dw}{ds}_{|\hat{u}} =  \nabla w \cdot \hat{u} $$

$$ =  |\nabla w||\hat{u}|\cos(\theta)  $$

$\hat{u}$ birim vektör olduðuna göre $|\hat{u}| = 1$, formülden atýlýr

$$ =  |\nabla w||\cos(\theta)  $$

\includegraphics[height=2cm]{12_8.png}

Bu ifade ``gradyanýn $\hat{u}$ yönündeki bileþeni'' hesabýnýn bir diðer
versiyonudur aslýnda. 

Þu soruyu soralým: hangi yöndeki deðiþim en büyüktür? $|\nabla
w||\cos(\theta)$ ifadesinin en buyuk olduðu yer $\cos(\theta)=1$ olduðu
zamandýr, yani $\theta = 0$, ki bu durum $\hat{u} = dir(\nabla w)$, yani
$\hat{u}$'nun gradyan ile ayný yönde olduðu zamandýr.

O zaman þu yorumu da yapabiliriz, gradyan belli bir noktada fonksiyonun en
çok artacaðý yönü gösterir. 

Peki $|\nabla w|$, yani $\nabla w$'nun büyüklüðü neye eþittir? 

$$ |\nabla w| =   \frac{dw}{ds}_{|\hat{u}=dir(\nabla w)}  $$

En hýzlý düþüþ (azalýþ) hangi yöndedir? En fazla artýþýn tam tersi
yönünde. 

Yani min $dw/ds_{|\hat{u}}$ için $\cos(\theta) = -1$ olmalýdýr, yani $\theta =
180^o$,  $\hat{u}$, $-\nabla w$  yönünde olduðu zaman.

Peki þu ne zaman doðrudur? 

$$ \frac{dw}{ds}_{|\hat{u}} = 0 $$

Yani fonksiyon hangi yönde deðiþmez? 

Bunun için $\cos(\theta) = 0$ olmalýdýr, ki bu $\theta = 90^0$ olduðu
zamandýr. Yani $\hat{u} \perp \nabla w$ ise. Bunu anlamanýn bir diðer yolu,
hiç deðiþimin olmadýðý yönün kesit yüzeyine teðet olduðudur, bu yüzeyde $w$
hiç deðiþmediðine göre deðiþim olmaz, deðiþim yoksa, biz de teðet hareket
ediyoruz demektir. 

Soru

\includegraphics[height=3cm]{2d9.png}

P noktasýnda $\partial w/ \partial x$ ve $\partial w/\partial y$'yi 
kabaca hesapla. 

$$ \frac{\partial w}{\partial x} = \frac{dw}{ds} \bigg|_{\hat{i}} \approx
\frac{\Delta w}{\Delta s} \approx
\frac{-1}{5/3} = -0.6
$$

$$ \frac{\partial w}{\partial y} = \frac{dw}{ds} \bigg|_{\hat{j}} \approx
\frac{\Delta w}{\Delta s} \approx
\frac{-1}{1} = -1
$$

$\Delta = -1$ çünkü dik giderken kesit seviye 2'den 1'e geliyoruz, $w$ 1
azalýyor. Bu gidiþat $s$'in kendi deðiþimi $\Delta s$, bunu da kabaca, sol
alt köþedeki skalaya bakarak tahmin ediyoruz, saða doðru yatay gidiþ 1'den
büyük gibi duruyor, ona 5/3 demiþiz, yukarý doðru gidiþat tam 1 gibi
duruyor, ona 1 demiþiz. 

$\partial w / \partial y$ hesabýnda niye aþaðý deðil yukarý gitmiþiz? Çünkü
$\hat{i}$'nin yönü yukarýdýr, aþaðý deðil. 

Hiperboloid 

Parametrizasyonu türetelim. Diyelim ki $x^2 + y^2 - z^2 = 1$ gibi bir
paraboloid'imiz var. $x,y$'yi þöyle alalým

$$ x = r \cos u $$

$$ y = r \sin u $$

Yerine koyarsak

$$ r^2 - z^2 = 1 $$

elde ederiz. Þimdi kareleri birbirinden çýkartýlýnca 1 veren bir þeyler
bulmak lazým. Hiperbol $\sin$ ve $\cos$ (hyperbolic sine, cosine) böyle
fonksiyonlardýr. 

$$ \cosh^2x - \sinh^2x = 1 $$

Bu eþitliði kullanarak 

$$ r = \cosh v $$

$$ z = \sinh(v) $$

Yine yerine koyalým

$$ x = \cos u \cosh v $$

$$ y = \sin u \cosh v $$

$$ z = \sinh v $$

Son formüllerimiz bunlar.

\begin{minted}[fontsize=\footnotesize]{python}
from __future__ import division

from mpl_toolkits.mplot3d import Axes3D

fig = plt.figure(figsize=plt.figaspect(1))  # Square figure
ax = fig.add_subplot(111, projection='3d')

r=1;
u=np.linspace(-2,2,200);
v=np.linspace(0,2*np.pi,60);
[u,v]=np.meshgrid(u,v);

a = 1
b = 1
c = 1

x = a*np.cosh(u)*np.cos(v)
y = b*np.cosh(u)*np.sin(v)
z = c*np.sinh(u)

ax.plot_surface(x, y, z,  rstride=4, cstride=4, color='b')

plt.savefig('hyperboloid.png')
\end{minted}

\includegraphics[height=6cm]{hyperboloid.png}

Bir diðer kod $a \cos,b \sin$ ifadelerinin toplamýný gösteriyor

\begin{minted}[fontsize=\footnotesize]{python}
from pylab import *

xmax = 6.
xmin = -6.
D = 100
x = linspace(xmin, xmax, D)

a = 3
b = 1

plot(x, (a*cos(x) + b*sin(x)))
plot(x, (a*cos(x)))
plot(x, (b*sin(x)))

grid()
legend(['sum', 'cos','sin'])
plt.savefig('1h7.png')
\end{minted}

\includegraphics[height=6cm]{1h7.png}

\end{document}




