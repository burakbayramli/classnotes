<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <script type="text/x-mathjax-config">
    MathJax.Hub.Register.StartupHook("TeX Jax Ready",function () {
      MathJax.Hub.Insert(MathJax.InputJax.TeX.Definitions.macros,{
        cancel: ["Extension","cancel"], cancelto: ["Extension","cancel"]
      });
    });
    </script>  
   
  <title>Faiz</title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <script
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_HTML-full"
  type="text/javascript"></script>
</head>
<body>
<div id="header">
</div>
<h1 id="faiz">Faiz</h1>
<p>Faiz, borç alınan para miktarı için ödenen “borç alma bedelidir’’. En
basit senaryoda eğer yıllık yüzde 10 üzerinden 1000 lira borç almışsam,
1 yıl sonra hem 1000 lirayı, hem de 1000 x 0.10 = 100 lira faiz ödemem
gerekir. Eğer bu ödemeyi aylara bölüştürmem gerekirse her ay 100 / 12 =
8.33 ödemem gerekir, yüzdeler üzerinden düşünürsem yüzde 10 / 12 = 0.83,
yani aylık faiz ödemesi yüzde 0.833. Bu basit durum, bu sebeple faiz
direk ay sayısına bölünebilir.</p>
<p>Daha matematiksel olarak ana para <span
class="math inline">\(P\)</span> borç aldım, <span
class="math inline">\(T\)</span> süre sonrası basit faiz <span
class="math inline">\(r\)</span> ile ödeme yapılacak, <span
class="math inline">\(T\)</span> anında geri ödenen para,</p>
<p><span class="math display">\[ P + rP = P(1+r) \]</span></p>
<p>Biraz daha farklı bir senaryo: diyelim ki <span
class="math inline">\(P\)</span> borç aldım, bir sene sonra ödenecek,
faiz yıllık <span class="math inline">\(r\)</span> - fakat faiz yılda
iki kere (semi-annually) biriken faiz (compound interest) olarak
hesaplanacak.</p>
<p>Biriken faiz durumunda yılın ortasına kadar basit faiz <span
class="math inline">\(r/2\)</span> vardır, fakat bu faiz ana paraya
eklenir, ve bu eklenmiş para üzerinde yılın diğer yarısı için tekrar
<span class="math inline">\(r/2\)</span> faiz uygulanır. Yani ilk altı
ay sonrası</p>
<p><span class="math display">\[ P(1+r/2) \]</span></p>
<p>borçlanmışızdır, yıl sonunda ise tüm borç</p>
<p><span class="math display">\[ P(1+r/2)(1+r/2) =
P(1+r/2)^2\]</span></p>
<p>Soru</p>
<p>Yıllık %8’den birikmesi çeyreksel (dört ayda bir) hesaplanan faiz ile
1000 lira borç aldım. Yıl sonunda ne kadar geri öderim?</p>
<p>Cevap</p>
<p>Yıllık %8’den birikmesi çeyreksel hesaplanan faiz demek her çeyrekte
yüzde 2 basit faizin ana para üzerine her çeyrekte eklenmesi demektir,
bir çeyrek sonrası borç</p>
<p><span class="math display">\[ 1000(1+0.02) \]</span></p>
<p>iki çeyrek sonrası</p>
<p><span class="math display">\[ 1000(1+0.02)(1+0.02) = 1000(1+0.02)^2
\]</span></p>
<p>üç çeyrek sonrası</p>
<p><span class="math display">\[ 1000(1+0.02)(1+0.02)(1+0.02) =
1000(1+0.02)^2 \]</span></p>
<p>Dört çeyrek sonrası, yani yıl sonunda geri ödenecek borç</p>
<p><span class="math display">\[ 1000(1+0.02)(1+0.02)(1+0.02)(1+0.02) =
1000(1+0.02)^4 = 1082.40\]</span></p>
<p>Soru</p>
<p>Pek çok kredi kart şirketi birikmesi aylık yapılan yıllık yüzde 18
faiz oranı üzerinden kart sahiplerine borç verir (daha doğrusu kart
üzerindeki ödenmemiş miktara uygulanan faiz budur). Eğer yıl başında
borç verilen miktar <span class="math inline">\(P\)</span> ise ve arada
hiç ödeme yapılmamışsa, borçlanılmış mıktar nedir?</p>
<p>Cevap</p>
<p>Bu tür bir birikim hesabı aylık basit faiz, aylık basit faiz
18/12=%1.5’in her ay ana para üzerine eklenmesi demektir, bu durumda bir
sene sonra</p>
<p><span class="math display">\[ P(1+0.015)^{12} = 1.1956 P
\]</span></p>
<p>olacaktır. Bu örneklere bakınca görüyoruz ki aktif olarak üzerinden
geri ödeme yaptığımız faiz, yıllık basit faiz <span
class="math inline">\(r\)</span>’den daha yüksek. Tabii ki bunun sebebi
birikme hesabı sırasında her periyotta daha önceki periyotlarda üzerine
faiz eklenme yapılmış ana para üzerinde bir daha faiz hesabı yapıyor
olmamız. Bu tür durumlarda <span class="math inline">\(r\)</span>’ye
nominal faiz adı verilir, ve efektif faiz <span
class="math inline">\(r_{eff}\)</span> ise</p>
<p><span class="math display">\[ r_{eff} = \frac{\textrm{yıl sonunda
geri ödenen miktar}-P}{P}\]</span></p>
<p>Yıl sonu ödemenin <span
class="math inline">\(P(1+r)(1+r)(...)\)</span> olduğunu
hatırlarsak,</p>
<p><span class="math display">\[
r_{eff}
= \frac{P(1+r)(1+r)... - P}{P}
= (1+r)^p-1
\]</span></p>
<p>ki <span class="math inline">\(p\)</span> periyot sayısıdır (4 tane
çeyrek, 12 tane ay, vs). Örnek, eğer nominal faiz <span
class="math inline">\(r\)</span> ise birikme çeyreksel yapılıyor ise,
yıl sonu efektif faizi,</p>
<p><span class="math display">\[ r_{eff} = (1+r/4)^4 -1  \]</span></p>
<p>İlk örnekteki durumda efektif faiz yüzde</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>eff <span class="op">=</span> (<span class="dv">1</span><span class="op">+</span><span class="fl">0.08</span><span class="op">/</span><span class="dv">4</span>)<span class="op">**</span><span class="dv">4</span> <span class="op">-</span> <span class="dv">1</span> </span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span> (eff <span class="op">*</span> <span class="fl">100.</span>)</span></code></pre></div>
<pre><code>8.243216</code></pre>
<p>İkinci örnekte ise yüzde</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>eff <span class="op">=</span> (<span class="dv">1</span><span class="op">+</span><span class="fl">0.18</span><span class="op">/</span><span class="dv">12</span>)<span class="op">**</span><span class="dv">12</span> <span class="op">-</span> <span class="dv">1</span> </span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span> (eff <span class="op">*</span> <span class="fl">100.</span>)</span></code></pre></div>
<pre><code>19.5618171462</code></pre>
<p>Yani alttaki doğru olduğuna göre,</p>
<p><span class="math display">\[ P(1+r_{eff}) = \textrm{yıl sonunda geri
ödenen miktar} \]</span></p>
<p><span class="math inline">\(r_{eff}\)</span>’in hesabında kullanılan
birikim faizi yerine tek dönemlik <span
class="math inline">\(r_{eff}\)</span> basit faizi kullanmak
eşdeğerdir.</p>
<p>Sürekli (Continuous) Biriken Faiz</p>
<p>Nominal faiz <span class="math inline">\(r\)</span> ile borç aldık
diyelim ama faiz <em>sürekli</em> şekilde birikerek hesaplanıyor. Yıl
sonu ne kadar borcumuz var? Bu soruya cevap verebilmek için
“süreklilik’’ için uygun bir tanım bulmamız lazım. Hatırlayalım, eğer
borç ödeme süresi içinde <span class="math inline">\(n\)</span> eşit
periyot üzerinden biriktiriliyorsa, nihai ödenecek borç <span
class="math inline">\(P(1+r/n)^n\)</span> idi. Bu durumda süreklilik,
<span class="math inline">\(n\)</span>’nin gittikçe büyümesi olabilir,
yani aynı süre içine sığdırılan periyotlar sonsuz çoğalır, tabii bu
periyotların süresi sonsuz küçülür, yani bu bir limit hesabıdır,</p>
<p><span class="math display">\[ P \lim_{n \to \infty} (1+r/n)^n = Pe^r
\]</span></p>
<p><span class="math inline">\(e^r\)</span>’nin nasıl limit ile ifade
edildiğini görmek için bkz [3].</p>
<p>Soru</p>
<p>Eğer bir banka nominal oran yüzde 5 sürekli birikimli faiz oranı ile
borç veriyorsa, yıl sonu için efektif faiz oranı nedir?</p>
<p>Cevap</p>
<p><span class="math display">\[ r_{eff} = \frac{P\cdot e^{0.05} - P}{P}
= e^{0.05} - 1 \approx 0.05127  \]</span></p>
<p>Yani efektif faiz yılda %5.127.</p>
<p>Eğer <span class="math inline">\(t\)</span> seneliğine borç aldıysak
ve yıllık nominal faiz <span class="math inline">\(r\)</span> ise <span
class="math inline">\(t\)</span> süresi sonunda <span
class="math inline">\(Pe^{rt}\)</span> borçlanmışız demektir, çünkü süre
sonunda etkili olan nominal faiz <span
class="math inline">\(rt\)</span>’dir, yani</p>
<p><span class="math display">\[ P \lim_{n \to \infty} (1 + rt / n)^n =
Pe^{rt}
\qquad (1)
\]</span></p>
<p>İkiye Katlama Kuralı (The Doubling Rule)</p>
<p>Soru</p>
<p>Eğer paramızı birikimi yıllık hesaplanan ve <span
class="math inline">\(r\)</span> faizi ile kazandıran bir banka hesabına
yatırdıysak, paramızı ikiye katlamak ne kadar zaman alır?</p>
<p>Cevap</p>
<p>İlk başta verdiğimiz <span class="math inline">\(D\)</span> parası
<span class="math inline">\(n\)</span> sene sonrası <span
class="math inline">\(D(1+r)^n\)</span> olacağına göre, aradığımız öyle
bir <span class="math inline">\(n\)</span> senesi ki alttaki denklem
doğru olsun,</p>
<p><span class="math display">\[ (1+r)^n = 2 \]</span></p>
<p>Yani <span class="math inline">\(D=1\)</span> kullanmış olduk, 1’in 2
olduğu duruma bakıyoruz. O zaman, üstteki denklemin sol tarafında, <span
class="math inline">\(r\)</span>’yi hem <span
class="math inline">\(n\)</span> ile çarpıp bölersek (yani hiçbir etki
olmayan bir operasyon, ama bir forma ulaşmaya uğraşıyoruz),</p>
<p><span class="math display">\[ (1+r)^n = \bigg( 1 + \frac{nr}{n}
\bigg)^n  \]</span></p>
<p><span class="math display">\[ \approx e^{nr} \]</span></p>
<p>ki geçişi (1)’deki denklem ile yaptık. Bu yaklaşıksal hesap eğer
<span class="math inline">\(n\)</span> çok ufak değilse yapılabilir.
Aradığımız ikiye katlanma durumu idi,</p>
<p><span class="math display">\[ e^{nr} = 2 \]</span></p>
<p>İki tarafın log’unu alalım,</p>
<p><span class="math display">\[ nr = \log 2 \]</span></p>
<p><span class="math display">\[ n \approx \frac{\log 2}{r} =
\frac{0.693}{r} \]</span></p>
<p>Eğer <span class="math inline">\(r = 0.01\)</span> ise, yani yüzde 1
ise, paramızın ikiye katlanması için <span class="math inline">\(\approx
0.7 / 0.01 = 70\)</span> sene geçmesi gerekir.</p>
<p>Bugünkü Değer Analizi (Present Value Analysis)</p>
<p>Bir para miktarının bugünkü değerini <span
class="math inline">\(PV\)</span> ve gelecekteki değerini <span
class="math inline">\(C\)</span> olarak gösterirsek, birikimli faiz
hesabı üzerinden</p>
<p><span class="math display">\[ C = PV (1+r)^i \]</span></p>
<p>olduğunu görmüştük. Eğer gelecekteki bir miktarı zamanı geriye
sararak bugünkü değerini görmek istesek,</p>
<p><span class="math display">\[ PV = \frac{C}{ (1+r)^i}  \]</span></p>
<p>Ya da</p>
<p><span class="math display">\[ PV = C (1+r)^{-i}  \]</span></p>
<p>Bugünkü Değer analizi bize farklı nakit / gelir akışlarına (income
stream) bakarak hangisinin daha tercih edilir olduğunu bulmamızda
yardımcı olabilir.</p>
<p>Soru</p>
<p>Diyelim ki 5 sene boyunca size sene sonu belli miktarda ödemeler
yapılacak, ve ödemeler şöyle (birim 1000 lira)</p>
<p>A: 12, 14, 16, 18, 20</p>
<p>B: 16, 16, 15, 15, 15</p>
<p>C: 20, 16, 14, 12, 10</p>
<p>Eğer faiz oranı yıllık biriken nominal yüzde 2 ise, herhangi bir
nakit akışı için değer</p>
<p><span class="math display">\[ \sum_{i=1}^{5} (1+r)^{-i}
x_i\]</span></p>
<p>ile hesaplanır. Ödeme zincirindeki her birimi bugüne getiriyoruz, ve
bugüne uyarlanmış bu ödemeleri topluyoruz. En yüksek olan miktar en
tercih edilir olur.</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>a <span class="op">=</span> np.array([<span class="dv">12</span>, <span class="dv">14</span>, <span class="dv">16</span>, <span class="dv">18</span>, <span class="dv">20</span>])</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>b <span class="op">=</span> np.array([<span class="dv">16</span>, <span class="dv">16</span>, <span class="dv">15</span>, <span class="dv">15</span>, <span class="dv">15</span>])</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>c <span class="op">=</span> np.array([<span class="dv">20</span>, <span class="dv">16</span>, <span class="dv">14</span>, <span class="dv">12</span>, <span class="dv">10</span>])</span></code></pre></div>
<div class="sourceCode" id="cb6"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> pv(x,r):</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>    res <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(x)):</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>        res <span class="op">+=</span> x[i]<span class="op">*</span>(<span class="dv">1</span><span class="op">+</span>r)<span class="op">**</span>(<span class="op">-</span>(i<span class="op">+</span><span class="dv">1</span>))</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> res</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span> (<span class="st">&#39;      A                 B           C&#39;</span>)</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>r <span class="op">=</span> <span class="fl">0.1</span><span class="op">;</span> <span class="bu">print</span> (r, pv(a,r), pv(b,r), pv(c,r))</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>r <span class="op">=</span> <span class="fl">0.2</span><span class="op">;</span> <span class="bu">print</span> (r, pv(a,r), pv(b,r), pv(c,r))</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>r <span class="op">=</span> <span class="fl">0.3</span><span class="op">;</span> <span class="bu">print</span> (r, pv(a,r), pv(b,r), pv(c,r))</span></code></pre></div>
<pre><code>      A                 B           C
0.1 59.2130443152 58.5973387312 56.3287405853
0.2 45.6995884774 46.3869598765 45.6854423868
0.3 36.4863328961 37.8944930284 38.119221208</code></pre>
<p>Sonuçlara bakınca ufak <span class="math inline">\(r\)</span>’ler
için A’nın daha tercih edilir olduğu görülüyor. Ama biraz daha büyük
<span class="math inline">\(r\)</span>’ler için, mesela üstte <span
class="math inline">\(r=0.2\)</span> için, B daha iyi. Daha da büyük
<span class="math inline">\(r\)</span>’ler için C tercih edilir.</p>
<p>Soru</p>
<p>Bir şirketin 5 sene boyunca bir tür iş makinasına ihtiyacı var.
Ellerinde böyle (eski) bir makina var, makinanın şu anki değeri 6000
lira ki önümüzdeki 3 sene içinde bu makina her sene 2000 lira değer
kaybedecek, ve bu süre sonunda hiçbir değeri kalmayacak,
kullanılamayacak. Bu makinanın sene başı itibariyle yıllık işletme
bedeli ise 9000 lira, ve bu bedel her sene 2000 lira artıyor; makina
eskidikçe onu işletmek daha pahalıya mal oluyor.</p>
<p>22000 liraya yeni bir makina, herhangi bir sene başında, alınabilir.
Yeni makinanın ömrü 6 senedir ve değeri, alındığı ilk iki sene içinde
her sene 3000 lira, ardından her takip eden sene içinde yılda 4000 lira
azalacaktır. Yeni makinanın işletme bedeli alındığı ilk senede 6000
lira, takip eden her sene 1000 lira artacak şekildedir. Eğer faiz oranı
yüzde 10 ise, şirket yeni makinayı ne zaman almalıdır?</p>
<p>Cevap</p>
<p>Bu sorunun cevabı için farklı nakit akışı senaryolarına bakmak lazım.
Senaryolar şirketin yeni bir makinayı hangi sene başında alacağına göre
değişir. Nakit akışından artı olan akış yapılan bir ödemeyi, eksi
miktarlar ele geçen miktarı temsil edebilir; daha sonra her nakit akışı
üzerinde Bugünkü Değer hesabı (BDH) yapılarak tüm senaryolar tek bir
sayıya indirgenir, ve bu sayılar arasında en az olan seçilir (en az
ödeme). Ödemeler yeni makina almak, ya da makina işletimi için ödenen
para, kazançlar ise eldeki makinanın satımından elde eden gelir
olacaktır. Tabii yeni makinanın alım senesi eskisinin ne zaman
satıldığını belirler, ayrıca yeni makina da 5 sene sonra satılacaktır.
Senaryolar şöyle (sene başı olacak şekilde, ve her rakam 1000 lira
biriminden),</p>
<ol type="1">
<li><p>Sene: 22, 7, 8, 9, 10, -4</p></li>
<li><p>Sene: 9, 24, 7, 8, 9, -8</p></li>
<li><p>Sene: 9, 11, 26, 7, 8, -12</p></li>
<li><p>Sene: 9, 11, 13, 28, 7, -16</p></li>
</ol>
<p>Eğer yeni makina alımı 1. sene başında olsaydı 22K (K=bin lira)
makina için ödenirdi, bu dışarı doğru artı akis, 6K işletme masrafı var,
ama eski makina satılıyor, bu -6K, sonuç 22K. 2. sene 7K, bu işletme
masrafı. Ardından gide gide 6. sene başına geliyoruz, burada 5 sene
geçmiş, yeni makinanın değeri azalmış, onu satınca ele geçen miktar
<span class="math inline">\(22 - 3K \cdot 2 + 4K \cdot 3 = 4\)</span>,
yani nakit akışı dilinde -4.</p>
<ol start="3" type="1">
<li>sene başı yeni makina alım senaryosu için, 1. sene 9K eski makina
işletme masrafı, 2. sene 11K işletim masrafı, 3. sene yeni makina
alınıyor ve 22K ödeniyor, 6K işletim masrafı var, eski makina satılıyor
-2K, sonuç 26K. 4. sene için 7K işletim, 5. sene 8K işletim, 6. sene 3
yaşındaki yeni makina satılıyor, -12K. Diğer nakit akışları benzer
şekilde gösterilebilir.</li>
</ol>
<p>Eğer faiz oranı 0.10 ise, mesela 1. sene nakit akışının BDH’i</p>
<p><span class="math display">\[
22 + \frac{7}{1.1} + \frac{8}{(1.1)^2} + \frac{9}{(1.1)^3} +
\frac{10}{(1.1)^4} - \frac{4}{(1.1)^5}  = 46.083
\]</span></p>
<p>Diğer akışlar benzer şekilde hesaplanır, ve tüm BDH’ler,</p>
<p>46.083, 43.794, 43.760, 45.627</p>
<p>Bu akışların içinde en düşük olanı 43.760, yani 3. sene başı yeni
makina alımıdır. O zaman şirket 2 sene sonra yeni makinayı
almalıdır.</p>
<p>Soru</p>
<p>20 sene sonra emekli olmayı düşünen bir kişi önündeki her 240 ayın
(20*12=240) başında <span class="math inline">\(A\)</span> miktarını
bankaya yatıracak. Emekli olduktan sonra her 360 ayın başında para
çekecek. Yıllık nominal faiz oranı yüzde 6 üzerinden, ve aylık biriken
faiz hesabı kullanılarak, bu kişinin 360 ay boyunca para çekebilmesi
için <span class="math inline">\(A\)</span>’nin ne kadar büyük olması
gerekir?</p>
<p>Cevap</p>
<p>Aylık faiz <span class="math inline">\(r = 0.06 / 12 = 0.005\)</span>
olur. Bir <span class="math inline">\(\beta = \frac{1}{1+r}\)</span>
tanımlayalım, o zaman kişinin bankaya yatırıdığı tüm paranın BDH’si</p>
<p><span class="math display">\[
A + A\beta + A\beta^2 + ... + A\beta^{239} =
A \frac{1-\beta^{240}}{1-\beta}
\]</span></p>
<p>Üstte kullanılan eşitlik [2] bölümünde gösterildi. Şu eşitlik,</p>
<p><span class="math display">\[ 1 + b + b^2 + ... + b^n =
\frac{1-b^{n+1}}{1-b} \]</span></p>
<p>Soruya dönelim, 360 boyunca her ay çekilen paranın <span
class="math inline">\(W\)</span> olduğunu farz edelim, tüm bu para
alımlarının BDH’si,</p>
<p><span class="math display">\[
W\beta^{240} + W\beta^{241} + ... +  W\beta^{599} =
W\beta^{240} \frac{1-\beta^{360}}{1-\beta}
\]</span></p>
<p>Üstelin 240’tan başladığına dikkat, çünkü para çekimi 240 ay sonra
başlıyor, yani o zaman yapılan çekimleri yatırmaların yapıldığı zamanlar
üzerinen getirip bugüne uyarlamak gerekiyor. <span
class="math inline">\(A\)</span>’yi bulmak için bir üstteki ile iki
üstteki denklemin birbirine eşit olması gerekir, çünkü yatırılan paralar
ile emeklilik finanse edilecek.</p>
<p><span class="math display">\[
A \frac{1-\beta^{240}}{1-\beta} =
W\beta^{240} \frac{1-\beta^{360}}{1-\beta}\]</span></p>
<p>Bilinenler <span class="math inline">\(W=1000\)</span>, ve <span
class="math inline">\(\beta = 1/1.005\)</span>, yerine koyarsak <span
class="math inline">\(A=360.99\)</span> buluruz. Yani 24 sene boyunca
her ay hesabına 361 lira koymak bu kişinin ileride 30 sene boyunca 1000
lira çekebilmesini sağlar.</p>
<p>Soru</p>
<p>Ev almak istiyoruz ve 100,000 liraya ihtiyaç var. Ödemeyi emlak
kredisi (mortgate) ile yapacağız, bir bankaya gittik, banka 100K borcu
verecek, şartları şöyle: borcun geri ödemesi 15 sene süresinde aylık,
yüzde 0.6 faiz oranı üzerinden yapılacak. Banka kırtasiye işlemler için
600 lira, evin kontrolü için 400 lira, ve 1 “nokta (point)’’ istiyor, ki
burada 1 nokta tüm borcun yüzde 1’ine tekabül ediyor, bu miktar da
bankaya işin başında ödenmeli.</p>
<p>Cevap</p>
<p>Öncelikle her ay ne kadar ödeyeceğimizi hesaplayalım. Bu miktara
<span class="math inline">\(A\)</span> dersek,</p>
<p><span class="math display">\[ A [\alpha + \alpha^2 + ... +
\alpha^{180}] = 100,000 \]</span></p>
<p>ki <span class="math inline">\(\alpha = 1/1.006\)</span>. Burada
yüzde 0.6 aylık biriken faiz demek ki. O zaman</p>
<p><span class="math display">\[ A = \frac{100,000(1-\alpha)}{\alpha
(1-\alpha^{180})} = 910.05 \]</span></p>
<div class="sourceCode" id="cb8"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>n <span class="op">=</span> <span class="dv">15</span> <span class="op">*</span> <span class="dv">12</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>alpha <span class="op">=</span> <span class="dv">1</span><span class="op">/</span><span class="fl">1.006</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>P1 <span class="op">=</span> <span class="dv">100000</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>A1 <span class="op">=</span>  P1<span class="op">*</span>(<span class="dv">1</span><span class="op">-</span>alpha) <span class="op">/</span> (alpha<span class="op">*</span>(<span class="dv">1</span><span class="op">-</span>alpha<span class="op">**</span>n))</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span> (<span class="st">&#39;A=&#39;</span>,A1)</span></code></pre></div>
<pre><code>A= 910.046739324</code></pre>
<p>Efektif yıllık faiz yüzde</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span> (<span class="dv">100</span> <span class="op">*</span> ((<span class="dv">1</span><span class="op">+</span><span class="fl">0.006</span>)<span class="op">**</span><span class="dv">12</span> <span class="op">-</span> <span class="dv">1</span>))</span></code></pre></div>
<pre><code>7.44241677219</code></pre>
<p>Fakat bir pürüz var; Eğer hakikaten elimize 100,000 geçseydi, hesap
bu olurdu. Fakat ilk başta 600 lira, kontrol için 400 lira, yüzde 1
ödeme derken, yani 1000 ile 600+400+1000 = 2000 lira ödemeyi başta
yaptığımız için aslında elimize geçen 100,000-2,000 = 98,000 liradır.
Aynı hesabı</p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>P2 <span class="op">=</span> P1 <span class="op">-</span> <span class="dv">2000</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>A2 <span class="op">=</span>  P2<span class="op">*</span>(<span class="dv">1</span><span class="op">-</span>alpha) <span class="op">/</span> (alpha<span class="op">*</span>(<span class="dv">1</span><span class="op">-</span>alpha<span class="op">**</span>n))</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span> (<span class="st">&#39;Yeni A=&#39;</span>, A2)</span></code></pre></div>
<pre><code>Yeni A= 891.845804538</code></pre>
<p>Fakat [1, sf. 58]’de ilginç bir başka ek soru soruluyor. Diyelim ki
banka bize <span class="math inline">\(r=0.006\)</span> verdi, fakat
aylık ödeme olarak daha önce bulunan <span
class="math inline">\(A=910\)</span> liralık ödemeyi istedi. O zaman
bize verilen <span class="math inline">\(r\)</span> gerçek <span
class="math inline">\(r\)</span> değil. Gerçek <span
class="math inline">\(r\)</span> nedir? Bunun için <span
class="math inline">\(\alpha\)</span> yerine <span
class="math inline">\(\beta=1/1+r\)</span> kullanalım, ve</p>
<p><span class="math display">\[ A [\beta + \beta^2 + ... + \beta^{180}]
= 98,000 \]</span></p>
<p><span class="math display">\[ \frac{\beta (1-\beta^{180})}{(1-\beta)}
= 98,000 / 910 = 107.69\]</span></p>
<p>Bölümde 1. <span class="math inline">\(A\)</span>’nin kullanıldığına
dikkat. Şimdi, amaç <span class="math inline">\(r\)</span>’yi bulmak
olduğuna göre, biraz yeniden düzenleme ile <span class="math inline">\(r
= \frac{1-\beta}{\beta}\)</span> diyerek</p>
<p><span class="math display">\[ \frac{1 - (\frac{1}{1+r})^{180}}{r} =
107.69 \]</span></p>
<p>Amaç <span class="math inline">\(r\)</span>’yi bulmak, daha çetrefil
çözüm rutinleri kullanabilirdik burada, ama nasıl olsa <span
class="math inline">\(r &gt; 0.006\)</span> olduğunu biliyoruz, ve biraz
deneme yanılma ile hedef sayıya erişince eldeki <span
class="math inline">\(r\)</span>’ye bakarız, ve sonucu bulmuş
oluruz.</p>
<div class="sourceCode" id="cb14"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span> (<span class="st">&#39;Hedef&#39;</span>, P2 <span class="op">/</span> A1, <span class="st">&#39;</span><span class="ch">\n</span><span class="st">&#39;</span>)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>func <span class="op">=</span> <span class="kw">lambda</span> r : (<span class="dv">1</span> <span class="op">-</span> (<span class="dv">1</span><span class="op">/</span>(<span class="dv">1</span><span class="op">+</span>r))<span class="op">**</span><span class="dv">180</span> ) <span class="op">/</span> r</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>r <span class="op">=</span> <span class="fl">0.006</span><span class="op">;</span> <span class="bu">print</span> (func(r))</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>r <span class="op">=</span> <span class="fl">0.0062</span><span class="op">;</span> <span class="bu">print</span> (func(r))</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>r <span class="op">=</span> <span class="fl">0.00625</span><span class="op">;</span> <span class="bu">print</span> (func(r))</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>r <span class="op">=</span> <span class="fl">0.00628</span><span class="op">;</span> <span class="bu">print</span> (func(r))</span></code></pre></div>
<pre><code>Hedef 107.686776695 

109.884466016
108.271268844
107.873426844
107.63575696</code></pre>
<p>Bu <span class="math inline">\(r\)</span> için efektik yıllık
faiz</p>
<div class="sourceCode" id="cb16"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span> (<span class="dv">100</span> <span class="op">*</span> ((<span class="dv">1</span><span class="op">+</span>r)<span class="op">**</span><span class="dv">12</span> <span class="op">-</span> <span class="dv">1</span>))</span></code></pre></div>
<pre><code>7.80182002033</code></pre>
<p>Enflasyon Etkisini Çıkartmak</p>
<p>Yıla göre fiyatları içeren bir zaman serisinden enflasyon etkisi
nasıl çıkartılır? Diyelim ki enflasyon verisi de aynı zaman serisine
endeksli olarak bir yüzde olarak verilmiş. İnternet’te arama yapınca bu
işi yapacak o tek satırlık (öne-liner) kodu bir türlü bulamadık; CPI
gibi bambaşka bir sayıdan bahsediliyor, saçma sapan konulara dalınmış.
Bu işlem basit bir şey olmalıydı, çünkü enflasyon bir yüzde olarak
normal fiyata bir şey ekler, çıkartmak bu kadar zor olmamalı.</p>
<p>Bu işlemde dikkat edilmesi gereken bir pürüz şudur: enflasyon etkisi
sadece baz fiyata değil, “bir önceki senedeki enflasyonun büyüttüğü eki
de” büyütür. Önceki sene 100 olan yüzde 10 büyüme ile 110 olur, yani
sonraki sene yüzde 10 ile 100’ün değil 110’un yüzde 10’u eklenir, ve 121
elde edilir. Bu sebeple enflasyon etkisini çıkartacak kod bunu hesaba
katmalı.</p>
<p>İş başa düştü, bu çıkartma işini kodlamak için basit bir örnekle
başladık. Diyelim ki baz fiyat, ve enflasyon hiç değişmiyor,</p>
<p><span class="math display">\[
\begin{array}{cccc}
Sene &amp; Fiyat &amp; Enflasyon &amp; Fiyat Formülü \\
\hline
1 &amp; 100 &amp; 10 &amp; ... \\
2 &amp;   110  &amp;   10   &amp; 100 \cdot (1+0.1) \\
3 &amp;   121   &amp;  10   &amp; 100 \cdot (1+0.1) \cdot (1+0.1) \\
4 &amp;   133.1 &amp;  10   &amp; 100 \cdot (1+0.1) \cdot (1+0.1) \cdot
(1+0.1)
\end{array}
\]</span></p>
<ol start="3" type="1">
<li>kolon fiyatın formülsel olarak belirtilmiş halidir. Bu örneği
kullanarak fiyatların ve enflasyonun değişken olduğu durumu halletmek te
mümkün olur; tek yapılması gereken 100 ile çarpılan fiyatı fiyat
kolonundan almaya başlamak.</li>
</ol>
<p>Ama ondan önce çıkartma formülü.</p>
<p>Mesela 3. sene <span class="math inline">\(100 \cdot (1+0.1) \cdot
(1+0.1)\)</span>, bu formül bir önceki senenin fiyatını alıyor, ki bu
fiyatın formülü <span class="math inline">\(100 \cdot (1+0.1)\)</span>,
böylece artışın artışını da hesaba almış oluyor. Şimdi formülleri içeren
tüm kolonlara bakınca kalıp ortaya çıkıyor (matematik kalıpların dilidir
-language of patterns-); bu kalıp nedir? <span
class="math inline">\((1+01)\)</span>’in her sene artan bir şekilde
başlangıç fiyatı 100 ile çarpılıyor olmasıdır. Eğer her sene enflasyon
değişik ise, o zaman her satırda <span
class="math inline">\((1+enflasyon/100)\)</span> ile çarpım yapıyoruz,
ve bu çarpımlar bir önceki çarpıma eklenerek büyüyorlar. O zaman her
sene enflasyonun etkisini çıkartmak için bu çarpım zincirinin ne
olduğunu bulmak ve her sene fiyatını bu çarpıma bölmek yeterli!</p>
<p>Eğer her sene enflasyon aynı olsaydı, mesela yüzde 10, o zaman <span
class="math inline">\((1+10/100)\)</span>’un gerekli katlarını alarak bu
bölümü yapabilirdik. Değişik olunca Pandas ile bir takla atarak
istediğimizi elde ederiz; her satırda bir önceki tüm kolonların 1 ile
toplanmış değerlerini çarpmak lazım, bunun için <code>cumprod()</code>
işlevi kullanılır.</p>
<div class="sourceCode" id="cb18"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>s<span class="op">=</span><span class="st">&quot;&quot;&quot;sene;fiyat;enflasyon</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="st">1;100;</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="st">2;110;10   </span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="st">3;121;10   </span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="st">4;133.1;10&quot;&quot;&quot;</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> io <span class="im">import</span> StringIO</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(StringIO(s),sep<span class="op">=</span><span class="st">&#39;;&#39;</span>).fillna(<span class="dv">0</span>)</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span> (df)</span></code></pre></div>
<pre><code>   sene  fiyat  enflasyon
0     1  100.0          0
1     2  110.0         10
2     3  121.0         10
3     4  133.1         10</code></pre>
<p>1 ile toplanmış yüzdelerin çarpım kümülatifi</p>
<div class="sourceCode" id="cb20"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;enfkumulatif&#39;</span>]  <span class="op">=</span> (<span class="dv">1</span><span class="op">+</span>df[<span class="st">&#39;enflasyon&#39;</span>]<span class="op">/</span><span class="fl">100.</span>).cumprod()</span></code></pre></div>
<p>Etkiyi çıkartmak için</p>
<div class="sourceCode" id="cb21"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;reel&#39;</span>]  <span class="op">=</span> df[<span class="st">&#39;fiyat&#39;</span>] <span class="op">/</span> df[<span class="st">&#39;enfkumulatif&#39;</span>]</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span> (df)</span></code></pre></div>
<pre><code>   sene  fiyat  enflasyon  enfkumulatif  reel
0     1  100.0          0         1.000   100
1     2  110.0         10         1.100   100
2     3  121.0         10         1.210   100
3     4  133.1         10         1.331   100</code></pre>
<p>Görüldüğü gibi her satırda reel fiyat 100 liraya dönüş yaptı. Reel
fiyat hep aynı çünkü başka hiçbir artışı gözönüne almadık (verimiz o
şekilde çünkü). Eğer örneğimizde fiyat kolonu mesela petrol fiyatları
olsaydı, bu fiyatlar bir de piyasa sebebiyle ortaya çıkan artışları da
içerecekti, ve enflasyon etkisini çıkartınca elimize gerçek fiyat
artışları (ya da düşüşleri) geçecekti.</p>
<p>Yıllık Faizi Günlük Faize Çevirmek</p>
<p>Belli bir periyotta olan faizin etkisini bulmak için, <span
class="math inline">\(p\)</span> periyot ve <span
class="math inline">\(\beta\)</span> faiz diyelim, anaparayı <span
class="math inline">\((1+\beta)^p\)</span> ile çarparız. Acaba geriye
nasıl gideriz? Ya da büyük bir periyot faizinden daha ufak bir periyota
geçiş yapabilir miyiz? Mesela yıllık enflasyonu günlük enflasyona (sabit
olduğunu farz edelim) çevirmek için ne yapılır? Yıllık enflasyon <span
class="math inline">\(y\)</span> günlük <span
class="math inline">\(r\)</span> olsun, <span
class="math inline">\(p\)</span> tane periyot olacak, ki bu örnekte
365,</p>
<p><span class="math display">\[
(1+r)^p = (1+y)
\]</span></p>
<p><span class="math display">\[
1+r = (1+y)^{\frac{1}{p}}
\]</span></p>
<p><span class="math display">\[
1+r = (1+y)^{\frac{1}{p}}
\]</span></p>
<p><span class="math display">\[
r =  (1+y)^{\frac{1}{p}} -1
\]</span></p>
<p>Örnek olarak yıllık faiz 3.2 olsun, günlük artış yüzde kaçtır?</p>
<div class="sourceCode" id="cb23"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>d <span class="op">=</span> <span class="fl">3.2</span> <span class="op">/</span> <span class="fl">100.</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>r <span class="op">=</span> (((<span class="dv">1</span><span class="op">+</span>d)<span class="op">**</span>(<span class="dv">1</span><span class="op">/</span><span class="fl">365.</span>))<span class="op">-</span><span class="fl">1.0</span>)</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span> ((<span class="st">&quot;</span><span class="sc">%0.6f</span><span class="st">&quot;</span> <span class="op">%</span> (r <span class="op">*</span> <span class="dv">100</span>)))</span></code></pre></div>
<pre><code>0.008630</code></pre>
<p>Kaynaklar</p>
<p>[1] Ross, <em>An Elementary Introduction to Mathematical
Finance</em></p>
<p>[2] Bayramlı, Diferansiyel Denklemler, <em>Seriler</em></p>
<p>[3] Bayramlı, Diferansiyel Denklemler, <em>Bir Limit Olarak <span
class="math inline">\(e\)</span></em></p>
<p>[4] Question, Stackoverflow, <em>If the annual inflation rate is 3.2
perc, how can I calculate the daily inflation rate??</em>, <a
href="https://math.stackexchange.com/questions/2029960/if-the-annual-inflation-rate-is-3-2-how-can-i-calculate-the-daily-inflation-ra">https://math.stackexchange.com/questions/2029960/if-the-annual-inflation-rate-is-3-2-how-can-i-calculate-the-daily-inflation-ra</a></p>
<p>
  <a href="..">Yukarı</a>
</p>
</body>
</html>
