\documentclass[12pt,fleqn]{article}\usepackage{../../common}
\begin{document}


\begin{minted}[fontsize=\footnotesize]{python}
import pandas as pd

a = np.array([2.0, 2.03, 2.07, 2.11, 2.13, 2.17, 2.25, 2.29, 2.33, 2.4])
b = np.array([4.0, 4.06, 4.11, 4.17, 4.22, 4.28, 4.33, 4.39, 4.44, 4.5])

a = pd.Series(a); b = pd.Series(b)
print (list(np.round(a.pct_change(),2)))
print (list(np.round(b.pct_change(),2)))
\end{minted}

\begin{verbatim}
[nan, 0.01, 0.02, 0.02, 0.01, 0.02, 0.04, 0.02, 0.02, 0.03]
[nan, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01]
\end{verbatim}


\begin{minted}[fontsize=\footnotesize]{python}
df = pd.concat([a,b],axis=1)
df.columns = ['a','b']
print (df)
\end{minted}

\begin{verbatim}
      a     b
0  2.00  4.00
1  2.03  4.06
2  2.07  4.11
3  2.11  4.17
4  2.13  4.22
5  2.17  4.28
6  2.25  4.33
7  2.29  4.39
8  2.33  4.44
9  2.40  4.50
\end{verbatim}

\begin{minted}[fontsize=\footnotesize]{python}
positions = np.zeros(df.shape)
positions[:,0] = 0.5
positions[:,1] = 0.5
ret = (df.pct_change() * positions).sum(axis=1)
print (ret)
print (np.prod(1+ret))
print ('APR', ((np.prod(1+ret))**(252./len(ret)))-1)
\end{minted}

\begin{verbatim}
0    0.000000
1    0.015000
2    0.016010
3    0.016961
4    0.010735
5    0.016499
6    0.024274
7    0.015817
8    0.014428
9    0.021778
dtype: float64
1.1620428461381263
APR 43.01472199080321
\end{verbatim}

\begin{minted}[fontsize=\footnotesize]{python}
positions = np.zeros(df.shape)
positions[:,0] = 0.8
positions[:,1] = 0.2
ret = (df.pct_change() * positions).sum(axis=1)
print (np.prod(1+ret))
print ('APR', ((np.prod(1+ret))**(252./len(ret)))-1)
\end{minted}

\begin{verbatim}
1.1847063822264405
APR 70.61274939993416
\end{verbatim}

















\begin{minted}[fontsize=\footnotesize]{python}
import pandas as pd
df = pd.read_csv('curr.csv',index_col='Date',parse_dates=True)
\end{minted}

\begin{minted}[fontsize=\footnotesize]{python}
ge_df = df[df.index < '2023-01-01']
positions = np.zeros(ge_df.shape)
for x in np.linspace(0,1,10):
   positions[:,0] = x
   positions[:,1] = 1-x
   ret = (ge_df.pct_change() * positions).sum(axis=1)
   #print (x, np.prod(1+ret))
   print ('APR', x, ((np.prod(1+ret))**(252./len(ret)))-1)
\end{minted}

\begin{verbatim}
APR 0.0 0.22988755267779637
APR 0.1111111111111111 0.2355206263222165
APR 0.2222222222222222 0.2399030652310279
APR 0.3333333333333333 0.24302505391637585
APR 0.4444444444444444 0.24488021914767022
APR 0.5555555555555556 0.2454656487088207
APR 0.6666666666666666 0.24478189547725693
APR 0.7777777777777777 0.24283296684140043
APR 0.8888888888888888 0.23962629955379122
APR 1.0 0.2351727201965763
\end{verbatim}




















\end{document}
