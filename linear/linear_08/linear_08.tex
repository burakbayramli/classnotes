\documentclass[12pt,fleqn]{article}\usepackage{../../common}
\begin{document}
Ders 8

Bu derste lineer denklemleri tamamen çözmeyi öðreneceðiz, amaç, eðer bir
çözüm var ise $Ax=b$ çözümü olacak. Bir çözümün olmamasý da mümkündür,
eliminasyon kullanarak bu olasýlýðý saptamayý da öðreneceðiz. Eðer çözüm
var ise, bu çözüm tek çözüm müdür, bir çözüm ailesi var mýdýr? Bunlara
bakacaðýz. 

Örnek olarak önceki derste sýfýr uzayý bulmak için kullandýðým örneði
kullanacaðým, sadece sað tarafta sýfýr yerine $b$ vektörü var.

$$ x_1 + 2x_2 + 2x_3 + 2x_4 = b_1 $$

$$ 2x_1 + 4x_2 + 6x_3 + 8x_4 = b_2 $$

$$ 3x_1 + 6x_2 + 8x_3 + 10x_4 = b_3 $$

Hatýrlarsak bu örnekte 3. satýr 1. ve 2. satýrýn toplamýydý. Bu bilgiden
hareketle eliminasyon bu denklem sisteminin sað kýsmý hakkýnda bir þey
keþfedeceðini hemen tahmin edebiliriz. Mesela $b_1=1,b_2=5,b_3=17$ desem,
bu deklemin çözümü olmaz. Çoðu sayý için aslýnda bu denklemin çözümü
olmaz. Hangi $b$'ler için çözüm olabilir? Mesela $b_1=1,b_2=5,b_3=6$
deseydim çözüm olurdu, çünkü o zaman denklemin sað tarafýnda da 1. ve
2. satýr toplamý 3. satýra eþit olurdu, aynen sol tarafta olduðu
gibi. Eliminasyonun bu durumu nasýl keþfedeceðini görelim bakalým.

Denklem sistemini matris formunda yazalým, eþitliðin sað kýsmýný da
matrisin saðýna bitiþtirelim, ki bu eklemlenmiþ (augmented) bir matris
olacak, 

$$ 
\left[\begin{array}{rrrr|r}
1 & 2 & 2 & 2 & b_1 \\
2 & 4 & 6 & 8 & b_2 \\
3 & 6 & 8 & 10 & b_3
\end{array}\right]
 $$

Bunu eliminasyon sýrasýnda ayný iþlemleri eþitliðin sað kýsmýna da rahatça
uygulayabilmek için yaptýk. Eliminasyona baþlayalým; Pivot en üst sol
kýsýmda, 1. satýrdan 2 taneyi 2., 3 taneyi 3. satýrdan çýkartýrým,

$$ 
\left[\begin{array}{llll|l}
(1) & 2 & 2 & 2 & b_1 \\
0 & 0 & 2 & 4 & b_2-2b_1 \\
0 & 0 & 2 & 4 & b_3-3b_1
\end{array}\right]
 $$

Bir sonraki pivot'a geçiyorum, ve 2. satýrý 3.'den çýkartýyorum,

$$ 
\left[\begin{array}{llll|l}
(1) & 2 & 2 & 2 & b_1 \\
0 & 0 & (2) & 4 & b_2-2b_1 \\
0 & 0 & 0 & 0 & b_3-b_2-b_1
\end{array}\right]
 $$

En son satýrdaki formül ne diyor? 

$$ 0 = b_3 - b_2 - b_1 $$

Bu formül bu sistemin ``çözülebilme (solvability)'' koþulunu da tarif
ediyor. Bu durumu zaten üstte tahmin etmiþtik, þimdi eliminasyon da
keþfetti. Üstteki ifade son denklem hakkýnda bir beyanda bulundu. Þimdi
geri kalan (ilk) iki denklemi dört bilinmeyen üzerinden çözmeye
uðraþacaðým.

Çözülebilme (eþitliðin sað tarafý hakkýnda bir kural)

Eðer $b$ $C(A)$ içinde, yani $A$'nin kolon uzayýnda ise çözülebilir
demektir. 

Ayný þeyi farklý bir dille belirtelim;

$A$'nin hangi satýr kombinasyonu sýfýr sonucu veriyorsa, ayný kombinasyon,
$b$ üzerinde de sýfýr sonucunu vermelidir. 

Tabii daha genel bir soru þu: bu sistemin çözümü var mýdýr? Varsa, bu
çözümü nasýl buluruz? 

Tüm çözümleri bulmadan önce, tek bir çözümü bulmaya odaklanalým. Elimde iki
denklem var, 4 bilinmeyen var, aslýnda bir sürü çözüm bulmayý beklerim, ama
ondan önce, dediðimiz gibi, tek bir çözüm bulalým. Bu çözüme $x_{ozel}$
diyelim (particular, özel anlamýnda). 

1) Tüm serbest deðiþkenlere sýfýr ver. 

2) $Ax=b$'nin pivot deðiþkenlerini çöz

Bu sistemde serbest deðiþkenler hangileri? Üstte eliminasyon sýrasýnda bu
ortaya çýktý zaten, yeþille iþaretli olanlar pivot, geri kalanlarý
serbest. Serbest deðiþkenler $x_2,x_4$. Bunlara sýfýr verelim,
$x_2=0,x_4=0$, ayrýca $b_1=1,b_2=3,b_3=0$ olarak alalým,

$$ x_1 + 2x_3 = 1 $$

$$ 2x_3 = 3 $$

Geriye koyma tekniði ile $x_3 = 3/2$ ve bunu alýp iki üstteki denkleme
verince, $x_1 = -2$. Yani,

$$ x_{ozel} = \left[\begin{array}{c}
-2 \\ 0 \\ 3/2 \\ 0
\end{array}\right] $$

Bu özel çözüm, ``serbest deðiþkenlerinde sýfýr olan özel çözüm'' daha doðrusu. 

Geri kalan çözümleri nasýl bulurum?  Þöyle, 

$$ x = x_{ozel} + x_{sýfýr} $$

Yani $A$'nin sýfýr uzayýndan herhangi bir vektör $x_{sýfýr}$'i $x_{ozel}$
çözüme eklersem, tüm çözümleri teker teker bulmuþ olurum. 

Bu niye iþliyor? Ve bu kalýbýn tekrar tekrar matematiðin geri kalanýnda
ortaya çýktýðýný göreceksiniz; sebep nedir? Düþünürsek, $Ax_{ozel} = b$
deðil mi? Çünkü özel çözüm eþitliðin sað tarafýný tatmin eden
çözümdür. Diðer yandan $Ax_{sýfýr} = 0$. Bunlarý toplarsam,

$$ Ax_{ozel} = b $$
$$ Ax_{sýfýr} = 0 $$
$$ \underline{+\hspace{10em}} $$
$$ A(x_{ozel} + x_{sýfýr}) = b $$

Sözel olarak belirtmek gerekirse, elimde bir çözüm var ise, öne sýfýr
uzayýndan herhangi bir vektörü eklersem yeni bir çözüm elde ederim, çünkü
bu ekleme iþlemi eþitliðin sað tarafýný deðiþtirmez / bozmaz, $b$'ye sýfýr
ekleyince yine $b$ elde ederim. Üstteki örnek için bunu uyguluyalým, 

$$ 
x_{tum} = 
\left[\begin{array}{r}
-2 \\ 0 \\ \frac{3}{2} \\ 0
\end{array}\right] + 
c_1 
\left[\begin{array}{r}
-2 \\ 1 \\ 0 \\ 0
\end{array}\right] + 
c_2 
\left[\begin{array}{r}
2 \\ 0 \\ -2 \\ 1
\end{array}\right] 
 $$

$c_1,c_2$'nin çarptýðý vektörleri daha önceki derste (ayný) $A$'nin sýfýr
uzayýnda olarak bulmuþtuk, onlarý direk alýp kullandýk. Ayrýca onlarýn tüm
kombinasyonlarýný kullandýk çünkü $x_{sýfýr}$'in, yani sýfýr uzayýnýn tanýmý
budur.

Soru: üstteki formülde ilk terimi oluþturan matrisi, yani $x_{ozel}$
kýsmýný bir sabit ile çarpmam gerekir mi? Cevap hayýr, çünkü bu özel çözüm
bana $b$ sonucunu verdi, onu deðiþtirmem mümkün deðil. Fakat $x_{sýfýr}$'i
istediðim sabitle çarparým çünkü o eþitliðin sað tarafý sýfýr, sýfýrla
sabit çarpýlýnca yine sýfýr elde edilir. Tekrarlamak gerekirse, $x_{ozel}$
tek, ``özel'' bir vektör, $x_{sýfýr}$ ise tüm bir .. altuzay (subspace)
deðil mi? Yani tek bir þey artý tüm bir altuzaydan bahsediyoruz.

Çizmeye uðrasayým, boyut dört, o zaman $\mathbb{R}^4$'deyiz. Peki çözümümüz
bir altuzay oluþturur mu? Hayýr. Özel çözüme eklediðimiz sýfýr uzayý bir
altuzaydýr, elimizde iki vektör var, yani $\mathbb{R}^4$'in içinde iki
boyutlu bir altuzaydayýz bu durumda [hoca altta 4 boyutlu eksenler çizmeye
uðraþtý, düzlem tüm çözümü gösteriyor, orijinden düzleme bir vektör çizdi
ki bu çözümlerden bir tanesi oluyor]

\includegraphics[height=5cm]{8_01.png}

Bu düzlem bir altuzay deðil, dikkat, çünkü orijinden geçmiyor. 

Bu noktada durup büyük resim hakkýnda düþünelim biraz. Eðer $m \times n$
boyutlarýnda matrisimiz var ve kerte $r$ ise, $r$ tane pivot var, ve 
$r \le m,r \le n$. Satýrdan fazla pivot olamaz, ayrýca bir kolonda birden 
fazla pivot olamaz. 

Þimdi ``tam kolon kertesi (full column rank)'' durumunu düþünelim, yani $r = n$,
yani her kolonda bir pivot var. Bu durumda sýfýr uzayý hakkýnda neler
söyleyebilirim? Sýfýr uzayý baðlamýnda kaç tane serbest deðiþken vardýr?
Hiç yoktur. Bu durumda, algoritmamýzý hatýrlarsak, bir özel deðer
atayabileceðimiz serbest deðiþken yoktur, ve geriye koyma ile diðer
deðerleri bulamayýz, vs. O zaman sýfýr uzayýnda sadece sýfýr vektörü
vardýr.

Peki $Ax=b$'ye ne olur? Bu durumda, eðer çözüm varsa, o özgün (unique) bir
çözümdür, bu çözüm $x_{ozel}$ çözümüdür.

Örnek

$$ A = 
\left[\begin{array}{rr}
1 & 3 \\
2 & 1 \\
6 & 1 \\
5 & 1 
\end{array}\right]
 $$

Kerte nedir? Üstte görülen iki kolon deðiþik yönleri gösteriyorlar, o
zaman iki pivot bulacaðým, bu kesin. Satýr azaltýlmýþ basamaklý (row
reduced echelon -rref-) formu nedir?

$$ R = 
\left[\begin{array}{rr}
1 & 0 \\
0 & 1 \\
0 & 0 \\
0 & 0 
\end{array}\right]
 $$

Bu matrisi hemen yazdým çünkü iki pivot olduðu durumda bundan baþka bir
rref matrisi bulunamaz. 

Peki bu durumda $Ax=b$ çözümü her zaman bulunabilir mi? Eðer sað tarafta 
mesela $b = \left[\begin{array}{rrrr}4 & 3 & 7 & 6 \end{array}\right]^T$ 
var ise, evet. Bu çözümü þimdi uydurdum, $A$'nin iki 
kolonunu toplayarak, tabii bu durumda $x$ çözümü $\left[\begin{array}{rr} 1
 & 1\end{array}\right]^T$ olacaktýr, yani 
her kolondan birer tane al, topla. Ve bu çözüm tek çözüm olacaktýr. 

Eðer tam satýr kertesi (full row rank) durumunu düþünürsek, yani $r = m$,
her satýrda bir pivot var, $Ax=b$'nin çözülebilirliði ne olur? Bu durumda
hiçbir koþul yoktur. {\em Her} $b$ için bir çözüm vardýr. 

Bu durumu biraz daha tartalým; her satýrda pivot var ise, kaç tane serbest
deðiþken vardýr? Cevap $n-r$ (ya da $n-m$) tane. 

Örnek 

Bir önceki örneði alýp devriðini alayým. 

$$ 
A = 
\left[\begin{array}{rrrr}
1 & 2 & 6 & 5 \\
3 & 1 & 1 & 1 
\end{array}\right]
 $$

Kerte $r=2$ çünkü iki tane pivot olacak. Pivot kolonlarý hangileri olacak?
1. ve 2. kolonlar. 

$$ 
R = 
\left[\begin{array}{rrrr}
1 & 0 & &    \\
0 & 1 & &
\end{array}\right]
 $$

Basamaklý formun baþ tarafý üstteki gibi olur, saðdaki boþ kýsýma daha
önce $F$ demiþtim. Hiç sýfýr satýr yok çünkü kerte 2. Tabii $F$ boþ
olmayacak, orada da birþeyler olacak ve buradaki deðerler özel çözüm ve
sýfýr uzayýyla beraber bir çözüm oluþturacak. 

Peki $r = m = n$ durumunda ne olur? 

$$ 
A = 
\left[\begin{array}{rr}
1 & 2 \\ 3 & 1
\end{array}\right]
 $$

Bu bir kare (square) matris, ve $A$ tam kerte. Dikkat, tam kolon kerte, ya
da tam satýr kerte sözlerine gerek yok, tam kerte yeterli. Bu matris tersi
alýnabilen (invertible) bir matris. Rref formu nedir? Birim matris tabii
ki, yani 

$$ 
R = 
\left[\begin{array}{rr}
1 & 0 \\ 0 & 1
\end{array}\right]
 $$

Bu matrisin sýfýr uzayý nedir? Ýçinde sadece sýfýr vektörü olan uzaydýr. 

$Ax=b$ çözmek istersem, hangi $b$'ler için çözüm vardýr? Her $b$ için bir
çözüm vardýr. 

Özet

$r = m = n$ durumunda $R = I$, tek çözüm var. 

$r = n < m$ durumunda 

$$ R = 
\left[\begin{array}{r}
I \\ 0
\end{array}\right]
$$

$Ax=b$'nin sýfýr ya da 1 tane çözüm vardýr.

$r = m < n$ durumunda 

$$ R = 
\left[\begin{array}{rr}
I &  F
\end{array}\right]
 $$

Ama dikkat, pivot'lar illa matrisin baþýnda olacak diye bir kural yok,
yani $I,F$'lerin birbirinin içine geçmiþ olabilir. Bu durumda en az bir
çözüm vardýr, sonsuz tane çözüm de olabilir.

$r < m, r<n$ durumunda

$$ 
R = 
\left[\begin{array}{rr}
I & F \\
0 & 0
\end{array}\right]
 $$

Bu durumda ya hiç çözüm yoktur, ya da sonsuz tane çözüm vardýr. 

Üstteki özet tüm dersin özeti hakikaten. Kerte size kaç çözüm olduðu
hakkýnda her þeyi söyler, tabii çözümün kendisi için matrise danýþmanýz
gerekir, vs.

Kerte 1 Matrisi (Rank-1 Matrix)

Bir matrisin kerte 1 olmasýný nasýl garantileriz? Ya da $dim(A)=1$ olacak
bir $A$'yi nasýl yaratýrýz? 

Burada bir çözüm $v \in \mathbb{R}^n$ ve $w \in \mathbb{R}^m$ olacak
þekilde iki vektörü $A = v w^T$ þeklinde çarpmaktýr, bu bize $n \times m$
boyutlarýnda bir $A$ matrisi verir [1]. Peki $A$'nin kerte 1 olduðunu nasýl
ispatlarýz?

$$
A = v w^T
$$

Þimdi bir $u \in \mathbb{R}^m$ seçelim, ve üstteki eþitliðin iki tarafýný
saðdan çarpalým,

$$
Au = v w^Tu = (u \cdot w) v
$$

Bu demektir ki $A$ matrisi her $u$ vektörünü $v$'nin skalar, tek sayý
katýna götürüyor (çünkü $u \cdot w$ bir skalar sonuç verir). Götürüyor
derken $A$, $u$ üzerinde bir nevi fonksiyon þeklinde etki yapýyor, ama bu
fonksiyonun sonucu sadece $v$'nin katý olabiliyor, bu tek, bir vektör
haricinde baþka bir þans yok, demek ki kerte eþittir bir.

Bu kavramý optimizasyon dersinde ``kerte 1 güncellemesi (rank-1 update)''
baðlamýnda görmek mümkün, bir matrise ``kerte 1 eki'' yapmak gerektiðinde
üstteki metot kullanýlýyor.

Kaynaklar 

[1] {\em A rank-one matrix is the product of two vectors},  
    \url{https://math.stackexchange.com/questions/1545118/a-rank-one-matrix-is-the-product-of-two-vectors}

\end{document}
