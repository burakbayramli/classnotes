<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <script type="text/x-mathjax-config">
    MathJax.Hub.Register.StartupHook("TeX Jax Ready",function () {
      MathJax.Hub.Insert(MathJax.InputJax.TeX.Definitions.macros,{
        cancel: ["Extension","cancel"], cancelto: ["Extension","cancel"]
      });
    });
    </script>  
   
  <title>Ders 16</title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <script
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_HTML-full"
  type="text/javascript"></script>
</head>
<body>
<div id="header">
</div>
<h1 id="ders-16">Ders 16</h1>
<p>Önceki dersi hatırlarsak en sonda yansıtma matrisi diye bir matrisle
bitirdik. Bu konunun bir daha üzerinden geçelim. Sihirli formülümüz</p>
<p><span class="math display">\[ P = A(A^TA)^{-1}A^T \]</span></p>
<p>ne yapıyordu? Yansıtma matrisi <span
class="math inline">\(P\)</span>, <span
class="math inline">\(b\)</span>’yi alıp <span
class="math inline">\(Pb\)</span> çarpımı ile onun <span
class="math inline">\(A\)</span>’nin kolon uzayındaki izdüşümünü
hesaplıyordu. Diyelim ki <span class="math inline">\(b\)</span> zaten
kolon uzayında, o zaman <span class="math inline">\(P\)</span> ne yapar?
Hiçbir şey. Yani <span class="math inline">\(Pb=b\)</span>. “Bu hiçbir
şey’’ cevabı üstteki formülden doğal olarak çıkmalı. Peki eğer <span
class="math inline">\(b\)</span>, <span
class="math inline">\(A\)</span>’nin kolon uzayına tam dik olsaydı? Yani
üç boyutta düşünsek, <span class="math inline">\(A\)</span> bir düzlem,
<span class="math inline">\(b\)</span> onun üzerinden yukarı tam dik bir
şekilde fırlamış bir vektör. Bu vektörün alttaki düzlemde yansıması
nedir? Sıfır. Yani <span class="math inline">\(Pb=0\)</span>. Bu iki
durum oldukça sıradışı tabii ki, ama iyi zihin egzersizi olmaları
açısından onlardan bahsettim. Çoğu durumda bir yansıma vardır.</p>
<p>Cebirsel olarak <span class="math inline">\(Pb=0\)</span> durumuna
inceleyelim; eğer <span class="math inline">\(b\)</span>, <span
class="math inline">\(A\)</span> kolon uzayına dik ise o zaman bu <span
class="math inline">\(A^T\)</span>’nin sıfır uzayındadır. Bu durumda
<span class="math inline">\(Pb\)</span>,</p>
<p><span class="math display">\[ Pb =  A(A^TA)^{-1}A^T b
=A(A^TA)^{-1}\cancelto{0}{A^T b} = 0  \]</span></p>
<p>olur çünkü eğer <span class="math inline">\(b\)</span> <span
class="math inline">\(A^T\)</span>’nin sıfır uzayında ise <span
class="math inline">\(A^Tb=0\)</span>.</p>
<p>Öteki durumda, yani <span class="math inline">\(b\)</span>’nin <span
class="math inline">\(A\)</span>’nin kolon uzayında olduğu durumu şöyle
türetiriz; <span class="math inline">\(A\)</span>’nin kolon uzayında
olmak ne demektir? Bu <span class="math inline">\(Ax\)</span> formundan
ibaret, <span class="math inline">\(Ax\)</span>, <span
class="math inline">\(A\)</span>’nin kolon uzayında çünkü <span
class="math inline">\(x\)</span> <span
class="math inline">\(A\)</span>’nin kolonlarını kombine ediyor. Bunu
artık pat diye görüyor olmamız lazım, hatta bir ufak sınava bile bu
soruyu dahil edebilirim çünkü sürekli bahsettiğimiz bir şey. Neyse, bu
<span class="math inline">\(b=Ax\)</span> kombinasyonunu formüle
koyalım,</p>
<p><span class="math display">\[ Pb =  A(A^TA)^{-1}A^TAx = Ax =
b\]</span></p>
<p>Bu nasıl oldu? <span class="math inline">\((A^TA)^{-1}\)</span> ile
<span class="math inline">\((A^TA)\)</span> yanyana geldi, bu iki ifade
birbirinin tersidir, o zaman çarpımları <span
class="math inline">\(I\)</span> olur, geri kalanlar <span
class="math inline">\(Ax\)</span>, ki o da <span
class="math inline">\(b\)</span>’ye eşit.</p>
<p>Resmedersek,</p>
<p><img src="16_6.png" /></p>
<p>Elimizde verili “tipik vektör’’ <span
class="math inline">\(b\)</span> var, tipik çünkü üstteki sıradışı
durumlarda değil, ve bu vektörün kolon uzayına [resimde ‘col space’
olarak yazılı] izdüşümü <span class="math inline">\(P\)</span> ile,
<span class="math inline">\(A^T\)</span>’nin sıfır uzayına izdüşümü ise
<span class="math inline">\(e\)</span> ile. <span
class="math inline">\(P+e = b\)</span>. Bu yansıtmalar <span
class="math inline">\(Pb\)</span> ve hata için ona dik olan uzaya
izdüşümü <span class="math inline">\((I-P)b\)</span>. Not: <span
class="math inline">\(P\)</span> yansıtma ise <span
class="math inline">\(I-P\)</span> de yansıtmadır, <span
class="math inline">\(P\)</span> simetrik ise <span
class="math inline">\(I-P\)</span> de simetriktir, <span
class="math inline">\(P^2=P\)</span> ise <span
class="math inline">\((I-P)^2=I-P\)</span>. Cebir sadece resimde
görülenleri tarif ediyor.</p>
<p>Böylece önceki dersin üzerinden geçmiş olduk, iyi oldu, çünkü baştaki
formülü birden fazla kez görmenizi istedim. Şimdi bu formülü nasıl
kulanacağımıza gelelim.</p>
<p>En iyi düz çizgi bulma probleminden devam ediyoruz. Diyelim ki
elimizde şöyle veriler var,</p>
<p><img src="16_1.png" /></p>
<p>Eğer veride sadece ilk iki nokta olsaydı onlar bir düz çizgi
oluştururdu, resimde öyle duruyorlarr, ama üçüncü nokta olası bir
çizginin kesinlikle dışında. Bu noktalar için en iyi düz çizgi <span
class="math inline">\(y=C+Dt\)</span>’yi arıyorum, ki bu çizgi kabaca
altta görüldüğü gibi birşey olacak.</p>
<p><img src="16_2.png" /></p>
<p>Bu ideal çizginin tüm noktalardan geçmesi mümkün değil çünkü hiçbir
düz çizgi tüm noktalardan geçemez. Yapmaya uğraşacağımız hata miktarını
en aza indirgeyerek bir çizgi bulmak.</p>
<p>Her nokta bize bir denklem veriyor (her <span
class="math inline">\(t\)</span> için farklı bir denklem), bu
denklemler, <span class="math inline">\(t=1,2,3\)</span> için,</p>
<p><span class="math display">\[ C + D = 1 \]</span> <span
class="math display">\[ C + 2D = 2 \]</span> <span
class="math display">\[ C + 3D = 2 \]</span></p>
<p>Ve bu denklem sisteminin çözümü yok. Ama “olabilecek en iyi çözümü’’
var. En iyi ile neyi kastetiğimi göstereyim. Matris formunda,</p>
<p><span class="math display">\[
\left[\begin{array}{rrr}
1 &amp; 1 \\
1 &amp; 2 \\
1 &amp; 3
\end{array}\right]
\left[\begin{array}{rrr}
C \\
D
\end{array}\right]
=
\left[\begin{array}{rrr}
1 \\
2 \\
2
\end{array}\right]
\]</span></p>
<p><span class="math inline">\(A\)</span> için elimde iki bağımsız kolon
var, yani kolon uzayı için elimde bir baz var, ama eşitliğin sağındaki
vektör <span class="math inline">\(b\)</span> bu kolon uzayı içinde
değil. O zaman “en iyi’’ olan nedir? Bu çözüm, her ne ise, 1. 2. ve 3.
denkleme verildiğinde <span class="math inline">\(b\)</span> hesabı için
bir hata yapacaklar, bu hataların karelerini alıp toplarsam, bir genel
hata elde etmiş olurum. Amacım,</p>
<p>Minimize Et <span class="math inline">\(||Ax-b||^2 = ||e||^2 =
e_1^2+e_2^2+e_3^2\)</span></p>
<p>Hata “vektörünün’’ uzunluğunu aldık, çünkü hatanın yönü ile değil
büyüklüğü ile ilgileniyoruz, vektör büyüklüğü de hep pozitif bir sayı
olacak. Ayrıca matematiksel kolaylık sağlaması açısından uzunluğun
karesini aldık (kolaylığın sebebini anlamak için bkz [3]).</p>
<p>Galiba söylemek istediğim şu, olaya iki tür bakış açısı var.
Birincisi 3 nokta ve çizgi bakışı. Bu resimde, hatalar nerede, farazi
düzlem üzerinde gösterirsem [yeşil ufak çizgiler],</p>
<p><img src="16_3.png" /></p>
<p>Genel hata nedir? Tüm bu hataları alıp toplarsak, <span
class="math inline">\(e_1^2 + e_2^2 + e_3^2\)</span>. Minimize etmeye
çalıştığım bu. Bu işlem, bu arada, İstatistiğin önemli bir kısmını
oluşturur, ki bu işleme regresyon denir, bu örnekte lineer regresyon.
Veriye düz çizgi uydurmak, ayrıca, pek çok bilim dalının en önemli
araçlarından.</p>
<p>Bazı istatistikçiler hata karesi alınması hakkında rahatsız
olabilirler / tetikte olurlar, çünkü diyelim ki 4. veri noktası var
elimizde ve bu nokta diğerlerinden müthiş uzakta,</p>
<p><img src="16_4.png" /></p>
<p>Bu veri noktası lineer çizgi uyumunu tamamen değiştirirdi çünkü onun
hata karesi aşırı büyük olurdu. İstatistikçiler bu gibi veri noktalarına
aykırı değer (outlier) derler, ve onları saptamak / bilmek isterler,
belki bu noktalar için hata karesi almayacaklardır, ya da regresyona
dahil bile etmeyeceklerdir. Bu da mümkün, çünkü sonuçta aykırı değer bir
hatalı ölçüm durumuna işaret edebilir. Neyse, biz bu örnekte eldeki 3
veri noktası ile işlem yapacağız.</p>
<p>İki resim demiştik, biri üstteki minimizasyon, denklemler, hatalar.
Bu resimde çizgi <em>üzerinde</em> olan noktalar, ki bu noktalara <span
class="math inline">\(P_1,P_2,P_3\)</span> diyeyim, nedir? Bizim verili
olan <span class="math inline">\(b_1,b_2,b_3\)</span> noktalarımız da
var, onları da gösterelim,</p>
<p><img src="16_5.png" /></p>
<p><span class="math inline">\(b\)</span> noktaları çizgi üzerinde değil
muhakkak, zaten bunun için bu çizgi uydurma işine girdik. Eğer denklemde
<span class="math inline">\(b\)</span> yerine <span
class="math inline">\(P\)</span> noktaları kullansaydım ne olurdu?
Birazdan <span class="math inline">\(P\)</span>’lerin ne olduğunu da
bulacağım, ama ne olurdu? Bu denklemi çözebilirdim o zaman, çünkü <span
class="math inline">\(P\)</span>, <span
class="math inline">\(A\)</span>’nin kolon uzayındadır.</p>
<p>İkinci resim ise ilk başta gösterdiğimiz.</p>
<p>Artık <span class="math inline">\(P\)</span>’yi hesaplayalım! Problem
alttakileri bulmak</p>
<p><span class="math display">\[\hat{x} = \left[\begin{array}{r}
\hat{C} \\ \hat{D}
\end{array}\right]
,
P
\]</span></p>
<p>Şapka işareti bu değişkenlerin asıllarının “tahmin edilmiş’’
versiyonu olduklarını göstermek için kullanıldı. Formül neydi?</p>
<p><span class="math display">\[ A^T A\hat{x} = A^Tb \]</span></p>
<p>Üstteki formül bu arada, kanımca, İstatistik ve genel olarak tahmin
(estimation) alanındaki en önemli formüldür. Bu formül hata, gürültü, vs
var ise, ne zaman bir uydurma (fitting) işlemi var ise kullanılan ilk
formüldür.</p>
<p>Devam edelim, <span class="math inline">\(A^TA,A^Tb\)</span>
hesaplarını yapalım şimdi,</p>
<p><span class="math display">\[
A^TA =
\left[\begin{array}{rrr}
1 &amp; 1 &amp; 1\\
1 &amp; 2 &amp; 3\\
\end{array}\right]
\left[\begin{array}{rr}
1 &amp; 1 \\
1 &amp; 2 \\
1 &amp; 3
\end{array}\right] =
\left[\begin{array}{rr}
3 &amp; 6 \\
6 &amp; 14
\end{array}\right]
\]</span></p>
<p><span class="math display">\[ A^Tb =
\left[\begin{array}{rrr}
1 &amp; 1 &amp; 1\\
1 &amp; 2 &amp; 3\\
\end{array}\right]
\left[\begin{array}{r}
1 \\
2 \\
2
\end{array}\right] =
\left[\begin{array}{r}
5 \\
11
\end{array}\right]
\]</span></p>
<p>Sonuç matrisinin simetrik, ve tersi alınabilir olmasını beklerim.
Ayrıca.. tüm derslerimizin sonuna yaklaşınca üsttekinin “kesin artı
(positive definite) olmasını beklerim’’ beyanını da yapacağım. Bu konuya
daha gelmedik.</p>
<p>Denklemleri yazalım şimdi, ki bu formüllere “normal formüller (normal
equations)’’ ismi de veriliyor,</p>
<p><span class="math display">\[ 3C + 6D = 5 \]</span></p>
<p><span class="math display">\[ 6C + 14D = 11 \]</span></p>
<p>İşte çözüm bu. Şimdi bu aynı sonucu minimize ifadesinden başlayarak
Calculus kullanarak ta bulmak istiyorum, <span
class="math inline">\(||e||^2\)</span> ifadesinin açılmış hali, şöyle
olur,</p>
<p><span class="math display">\[ (C+D-1)^2 + (C+2D-2)^2 + (C+3D-2)^2
\]</span></p>
<p>Burada ilk hata terimi ilk denklem <span
class="math inline">\(C+D\)</span>’nin ne kadar hata yaptığıdır, 2., 3.
aynı şekilde. Üstteki ifadeyi minimize etmek istiyoruz. Lineer Cebir iki
üstte bize bu minimizasyon sonucunu verdi. Fakat Calculus ta
kullanabiliriz, iki değişkenimiz var, <span
class="math inline">\(C,D\)</span>, ve minimum noktasını arıyoruz. Bunun
için ne yaparız, kısmi türev (partial derivative) alırız değil mi? Bu
türevleri alınca da aynen iki üstteki formüllerin çıktığını görürdük [bu
konu hakkında daha fazla detay için bkz. <em>Çok Değişkenli
Calculus</em> ders notları].</p>
<p>Neyse, artık iki üstteki sistemi çözmenin zamanı; eliminasyon yaparak
sonucu bulurum, <span class="math inline">\(D=1/2,C=2/3\)</span>, bu
demektir ki uydurdurduğumuz çizgi <span
class="math inline">\(y=2/3+1/2t\)</span> formülüne sahip.</p>
<p>Hataları hesaplarsak <span
class="math inline">\(e_1=-1/6,e_2=2/6,e_3=-1/6\)</span>, bu <span
class="math inline">\(e\)</span> vektörü.</p>
<p><span class="math inline">\(P\)</span> vektörünü hesaplarsak her
<span class="math inline">\(t=1,2,3\)</span> için <span
class="math inline">\(y=2/3+1/2t\)</span>, yani <span
class="math inline">\(p_1=7/6,p_2=5/3,13/6\)</span>.</p>
<p><span class="math inline">\(P+e\)</span> toplamı <span
class="math inline">\(b\)</span> sonucunu vermeli demiştik, kontrol
edelim,</p>
<p><span class="math display">\[
\left[\begin{array}{r}
1 \\ 1 \\ 2
\end{array}\right]
=
\underbrace{
\left[\begin{array}{r}
7/6 \\ 5/3 \\ 13/6
\end{array}\right]
}_{P}
+
\underbrace{
\left[\begin{array}{r}
-1/6 \\ 2/6 \\ -1/6
\end{array}\right]
}_{e}
\]</span></p>
<p>Bildiğimiz diğer şeyler.. <span class="math inline">\(P \perp
e\)</span>. <span class="math inline">\(P\)</span>, <span
class="math inline">\(A\)</span>’nin kolon uzayında bunu zaten
biliyoruz. Ayrıca <span class="math inline">\(e \perp C(A)\)</span>.</p>
<p>Son beyanı kontrol edelim, <span class="math inline">\(A\)</span>’nin
kolonlarından birini alalım, mesela <span
class="math inline">\(\left[\begin{array}{ccc} 1&amp;1&amp;1
\end{array}\right]^T\)</span>, bu <span
class="math inline">\(e\)</span>’ye dik midir? <span
class="math inline">\(e\)</span> ile noktasal çarpımını alınca sonuç
<span class="math inline">\(=-1/6+2/6-1/6=0\)</span>. Evet dik. Diğer
vektör <span class="math inline">\(\left[\begin{array}{ccc}
1&amp;2&amp;3 \end{array}\right]^T\)</span> için durum aynı.</p>
<p>İki resim umarım artık iyice belirginleşmiştir. Biri vektörler,
matrisler resmi, diğeri noktalar, çizgiler resmi. Fakat bu iki resim de
aslında aynı şeyi anlatıyorlar. İlk resimde <span
class="math inline">\(C,D\)</span> ortaya bile çıkmadı, ama sonuç
aynı.</p>
<p><span class="math inline">\(A^TA\)</span> Hakkında</p>
<p>Bu noktada bir pürüze değinmek isterim. Şu teoriyi ortaya atıyorum:
“Eğer <span class="math inline">\(A\)</span>’nin kolonları bağımsız ise,
o zaman <span class="math inline">\(A^TA\)</span> tersi alınabilir bir
matristir’’.</p>
<p>En Az Karelerin kullandığı bir durum bu. Bu ifadeyi ispatlamak
istiyorum şimdi, bu bir, iki, ya tersi alınabilir değil ise? O zaman ne
yapacağız? Önce ispat.</p>
<p>Farzedelim ki <span class="math inline">\(A^TAx=0\)</span>
(Unutmayalım, ispat amacımız <span
class="math inline">\(A^TA\)</span>’nin tersi alınabilir olduğunu
göstermek, ve bu durumda <span class="math inline">\(A^TAx=0\)</span>
dedim, çünkü o sıfır sonucunu verecek tek <span
class="math inline">\(x\)</span>’in <span
class="math inline">\(x=0\)</span> olduğunu göstermeye uğraşacağım,
çünkü tersi alınabilir <em>olmasaydı</em> o zaman sıfır uzayında sıfır
haricinde başka değerler de olurdu, yani <span
class="math inline">\(x\)</span> için üstteki denklemde sıfır haricinde
de değerler gelebilirdi).</p>
<p>Her iki tarafı <span class="math inline">\(x^T\)</span> ile soldan
çarpalım,</p>
<p><span class="math display">\[ x^TA^TAx = 0 \]</span></p>
<p>Parantezleri koyarsam,</p>
<p><span class="math display">\[ (Ax)^T(Ax) = 0 \]</span></p>
<p><span class="math inline">\(Ax\)</span> bir vektördür değil mi?
Diyelim <span class="math inline">\(y=Ax\)</span>. Eh o zaman <span
class="math inline">\(y^Ty\)</span> bize ne verirdi? Bir uzunluk değeri,
yani tek skalar bir değer. Bu skalar değer sıfır ise o zaman <span
class="math inline">\(y\)</span>, ya da <span
class="math inline">\(Ax\)</span> ifadesi sıfırdır. Başka bir alternatif
yok.</p>
<p>Şimdi bu ek bilgiyle teoriye dönelim, “eğer <span
class="math inline">\(A\)</span>’nin kolonları bağımsız ise ve <span
class="math inline">\(Ax=0\)</span> ise’’ … buradan devam ediyoruz,
varılacak tek bir sonuç var, o zaman <span
class="math inline">\(x=0\)</span> demektir. Hedefimize ulaştık.</p>
<p>Bir ilginç bilgi daha: hangi durumda kolonlar <em>kesinlikle</em>
bağımsızdır? Eğer o kolonlar birim vektörlerden oluşuyor ve birbirlerine
dikgen ise.</p>
<p><img src="16_7.png" /></p>
<p>Üstteki durum mesela, <span class="math inline">\(x,y,z\)</span>
eksenlerindeki vektörler, (dikkat, birim, birbirine dikgen vektörlerin
illa eksenler üzerinde olması gerekmez). Bu durumda <span
class="math inline">\(A^TA\)</span> çok güzel çıkıyor, birim (identity)
matrisi.</p>
<p>Not: Birbirine dikgen birim vektörlerine birimdik (orthonormal)
vektörler adı veriliyor.</p>
<p>En sevdiğimiz birimdik vektör örneği</p>
<p><img src="16_8.png" /></p>
<p>Bu vektörler çok iyi çünkü boyları 1’i geçmiyor (<span
class="math inline">\(\cos,\sin\)</span> tanımı itibariyle), ve
vektörler birbirlerine bariz olarak dik.</p>
<p>Sonraki dersteki amacımız niye birimdik vektörlerin çok iyi olduğunu
görmek ve sonra, doğru bir baz seçerek vektörleri birimdik hale
getirmeyi öğrenmek.</p>
<p>Ek Konu</p>
<p>QR ile En Az Kareler</p>
<p>Şimdi [1, sf 236], [2], ve [3, sf 346] kaynaklarını baz alarak bazı
ekler yapalım. En Az Kareler için gereken <span
class="math inline">\(A^TA\)</span> hesabı, ve onun tersinin alınması
oldukça yük getirebilecek bir işlemdir ve <span
class="math inline">\(A^TA\)</span> aşırı sayı büyümesine sebep
olabilir. Bu hesaplardan kaçınmak istiyorsak, şu bilgiyi
kullanabiliriz.</p>
<p>Her <span class="math inline">\(A\)</span> matrisinin bir <span
class="math inline">\(QR\)</span> ayrıştırması vardır, yani</p>
<p><span class="math display">\[ A = QR \]</span></p>
<p>ki <span class="math inline">\(Q\)</span> <span
class="math inline">\(m \times n\)</span> boyutlu birimdik (orthonormal)
bir matris, <span class="math inline">\(R\)</span> ise <span
class="math inline">\(n \times n\)</span> boyutlarındaki üst üçgensel
bir matris. <span class="math inline">\(QR\)</span> konusunu ileriki
derslerde Strang hoca işleyecek. Ama bunun işlediğini farzederek
şimdiden bazı sayısal konular için kullanabiliriz.</p>
<p>En Az Kareler formülü</p>
<p><span class="math display">\[
A^TA \hat{x} = A^Tb
\qquad (1)
\]</span></p>
<p>için gereken <span class="math inline">\(A^TA\)</span>’yi şu halde
yazabiliriz,</p>
<p><span class="math display">\[ A^TA = (QR)^TQR = R^TQ^TQR = R^TR
\]</span></p>
<ol type="1">
<li>içine koyunca</li>
</ol>
<p><span class="math display">\[ R^TR \hat{x} = R^TQ^Tb \]</span></p>
<p><span class="math display">\[ R \hat{x} = Q^Tb \]</span></p>
<p>ya da</p>
<p><span class="math display">\[ \hat{x} = R^{-1}Q^Tb \]</span></p>
<p>Böylece ters alma işlemi daha ufak olan <span
class="math inline">\(R\)</span> üzerinde gerçekleştiriliyor.</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy.linalg <span class="im">as</span> lin</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>A <span class="op">=</span> np.array([[<span class="dv">1</span>,<span class="dv">1</span>],[<span class="dv">1</span>,<span class="dv">2</span>],[<span class="dv">1</span>,<span class="dv">3</span>]])</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>b <span class="op">=</span> np.array([[<span class="dv">1</span>],[<span class="dv">2</span>],[<span class="dv">2</span>]])</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>q,r <span class="op">=</span> lin.qr(A)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span> q.shape, <span class="st">&#39;</span><span class="ch">\n</span><span class="st">&#39;</span>, r</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span> <span class="st">&#39;qr&#39;</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span> np.dot( np.dot(lin.inv(r),q.T), b )</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span> <span class="st">&#39;kutuphane cagrisi lstsq&#39;</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span> lin.lstsq(A,b)[<span class="dv">0</span>]</span></code></pre></div>
<pre><code>(3, 2) 
[[-1.73205081 -3.46410162]
 [ 0.         -1.41421356]]
qr
[[ 0.66666667]
 [ 0.5       ]]
kutuphane cagrisi lstsq
[[ 0.66666667]
 [ 0.5       ]]</code></pre>
<p>Bazı İspatlar</p>
<p><span class="math inline">\(R\)</span>’nin tersi alınabilir olduğunu
nereden biliyorum? Çünkü <span class="math inline">\(A\)</span>’nin
kolonlarının bağımsız olduğunu farzettim, <span
class="math inline">\(A\)</span> kolonları bağımsız ise <span
class="math inline">\(R\)</span> tersi alınabilir bir matristir.</p>
<p><span class="math inline">\(A\)</span>’nin kolon bağımsız olması
uygulamalar açısından pek anormal değil, <span class="math inline">\(m
\times n\)</span> boyutları için cogunlukla <span
class="math inline">\(m &gt; n\)</span> olur, En Az Kareler gerektiren
problemler çoğunlukla aşırı tanımlı (overdetermined) problemdirler, çok
denklem az bilinmeyen vardır, ve bu durumda çoğunlukla kerte <span
class="math inline">\(n\)</span> olur. Yani örnek olarak mesela, tipik
<span class="math inline">\(A\)</span> içinde <span
class="math inline">\(m\)</span> yüzlerce hatta binlerce, <span
class="math inline">\(n\)</span> onlarca, böyle bir durumda, onlarca
kolonun her birinin binlerce öğesi var, ve bu öğelerin ya birbiri ile
aynı, ya da birbirlerinin katı olması gerekir ki bağımlılık ortaya
çıksın. Gerçek dünyadan gelen verilerde bunun olması hakikaten ufak bir
ihtimal.</p>
<p><span class="math inline">\(R\)</span>’nin tersi alınabilir olmasına
gelelim.</p>
<p>İspat</p>
<p><span class="math inline">\(A^TA = R^TR\)</span></p>
<p>bulmuştuk. Bunu ve bir diğer özelliği kullanacağız: iki eşsiz olmayan
(nonsingular) matrisin çarpımı eşsiz değildir (burada alternatif olarak
<em>Ders 14</em>’teki <span class="math inline">\(A\)</span> kolonları
bağımsız ise <span class="math inline">\(A^TA\)</span>’nin tersi
alınabilir ispatını da kullanabilirdik). <span
class="math inline">\(A\)</span> eşsiz değildir, o zaman <span
class="math inline">\(A^TA\)</span> aynı şekilde eşsiz değildir.</p>
<p>[3, sf 20]; Burada iki matris <span
class="math inline">\(B,D\)</span> eşsiz ise onların çarpımlarının eşsiz
olduğunu ispatlayacağız.</p>
<p>İspat</p>
<p>Diyelim ki <span class="math inline">\(X=B^{-1}D^{-1}\)</span>, <span
class="math inline">\((DB)X=I\)</span>’mi kontrol et.</p>
<p><span class="math display">\[ DB (B^{-1}D^{-1}) = D(BB^{-1})D^{-1} =
DD^{-1} = I \]</span></p>
<p>Bir diğer teori. <span class="math inline">\(A^TA\)</span> eşsiz
değil ise <span class="math inline">\(A\)</span> kesin eşsiz değil
midir? Evet öyledir.</p>
<p>İspat</p>
<p><span class="math display">\[ (A^TA)^{-1} (A^TA)= I \]</span></p>
<p><span class="math display">\[ A^{-1}A^{-T}A^TA = I\]</span></p>
<p><span class="math display">\[ A^{-1}A = I\]</span></p>
<p>Bu bilgileri kullanalım; <span class="math inline">\(A^TA =
R^TR\)</span> olduğuna göre <span class="math inline">\(R^TR\)</span> da
eşsiz değildir (tersi alınabilir). O zaman üstteki ispata göre <span
class="math inline">\(R\)</span> de eşsiz değildir, demek ki <span
class="math inline">\(R\)</span>’nin tersi alınabilir.</p>
<p>Kaynaklar</p>
<p>[1] Strang, G. <em>Introduction to Linear Algebra, 4th Ed</em></p>
<p>[2] Boyd, <em>EE 263 Lecture</em></p>
<p>[3] Meyer, <em>Matrix Analysis and Applied Linear Algebra</em></p>
<p>[4] Bayramlı, Lineer Cebir, <em>Uzaklıklar, Norm ve
Benzerlik</em></p>
<p>
  <a href="..">Yukarı</a>
</p>
</body>
</html>
