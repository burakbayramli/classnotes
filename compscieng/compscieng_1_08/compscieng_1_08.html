<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <script type="text/x-mathjax-config">
    MathJax.Hub.Register.StartupHook("TeX Jax Ready",function () {
      MathJax.Hub.Insert(MathJax.InputJax.TeX.Definitions.macros,{
        cancel: ["Extension","cancel"], cancelto: ["Extension","cancel"]
      });
    });
    </script>  
   
  <title>Ders 1-8</title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <script
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_HTML-full"
  type="text/javascript"></script>
</head>
<body>
<div id="header">
</div>
<h1 id="ders-1-8">Ders 1-8</h1>
<p>Yaylar ve Ağırlıklar (Springs and Masses)</p>
<p>Dersimizin uygulama kısmına geldik. Diyelim ki alttaki gibi bir yay
sistemi var, 4 tane yay 3 tane ağırlıktan oluşuyor, ve sonları duvar,
tavan gibi bir yerde sabitlenmiş.</p>
<p><img src="compscieng_1_08_01.png" /></p>
<p>Kütlelerin bir ağırlığı var tabii, ağırlıklar o yaylar aşağı doğru
çekiyor, bu çekim yayları açacak, gerecek, soru yayların ne kadar aşağı
ineceği. Bir yer değişim (displacement) sorusu bu yani. Unutmayalım yay
açılıp kapanan bir mekanizmadır ama açılırken de kapanırken de bir
direnç gösterir. Yer değişim en üstte ve en altta sıfır çünkü oralar
sabitlenmiş.</p>
<p>Bir başlangıç hali düşünürsek, diyelim ki yerçekimi o anda etkisiz,
ama sonra yerçekimini bir düğmeye basıp açıyoruz, her yay başlangıç
halinden aşağı doğru bir yer değişimi yaşıyor,</p>
<p><img src="compscieng_1_08_02.png" /></p>
<p>bunlara <span class="math inline">\(u_1,u_2,u_3\)</span>
diyebiliriz.</p>
<p>Dikkat salınımı ölçmeye uğraşmıyoruz burada, o daha sonraki derslerde
devreye girecek, zaman faktörünü resme dahil edeceğiz; o sonra.. Şimdi
sadece kalıcı durumla ilgileniyorum, yerçekimi açılıyor, yaylar aşağı
doğru uzuyor, ve her şey yerli yerine oturduktan sonra gözlemlenecek yer
değişimiyle ilgileniyorum.</p>
<p>Her yay parçasının ne kadar uzadığı / esnediği (elongation) ayrı bir
ölçüt. Düşünürsek ikinci kütledeki yer değişimi <span
class="math inline">\(u_2\)</span> içinde hem ikinci hem de birinci
yayın esnemesi rol oynar. O yüzden esneme için ayrı bir değişken
kullanıyoruz, <span class="math inline">\(e_1,e_2,e_3\)</span>. O zaman
ikinci yay ne kadar uzar? <span class="math inline">\(u_2-u_1\)</span>
kadar. Bir farktan bahsediyoruz burada. Bazı yaylar sıkışma da
yaşayabilir tabii, mesela tahmin ediyorum ki en alttaki yayda sıkışma
olacak.</p>
<p>Tüm bunlar işin geometrik kısmı bir anlamda, yer, uzama, kısalma..
Materyel faktörleri de resme dahil etmek lazım, Hooke Kanunu bunu
yapacak. İlk ağırlık mesela aşağı inerken ilk yayı gerecek. Hooke Kanunu
bu noktada der ki yay belli bir kuvvetle ağırlığı geri çekecek, bu çekiş
yayın gerilmesi / uzamasıyla orantılı olacak. Her yaydaki kuvvete <span
class="math inline">\(w_1,w_2,w_3,w_4\)</span> diyelim. Esneme ile ona
karşılık ortaya çıkan kuvvet ilişkisi her materyel için farklı olur, yay
çeşidine göre değisen Hooke yay sabiti bu farklılığı denkleme dahil
edebilir, bu sabitlere <span
class="math inline">\(c_1,c_2,c_3,c_4\)</span> diyelim.</p>
<p>Hooke Kanunu lineerdir, ki aşırı fazla olmayan esnemeler için
lineerlik geçerli olacaktır, muhakkak yayı aşırı gerseydik belli bir
noktadan sonra lineer olmayan etkiler görebilirdik, biz bu tür aşırı
sonuçlara şu anda bakmıyoruz.</p>
<p>Devam edelim, Hooke Kanunu der ki her yaydaki kuvvet o yaydaki
esnemeyle orantılıdır,</p>
<p><span class="math display">\[
w_i = c_i e_i
\]</span></p>
<p>Burada bir köşegen matris görüyorum ben, tüm yaylar, esnemeler,
sabitler için</p>
<p><span class="math display">\[
\left[\begin{array}{c}
w_1 \\ w_2 \\ w_3 \\ w_4
\end{array}\right] =
\left[\begin{array}{cccc}
c_1 &amp; &amp; &amp; \\  &amp; c_2 &amp; &amp; \\  &amp; &amp; c_3
&amp; \\ &amp; &amp; &amp; c_4
\end{array}\right]
\left[\begin{array}{c}
e_1 \\ e_2 \\ e_3 \\ e_4
\end{array}\right]
\]</span></p>
<p>Ve nihai matris formunda</p>
<p><span class="math display">\[
w = C e
\]</span></p>
<p>ki <span class="math inline">\(w,C,e\)</span> üstte görülen vektörler
ve matris. Materyel kısmı bu şekilde dahil etmiş olduk, ortadaki sabit
matrisi üzerinden. Benzer kanunlar fiziğin diğer alanlarında da
görülebilir, mesela üstteki <span class="math inline">\(C\)</span>
matrisi iletkenliği de temsil ediyor olabilirdi. Demek istediğim
materyel özellikler denkleme oradan dahil oluyor. Bu resmi nasıl
tamamlarız? Yerçekim bir dış kuvvet, kütleler var, yer değişimlerine
sebep oluyor..</p>
<p>Resmi tamamlamak icin “kuvvet denge’’ denklemi ekleyecegim, her kütle
icin bir denge denklemi olacak.</p>
<p>Not ekleyelim, üstteki türden problem modellemesi pek çok diğer
uygulamada işe yarıyor. Bir geometri var, buradan bir <span
class="math inline">\(A\)</span> matrisi çıkartıyoruz, sonra bir
fiziksel adım var, oradan <span class="math inline">\(C\)</span> matrisi
geliyor, ve kuvvet dengesi ekleniyor, resim tamamlanıyor. Kuvvet denge
denklemi diğer bir alanda, mesela elektrikte, Kirchoff Akım Kanunu
olabilirdi, ileride ağ yapılarına bakarken göreceğiz, giren akım çıkan
akıma eşit.. Buradaki denge bir yandaki kuvvetin diğer yandakine eşit
olması. Eğer sistemde bir dengeden (equilibrium) bahsedebiliyorsak bir
denge denklemi yazabiliriz demektir.</p>
<p>Şimdi esneme kısmını matris formuna çevirelim. Ne demiştik? Mesela
ikinci yay esnemesi eşittir ikinci yer değişimi eksi birinci yer
değişimi. Matrissel formda konuşmak için <span
class="math inline">\(e_i\)</span> ve <span
class="math inline">\(u_j\)</span> vektörleri lazım, ilişkileri bir
matris çarpımı. Alttaki matriste ikinci satıra ne yazarız?</p>
<p><span class="math display">\[
\left[\begin{array}{c}
e_1 \\ e_2 \\ e_3 \\ e_4
\end{array}\right] =
\left[\begin{array}{cccc}
&amp; &amp; \\ ? &amp; ? &amp; ? \\  &amp; &amp; \\  &amp; &amp;
\end{array}\right]
\left[\begin{array}{c}
u_1 \\ u_2 \\ u_3
\end{array}\right]
\]</span></p>
<p>O satır sağdaki <span class="math inline">\(u\)</span> vektörü ile
çarpılacak ve sonuçlar toplanacak, o zaman <span
class="math inline">\(u_1\)</span> eksi bir ile, <span
class="math inline">\(u_2\)</span> artı bir ile çarpılır, <span
class="math inline">\(u_3\)</span> ile ilgilenmiyoruz, orası sıfır,
yani</p>
<p><span class="math display">\[
\left[\begin{array}{c}
e_1 \\ e_2 \\ e_3 \\ e_4
\end{array}\right] =
\left[\begin{array}{cccc}
&amp; &amp; \\ -1 &amp; 1 &amp; 0 \\  &amp; &amp; \\  &amp; &amp;
\end{array}\right]
\left[\begin{array}{c}
u_1 \\ u_2 \\ u_3
\end{array}\right]
\]</span></p>
<p>Üstte görülen satır bu tür matrislerde tipik bir satırdır. Peki
birinci satır neye benzer? Orada sadece <span
class="math inline">\(u_1\)</span> olur, tabii <span
class="math inline">\(u_1 - u_0\)</span> farkı ama ilk yay en üstte
sabitlendiği için orada yer değişim olması mümkün değil <span
class="math inline">\(u_0 = 0\)</span>, geriye sadece <span
class="math inline">\(u_1\)</span> kalıyor.</p>
<p>Üçüncü satır kolay. Dördüncü satırda <span
class="math inline">\(u_4\)</span> sabitlenmiş yani sıfır, tek kalan
<span class="math inline">\(-u_3\)</span>. Hepsi bir arada,</p>
<p><span class="math display">\[
\left[\begin{array}{c}
e_1 \\ e_2 \\ e_3 \\ e_4
\end{array}\right] =
\left[\begin{array}{rrrr}
1 &amp; 0 &amp; 0 \\ -1 &amp; 1 &amp; 0 \\ 0 &amp; -1 &amp; 1 \\ 0 &amp;
0 &amp; -1
\end{array}\right]
\left[\begin{array}{c}
u_1 \\ u_2 \\ u_3
\end{array}\right]
\qquad (1)
\]</span></p>
<p>Matrise <span class="math inline">\(A\)</span> ismi verirsek, üstteki
denklem $e = A u $ olarak belirtilebilir.</p>
<p>Bir adım daha var, kuvvet denge denklemi. Dışarıdan etki eden kuvvet
yerçekimi, <span class="math inline">\(m_1 g\)</span>, <span
class="math inline">\(m_2 g\)</span>, <span class="math inline">\(m_3
g\)</span>. Denge için mesela ilk kütleye bakarım, ona hangi kuvvetler
etki eder diye sorarım kendime ve onları dengelemeye uğraşırım. Bu bana
nasıl bir denklem verir acaba?</p>
<p>İlk kütle için etki eden kuvvetlere bakarsak, yukarı, aşağı.. Yukarı
çeken bir kuvvet var, yay kuvveti <span
class="math inline">\(w_1\)</span>. Aşağı çeken <span
class="math inline">\(w_2\)</span>, değil mi? Alttaki yay her iki yöne
de bir kuvvet uygular. Ayrıca bir de yerçekimi var, <span
class="math inline">\(m_1 g\)</span>. Hepsi bir arada</p>
<p><span class="math display">\[
w_1 = w_2 + m_1 g
\]</span></p>
<p>Diğerleri benzer şekilde,</p>
<p><span class="math display">\[
w_2 = w_3 + m_2 g
\]</span></p>
<p><span class="math display">\[
w_3 = w_4 + m_3 g
\]</span></p>
<p>Üsttekini vektör, matris olarak yazmak istiyorum tabii ki, <span
class="math inline">\(w\)</span>’ların hepsini sol tarafa geçirirsek
işler daha kolaylaşabilir,</p>
<p><span class="math display">\[
w_1 - w_2 = m_1 g
\]</span></p>
<p><span class="math display">\[
w_2 - w_3 = m_2 g
\]</span></p>
<p><span class="math display">\[
w_3 - w_4 = m_3 g
\]</span></p>
<p>Bunlar dış kuvvetler.. Yani (1)’deki iç kuvvetlerle üstteki dış
kuvvetleri dengeleyeceğiz, <span class="math inline">\(w\)</span>’lar iç
kuvvetler. Bir matris ortaya çıkacak şimdi. Önceki numarayı
tekrarlarsak,</p>
<p><span class="math display">\[
\left[\begin{array}{rrrr}
1 &amp; -1 &amp; 0 &amp; 0 \\ 0 &amp; 1 &amp; -1 &amp; 0 \\ 0 &amp; 0
&amp; 1 &amp; -1
\end{array}\right]
\left[\begin{array}{c}
w_1 \\ w_2 \\ w_3 \\ w_4
\end{array}\right] =
\left[\begin{array}{c}
f_1 \\ f_2 \\ f_3
\end{array}\right]
\qquad (2)
\]</span></p>
<p>ki <span class="math inline">\(f_i = m_i g\)</span>.</p>
<p>Nasıl ufak adımlarla ilerledik görebiliyoruz herhalde.. Üç adım
attık, birinci adım bizi yer değişimlerinden yaylara götürdü, ikincisi
yaylar arasındaki ilişkilere baktı, üçüncü adım düğüm noktalara,
kütlelere baktı.</p>
<p>Şimdi ana soru şu, üçüncü adımdaki matris nedir? Onun için yeni bir
isme ihtiyacımız var mı?</p>
<p>Aslında yok. Dikkat edersek (2)’deki matris (1)’dekinin devriği değil
mi? Evet! O zaman ona sadece <span class="math inline">\(A^T\)</span>
diyeceğiz.</p>
<p>Üç adımdaki formülleri yanyana koyalım şimdi,</p>
<p><span class="math display">\[
e = Au
\qquad (3)
\]</span></p>
<p><span class="math display">\[
w = Ce
\qquad (4)
\]</span></p>
<p><span class="math display">\[
f = A^T w
\]</span></p>
<p>Bu üç formülü birleştirip nasıl tek formül haline getiririm? Üçüncü
formüldeki <span class="math inline">\(w\)</span> içine ikinci
formüldeki <span class="math inline">\(w\)</span>’yu sokabilirim, sonra
elde edilenin içine birinci formüldeki <span
class="math inline">\(e\)</span>’yi sokarım,</p>
<p><span class="math display">\[
f = A^T w = A^T C e = A^T C A u
\]</span></p>
<p>Nihai sonuç</p>
<p><span class="math display">\[
f = A^T C A u
\]</span></p>
<p>Tüm yapıyı biraraya getiren formül bu işte, çözmemiz gereken nihai
denklem. Literatürde <span class="math inline">\(A^T C A\)</span>’ye
direngenlik (stiffness) matrisi adı veriliyor, ben çoğunlukla o matris
için <span class="math inline">\(K\)</span> sembolünü kullanırım, yani
bu örnek için <span class="math inline">\(K = A^T C A\)</span> ve
çözmemiz gereken sistem <span class="math inline">\(K u =
f\)</span>.</p>
<p>Bu arada <span class="math inline">\(w\)</span> bilinmiyor, aslında
burada iki bilinmeyen, bulmaya uğraştığımız iki tane fiziksel değişken
bloğu var, kuvvetler <span class="math inline">\(w\)</span> ve yer
değişimleri <span class="math inline">\(e\)</span>; bir köprü, başka bir
tür yapı tasarlıyor olabilirdik, onun için yer değişimlerini ve içsel
kuvvetler <span class="math inline">\(w\)</span> değerlerini arıyor
olurduk. <span class="math inline">\(w\)</span> ve <span
class="math inline">\(u\)</span> değişken öbekleri birbiriyle yakın
ilintili (dual), bazen biri, bazen öteki, ya da ikisiyle aynı anda iş
yapıyor olabiliriz, biraz ileri atlamak oluyor ama sonlu öğeler (finite
element) metodu üstteki formül altyapısını çözer (aslında direngenlik
matrisi kavramı oradan çıkmıştır, şimdi pek çok alanda
görülebiliyor).</p>
<p><span class="math inline">\(A^T C A\)</span> matrisine yakından
bakmak bilgilendirici olur; mesela boyutları nedir? <span
class="math inline">\(A\)</span> boyutu 4 x 3, <span
class="math inline">\(C\)</span> boyutu 4 x 4, <span
class="math inline">\(A^T\)</span> tabii ki 3 x 4, çarpımın sonucu 3 x
3.</p>
<p>Çarpım büyük ihtimalle simetrik, öyle mi bakalım, simetrik demek
devriğin kendisi ile aynı olması demektir,</p>
<p><span class="math display">\[
(A^T C A)^T = A^T C^T (A^T)^T = A^T C A
\]</span></p>
<p>Başlangıca döndük demek ki simetri var.</p>
<p>Şimdi <span class="math inline">\(K = A^T C A\)</span> çarpımına
gelelim, onun bulmamız gerekiyor, bu bize tüm diğer çözümleri zincirleme
verecek, <span class="math inline">\(K u = f\)</span> çözüyorsak, çözüm
<span class="math inline">\(u = K^{-1}f\)</span>. Eger <span
class="math inline">\(u\)</span>’yu biliyorsam esnemeyi biliyorum
demektir, (3) formülü <span class="math inline">\(e = A u\)</span> idi,
o zaman <span class="math inline">\(e = A K^{-1} f\)</span> demektir.
Onu alıp (4) içine sokarım, <span class="math inline">\(w = C e\)</span>
formülüne, o sonuç ta <span class="math inline">\(w = C A K^{-1}
f\)</span>. Listeden aşağı indim, hepsi teker teker çıktı, tabii anahtar
ilk çözüm <span class="math inline">\(u = K^{-1} f\)</span>.</p>
<p>Ondan önce soralım <span class="math inline">\(K\)</span> çarpımını
yapmadan <span class="math inline">\(K^{-1}\)</span> içeriğini açsak,
<span class="math inline">\(K^{-1} = A^{-1}C^{-1} (A^T)^{-1}\)</span>
olur ve sağ tarafta bazı hızlı hesaplar yapabilir miydim acaba? Ne yazık
ki <span class="math inline">\(A\)</span> matrisi kare matris
olmayabilir ve bu tür matrislerin tersini almak istemiyorum.</p>
<p>O zaman <span class="math inline">\(K\)</span> için çarpım yapmamız
lazım, yani</p>
<p><span class="math display">\[
K = \left[\begin{array}{rrrr}
1 &amp; 0 &amp; 0 \\ -1 &amp; 1 &amp; 0 \\ 0 &amp; -1 &amp; 1 \\ 0 &amp;
0 &amp; -1
\end{array}\right]
\left[\begin{array}{cccc}
c_1 &amp; &amp; &amp; \\  &amp; c_2 &amp; &amp; \\  &amp; &amp; c_3
&amp; \\ &amp; &amp; &amp; c_4
\end{array}\right]
\left[\begin{array}{rrrr}
1 &amp; -1 &amp; 0 &amp; 0 \\ 0 &amp; 1 &amp; -1 &amp; 0 \\ 0 &amp; 0
&amp; 1 &amp; -1
\end{array}\right]
\qquad (5)
\]</span></p>
<p>Biz altta bu çarpımı hemen <code>sympy</code> ile yapalım</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> sympy <span class="im">as</span> sp</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>c1,c2,c3,c4 <span class="op">=</span> sp.symbols(<span class="st">&#39;c1 c2 c3 c4&#39;</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>A <span class="op">=</span> sp.Matrix([[<span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>],</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>               [<span class="op">-</span><span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">0</span>],</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>               [<span class="dv">0</span>, <span class="op">-</span><span class="dv">1</span>, <span class="dv">1</span>],</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>               [<span class="dv">0</span>, <span class="dv">0</span>, <span class="op">-</span><span class="dv">1</span>]])</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>C <span class="op">=</span> sp.Matrix([ [c1, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>],</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>                [<span class="dv">0</span>, c2, <span class="dv">0</span>, <span class="dv">0</span>],</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>                [<span class="dv">0</span>, <span class="dv">0</span>, c3, <span class="dv">0</span>],</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>                [<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, c4]  ])</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>K <span class="op">=</span> A.transpose() <span class="op">*</span> C <span class="op">*</span> A</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>K</span></code></pre></div>
<pre><code>Out[1]: 
Matrix([
[c1 + c2,     -c2,       0],
[    -c2, c2 + c3,     -c3],
[      0,     -c3, c3 + c4]])</code></pre>
<p>İşte problemimizi kontrol eden <span class="math inline">\(K\)</span>
matrisi bu. Matris kare, simetrik.</p>
<p>Bu tür matrisi daha önce görmüştük değil mi? Üstteki <span
class="math inline">\(c_i\)</span> değerlerinin 1 olduğunu farz edin, o
zaman <span class="math inline">\(C\)</span> matrisi birim matris
olurdu, bu durumda geriye sadece <span class="math inline">\(A^T
A\)</span> kalırdı.</p>
<p><span class="math display">\[
\left[\begin{array}{rrr}
2 &amp; -1 &amp; 0 \\ -1 &amp; 2 &amp; -1 \\ 0 &amp; -1 &amp; 2
\end{array}\right]
\]</span></p>
<p>Bu matris daha önceki derste gördüğümüz özel <span
class="math inline">\(K\)</span> matrisi.</p>
<p>İki üstteki matris, tekrar yazalım,</p>
<p><span class="math display">\[ K =
\left[\begin{array}{rrr}
c1 + c2   &amp;     -c2 &amp;       0 \\
-c2       &amp; c2 + c3 &amp;     -c3 \\
0         &amp; -c3     &amp;      c3 + c4
\end{array}\right]
\qquad (6)
\]</span></p>
<p>Tüm yay sabitleri bu matris içinde. Üstteki matris hakkında önemli
bilgileri iki üstteki matristen anlayabiliriz.</p>
<p><span class="math inline">\(K\)</span> hakkındaki önemli ipuçları
nedir? Kare, simetrik dedik, ayrıca pozitif kesin bir matris. Ve pozitif
kesinlik bizi diğer bir özelliğe götürür, bu matrisin tersi
alınabilir.</p>
<p>Peki <span class="math inline">\(K\)</span> matrisi niye pozitif
kesin? Hatırlarsak pozitif kesinliğin ana kavramı pozitif enerji idi. Şu
ifade <span class="math inline">\(u^T A^T C A u\)</span> pozitif olmalı,
parantezleri <span class="math inline">\((u^T A^T) C (A u)\)</span>
şeklinde koyunca belli oluyor, ya da <span class="math inline">\((u A)^T
C (A u)\)</span>. Ayrıca <span class="math inline">\(Au\)</span> için
bir eşitliğimiz var, <span class="math inline">\(Au = e\)</span> o zaman
<span class="math inline">\(e^T C e\)</span>. Eğer <span
class="math inline">\(e,C,e^T\)</span> açık yazarsam,</p>
<p><span class="math display">\[
\left[\begin{array}{rrr}
e_1 &amp; e_2 &amp; e_3
\end{array}\right]
\left[\begin{array}{rrr}
c_1 &amp;        &amp; \\
    &amp; \ddots &amp; \\
    &amp;        &amp; c_n
\end{array}\right]
\left[\begin{array}{r}
e_1 \\ e_2 \\ e_3
\end{array}\right]
\]</span></p>
<p>Bu bana <span class="math inline">\(c_1 e_1^2 + c_2 e_2^2 + c_3 e_3^2
+ c_4 e_4^2\)</span> verir. Hooke Kanuna dönersek bir esnetilmiş yaydaki
enerji bu karesel formülle hesaplanır. Formülün esası her şeyi 1/2 ile
böler aslında, neyse, ana mesajımız şu, hesaplanan tek sayı pozitif.</p>
<p>Şimdi Profesör Bathe’nin ADINA adlı o ünlü sonlu öğeler çözen yazılım
paketini düşünürsek, ya da herhangi bir diğer paketi, Ansys, Abaqus
gibi, bu paketlerin odaklandığı büyük resim nedir? Bu paketleri
geliştirmek için yıllar geçmiştir, onlara bir sürü kod eklenmiştir,
fakat hepsinin arkasındaki temel fikir sudur, modeli seç, materyel
özellikler (bizim <span class="math inline">\(C\)</span> matrisi) ekle,
<span class="math inline">\(K\)</span> matrisini bir araya getir, nihai
adımda sonlu öğeler tekniğiyle sistemi çöz. Her şey <span
class="math inline">\(K\)</span> matrisi etrafında dönüyor.</p>
<p>Son bir konuya daha değinmek isterim; matris çarpımına değişik bir
bakış açısından bahsetmek faydalı olur. Bu önemli çünkü ADANI gibi sonlu
öğeler paketleri çarpımı böyle yapıyorlar.</p>
<p>Klasik çarpım yöntemi nedir? Satır çarpı kolon yöntemidir. Mesela
(5)’teki çarpım için soldaki matrisin ilk satırını alıp sağdakinin ilk
sol kolonu ile çarparım, bu bana bir tek sayı verir, onu sonuç matrisin
(1,1) kordinatındaki hücreye yazarım, böyle devam ederim.</p>
<p>Fakat sonlu öğeler paketlerinin kullandığı, hatta çoğunlukla doğru
bakış açısı denebilecek olan yöntem bunun tam tersidir. Bu yöntem
soldaki matrisin <em>kolonu</em> ile sağdaki matrisin <em>satırını</em>
çarpar. Boyutsal olarak düşünürsek mesela 3 x 1 kolon ile 1 x 3 satır
çarpılınca ne çıkar? 3 x 3 boyutunda bir matris değil mi? Ve bunu tüm
mümkün kolonlar ve satırlar için yapınca aynı boyutta daha fazla matris
elde ederiz ve nihai çarpım sonucu tüm bu matrislerin toplamı
olacaktır.</p>
<p>Mesela (5) için ilk kolon çarpı ilk satır (aradaki <span
class="math inline">\(C\)</span> matris değerlerini de dahil ederek
tabii),</p>
<p><span class="math display">\[
\left[\begin{array}{rrr}
c_1 &amp; 0 &amp; 0 \\ 0 &amp; 0 &amp; 0 \\ 0 &amp; 0 &amp; 0
\end{array}\right]
\]</span></p>
<p>Şimdi bu matrisin problemimiz bağlamında bir anlamı da var (bakış
açısının bir faydası da bu), üstteki matris bir öğe matrisi (sonlu
öğeler bağlamında bir öğe). Üstteki hesap içinde <span
class="math inline">\(c_1\)</span> içeren parça. Belki soldan ikinci
kolon <span class="math inline">\(c_2\)</span> ve sağdan ikinci satırı
da hesaplayınca daha iyi anlaşılacak,</p>
<p><span class="math display">\[
\left[\begin{array}{rrr}
c_1 &amp; 0 &amp; 0 \\ 0 &amp; 0 &amp; 0 \\ 0 &amp; 0 &amp; 0
\end{array}\right]
+
\left[\begin{array}{rrr}
c_2 &amp; -c_2 &amp; 0 \\ -c_2 &amp; c_2 &amp; 0 \\ 0 &amp; 0 &amp; 0
\end{array}\right]
+ ...
\]</span></p>
<p>İkinci matris bana ikinci yay hakkında bilgi veriyor. İlk matris
birinci yayın sisteme, <span class="math inline">\(K\)</span>’ye
katkısını tarif ediyordu. Bu şekilde tüm yayların matrislerini
toplayarak nihai sistemi elde edebiliyoruz. Klasik yaklaşımla çarpıma bu
şekilde bakmazsınız, fakat mesela ADINA sistemi çarpımı aynen tarif
ettiğim şekilde biraraya getiriyor. ADINA türü sistemler klasik çarpımı
yapmazlar, tarif ettiğimiz kolon çarpı satır metotunu uygularlar.</p>
<p>Problem</p>
<p>Farz edelim ki üstteki kütle-yay sisteminde <span
class="math inline">\(c_i = c\)</span> ve <span
class="math inline">\(m_j = m\)</span>, yani tüm yaylar aynı materyel ve
tüm kütleler aynı ağırlıkta. Yer değişimi <span
class="math inline">\(u\)</span> ve kuvvet <span
class="math inline">\(w\)</span>’leri hesapla [1, sf. 103].</p>
<p>Çözüm</p>
<p>Önce <span class="math inline">\(K\)</span> matrisinin tersini bulmak
istiyoruz. Eğer <span class="math inline">\(c_i = c\)</span> ise
(6)’daki <span class="math inline">\(K\)</span> matrisi şu hale
gelir,</p>
<p><span class="math display">\[ K =
\left[\begin{array}{rrr}
2c   &amp;     -c &amp;       0 \\
-c       &amp; 2c &amp;     -c \\
0         &amp; -c     &amp;      2c
\end{array}\right]
\]</span></p>
<p><span class="math inline">\(c\)</span>’yi dışarı çıkartalım,</p>
<p><span class="math display">\[ K = c
\left[\begin{array}{rrr}
2   &amp;     -1 &amp;       0 \\
-1       &amp; 2 &amp;     -1 \\
0         &amp; -1     &amp;      2
\end{array}\right]
\]</span></p>
<p>Temel lineer cebirden biliyoruz ki <span
class="math inline">\((cA)^{-1} = c^{-1} A^{-1}\)</span>, tabii skalar
tek sayı <span class="math inline">\(c\)</span> için <span
class="math inline">\(c^{-1} = 1/c\)</span> demektir. O zaman üstteki
matrisin tersini alalım sadece ve <span
class="math inline">\(1/c\)</span> ile çarpalım,</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy.linalg <span class="im">as</span> lin</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>K <span class="op">=</span> np.array([[<span class="dv">2</span>,<span class="op">-</span><span class="dv">1</span>,<span class="dv">0</span>],[<span class="op">-</span><span class="dv">1</span>,<span class="dv">2</span>,<span class="op">-</span><span class="dv">1</span>],[<span class="dv">0</span>,<span class="op">-</span><span class="dv">1</span>,<span class="dv">2</span>]])</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span> (lin.inv(K))</span></code></pre></div>
<pre><code>[[0.75 0.5  0.25]
 [0.5  1.   0.5 ]
 [0.25 0.5  0.75]]</code></pre>
<p><span class="math display">\[ K^{-1} = 1/c
\left[\begin{array}{rrr}
0.75   &amp;     0.5 &amp;       0.25 \\
0.5       &amp; 1 &amp;     0.5 \\
0.25         &amp; 0.5     &amp;      0.75
\end{array}\right]
\]</span></p>
<p>[1, sf. 103]’ta görülen sonuçla aynı olması için matrisi 4 ile çarpıp
dışarı 1/4 çıkartalım,</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy.linalg <span class="im">as</span> lin</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span> (<span class="dv">4</span><span class="op">*</span>lin.inv(K))</span></code></pre></div>
<pre><code>[[3. 2. 1.]
 [2. 4. 2.]
 [1. 2. 3.]]</code></pre>
<p>Aynı sonuca eriştik,</p>
<p><span class="math display">\[ K^{-1} = \frac{1}{4c}
\left[\begin{array}{rrr}
3 &amp; 2 &amp; 1 \\ 2 &amp; 4 &amp; 2 \\ 1 &amp; 2 &amp; 3
\end{array}\right]
\]</span></p>
<p>Yer değişimleri o zaman</p>
<p><span class="math display">\[
u = K^{-1} f = \frac{1}{4c}
\left[\begin{array}{rrr}
3 &amp; 2 &amp; 1 \\ 2 &amp; 4 &amp; 2 \\ 1 &amp; 2 &amp; 3
\end{array}\right]
\left[\begin{array}{r}
mg \\ mg \\ mg
\end{array}\right] =
\frac{mg}{c}
\left[\begin{array}{r}
1.5 \\ 2.0 \\ 1.5
\end{array}\right]
\]</span></p>
<p>Ortadaki kütle yer değişimi <span
class="math inline">\(u_2\)</span>’nin diğer <span
class="math inline">\(u_1,u_3\)</span>’ten daha fazla olduğunu
görüyoruz. Birimleri hemen kontrol ediyoruz, kuvvet <span
class="math inline">\(mg\)</span> bölü birim uzunluktaki kuvvet <span
class="math inline">\(c\)</span> bize uzunluk <span
class="math inline">\(u\)</span>’yi verir.</p>
<p>Esnemeler <span class="math inline">\(e = A u\)</span> ile
hesaplanır, biraz önce bulduğumuz <span class="math inline">\(u\)</span>
ile bu hesabı yapabiliriz,</p>
<p><span class="math display">\[
e = A u =
\left[\begin{array}{rrr}
1 &amp; 0 &amp; 0 \\ -1 &amp; 1 &amp; 0 \\ 0 &amp; -1 &amp; 1 \\ 0 &amp;
0 &amp; -1
\end{array}\right]
\frac{mg}{c}
\left[\begin{array}{r}
1.5 \\ 2.0 \\ 1.5
\end{array}\right] =
\frac{mg}{c}
\left[\begin{array}{r}
1.5 \\ 0.5 \\ -0.5 \\ -1.5
\end{array}\right]
\]</span></p>
<p>Sonuca göre ilk iki yay esnemiş, alt iki yay sıkıştırılmış.</p>
<p>Örnek</p>
<p>Her iki ucu serbest olan yayları düşünelim [1, sf. 106], bu yaylarda
destek yoktur; Bu durum <span class="math inline">\(A\)</span> ve <span
class="math inline">\(K\)</span>’de problem çıkartır (dördüncü ve
birinci yay gitti), <span class="math inline">\(A\)</span> matrisi 2 x 3
boyutuna indi, boyu kısaldı eni uzadı. O zaman <span
class="math inline">\(e = Au\)</span> neye benzer?</p>
<p><span class="math display">\[
\left[\begin{array}{r}
e_2 \\ e_3
\end{array}\right] =
\left[\begin{array}{r}
u_2 - u_1 \\u_3 - u_2
\end{array}\right] =
\left[\begin{array}{rrr}
-1 &amp; 1 &amp; 0 \\ 0 &amp; -1 &amp; 1
\end{array}\right]
\left[\begin{array}{r}
u_1 \\ u_2 \\ u_3
\end{array}\right]
\]</span></p>
<p>Alt soldaki şekli düşünebiliriz. Hatta benzer bir örnek olarak
sağdaki şekil de olabilirdi.</p>
<p><img src="compscieng_1_08_03.png" /></p>
<p>Üstteki durumda artık <span class="math inline">\(A u = 0\)</span>
denkleminin sıfır olmayan bir çözümü var, yani sıfır uzayı boş değil.
<span class="math inline">\(Au = e\)</span> olduğuna göre <span
class="math inline">\(e\)</span> esnemedir, yani esneme olmadan yer
değişimi olması mümkün. Bu şekilden rahatça görülebiliyor zaten, yay
sistemı havada asılı, alıp olduğu gibi bir yere taşınması mümkün. Hiç
esneme olmadan. Mesela tüm yay <span class="math inline">\(u =
(1,1,1)\)</span> olarak taşınabilir, bu hala <span
class="math inline">\(e = (0,0)\)</span> verir. Bu ortaya çıkar çünkü
<span class="math inline">\(A\)</span> kolonları birbirine bağlı
(dependent) ve bu sebeple <span class="math inline">\(u =
(1,1,1)\)</span> vektörü sıfır uzayında.</p>
<p>Kaynaklar</p>
<p>[1] Strang, <em>Computational Science and Engineering</em></p>
<p>
  <a href="..">Yukarı</a>
</p>
</body>
</html>
