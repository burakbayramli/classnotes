\documentclass[12pt,fleqn]{article}\usepackage{../../common}
\begin{document}
Eðim (Curvature)

Kesit seviyeleri tekniðinde bir eðri normal formda deðil, dolaylý
(implicit) bir fonksiyon ile $F(x,y) = 0$ olarak gösterilir. Bu fonksiyonun
tam diferansiyelini alýrsak,

$$ dF = F_x dx + F_y dy = 0  $$

$$ dy = \frac{-F_x}{F_y}dx  $$

$$ y' = \frac{dy}{dx} = \frac{-F_x}{F_y} = f'(x) = \frac{df}{dx} $$

Burada bir faraziye daha var, o da aslýnda ilk verilen formülde olmasa bile
$y=f(x)$ olarak kabul etmemiz, yani $F(x,y)$ nasýl bir formül olursa olsun,
$y$'nin $x$'leri içerecek þekilde tekrar düzenlenebileceðini farz etmemiz,
böylece $F(x,f(x))$ olabileceðini söylemiþ oluyoruz.

Þimdi $y'$ ifadesinin türevini bir daha alalým. Yukarýdaki $y'$ formülünde
en sað taraf bir bölme iþlemi içerdiði için burada Calculus'un Bölümler
Kuralýný (Quotient Rule) uygulamamýz lazým (detaylar için Bölüm Kuralý
yazýsýna bakýnýz). Bu kural þöyle gösterilir:

$$ \frac{d}{dx}\bigg(\frac{u}{v}\bigg) = 
\frac{\displaystyle \frac{v du}{dx} - \frac{u dv}{dx}}{v^2} $$

Bölümler Kuralý için $u$ ve $v$ tanýmlarý nedir? 

$$ u = -F_x(x,f(x))  $$

$$ v = F_y(x,f(x)) $$

O zaman

$$ 
v \frac{du}{dx} = F_y \frac{dF_x}{dx} 
\mlabel{1}
$$

$$
u \frac{dv}{dx} = -F_x \frac{dF_y }{dx} 
\mlabel{2}
$$

Bunlardan mesela $dF_x/dx$ üzerinde Zincirleme Kanunu (Chain Rule) uygulamak
lazým (bu kural tam integral kuralýnýn bir sonucu). 

$$ \frac{d F_x(x,f(x)) }{dx} = \frac{\partial F_x}{\partial  x}(x,f(x))+\frac{\partial F_x}{\partial y}\frac{df}{dx}\\ $$

$$
= F_{xx}(x,f(x))+F_{xy}(x,f(x))f'(x) 
\mlabel{3}
$$

$$
\frac{d F_y(x,f(x)) }{dx} =  F_{xy}(x,f(x))+F_{yy}(x,f(x))f'(x) 
\mlabel{4}
$$

Zincirleme Kanunu niye üstteki þekilde açýldý? Tam Diferansiyeli bir daha
hatýrlayalým:

$$ df = \frac{\partial f}{\partial x} dx + \frac{\partial f}{\partial y} dy  $$

$$ \frac{df}{dx} = \frac{\partial f}{\partial x} \frac{dx}{dx} + \frac{\partial f}{\partial y} \frac{dy}{dx}  $$

$$ \frac{df}{dx} = \frac{\partial f}{\partial x} + \frac{\partial f}{\partial y} \frac{dy}{dx}  $$

O zaman formüller (1) (2) (3) ve (4) bir araya konulursa,

$$ y '' = - \frac{F_yF_{xx} - F_y F_{xy}\frac{F_x}{F_y} - F_xF_{xy} + F_xF_{yy}\frac{F_x}{F_y}}{F_y^2}\\ $$

$$ y '' = - \frac{F_yF_{xx} - F_{xy}F_x - F_xF_{xy} + \frac{F_x^2F_{yy}}{F_y}}{F_y^2} $$

Üstteki bölümün hem bölen, hem bölünen terimlerini $F_y$ ile çarparsak, ve
sadeleþtirirsek

$$ y '' = - \frac{F_y^2F_{xx} - 2F_{xy}F_xF_y + F_x^2F_{yy}}{F_y^3} $$

Þimdi surada [2] türetimi gösterilen eðim  formülüne
bakalým. Not: Eðer

$$ \kappa = \frac{x'y''-y'x''}{\bigg(x'^2 + y'^2 \bigg)^{3/2}} $$

formülünün alttaki formüle nasýl dönüþtüðü tam anlaþýlýr deðilse,
hatýrlayalým ki, $y=f(x)$, ve $x'=1$, ve $x'' = 0$.

Bu formülün Courant [1] sf. 231'de benzer bir formunu görüyoruz (Bu arada o
karmaþýk formül yerine yaklaþýksal olarak hesaplama sýrasýnda sadece $f''$
kullanmak ta mümkün [3, giriþ bölümü])

$$ \kappa = \frac{f''}{(1+f'^2)^{3/2}} $$

Bu formüldeki $f''$ yani $y''$ için üstte bulduðumuz sonucu, $f'$ yani $y'$
için bu yazýnýn baþýndaki formülü koyarsak,

$$ 
\kappa = \frac
{-\frac
{\displaystyle F_y^2F_{xx} - 2F_{xy}F_xF_y +  F_x^2F_{yy}}{\displaystyle F_y^3}}
{(1+f'^2)^{3/2}} 
$$  

Bölen kýsmý nedir?

$$ (1+f'^2)^{3/2} = \bigg( 1 + \bigg(\frac{-F_x}{F_y}\bigg)^2 \bigg)^{3/2}  $$

$$ = \bigg( 1 + \frac{F_x^2}{F_y^2} \bigg)^{3/2}  $$

$$ = \bigg( \frac{F_y^2 + F_x^2}{F_y^2} \bigg)^{3/2}  $$

$$ = (F_y^2 + F_x^2)^{3/2}(F_y^{-2})^{3/2}  $$

$$ = (F_y^2 + F_x^2)^{3/2}F_y^{-6/2}  $$

$$ = (F_y^2 + F_x^2)^{3/2}F_y^{-3} $$

Yerine koyarsak,

$$ 
\kappa = \frac{\displaystyle
- \frac{F_y^2F_{xx} - 2F_{xy}F_xF_y + F_x^2F_{yy}}{F_y^3}}
{(F_y^2 + F_x^2)^{3/2}F_y^{-3}}
 $$

$F_y^{-3}$ ve $F_y^{3}$ birbirlerini iptal ederler ve sonuç:

$$
\kappa = \frac{F_y^2F_{xx} - 2F_{xy}F_xF_y +
    F_x^2F_{yy}}{(F_y^2 + F_x^2)^{3/2}}
\mlabel{5}
$$

Üstteki ünlü eðim  formülüdür. 

Bu eðim formülünün diðer bir þekli þöyledir ($F$ yerine $\phi$ kullanýrsak)

$$ \kappa = \bigtriangledown \cdot \frac{\bigtriangledown \phi}{|\bigtriangledown \phi|} $$

Bunun okunuþ þekli ``birim normal gradyanýn uzaklaþým ölçüsü (divergence of the
unit normal gradient)'' þeklindedir. Acaba bu formül, (5). formül ile
uyumlu mu?

$$ \kappa = \nabla \cdot \frac{\nabla \phi}{|\nabla \phi|}  $$

$$ = \nabla \cdot \frac{(\phi_x,\phi_y)}{\sqrt{\phi_x^2+\phi_y^2}} $$

$$ = \left(\partial_x \frac{\phi_x}{\sqrt{\phi_x^2+\phi_y^2}}\right)+ 
\left(\partial_y \frac{\phi_y}{\sqrt{\phi_x^2+\phi_y^2}}\right)  $$

$$ = \frac{\phi_{xx}}{\sqrt{\phi_x^2+\phi_y^2}} - \frac{\phi_x (\phi_x\phi_{xx}+\phi_y\phi_{xy})}
{(\phi_x^2+\phi_y^2)^{3/2}} +
\frac{\phi_{yy}}{\sqrt{\phi_x^2+\phi_y^2}} - \frac{\phi_y(\phi_x\phi_{xy}+\phi_y\phi_{yy})}
{(\phi_x^2+\phi_y^2)^{3/2}}  $$

$$ = \frac{\phi_{xx}(\phi_x^2+\phi_y^2) - \phi_x
  (\phi_x\phi_{xx}+\phi_y\phi_{xy}) +\phi_{yy}(\phi_x^2+\phi_y^2) -
  \phi_y(\phi_x\phi_{xy}+\phi_y\phi_{yy})}{(\phi_x^2+\phi_y^2)^{3/2}} $$

$$ = \frac{\phi_{xx}\phi_y^2 - 2\phi_x\phi_y\phi_{xy} + \phi_{yy}\phi_x^2}{(\phi_x^2+\phi_y^2)^{3/2}}  $$

Bu formül bizim (5). formül ile týpatýp ayný.

Üstteki iþlemlerde uzaklaþým ölçüsü (divergence) operatörü $\nabla \cdot$
ile gradyan operatörü $\nabla$ arasýndaki farký belirtelim: $\nabla \cdot$
operatörü $F(x,y)$ üzerinde kýsmi türevlerin toplamýný verir, yani bir
skalar tek sayý döndürür. Gradyan ise her bir elemaný bir kýsmi türeve
tekabül eden bir {\em vektör} geri getirir.

Python Numpy kodlamasý baðlamýnda, daha önce {\em Kesit Seviyeleri} yazýsýnda
ayrýksal olarak bir \verb!phi! deðiþkeni içindeki bir fonksiyon üzerinde
eðimselliði þöyle hesaplamýþtýk:


\begin{minted}[fontsize=\footnotesize,linenos,xleftmargin=1cm]{python}
gradPhiY, gradPhiX = np.gradient(phi)
absGradPhi=np.sqrt(gradPhiX**2+gradPhiY**2)                               

normGradPhiX=gradPhiX/(absGradPhi+(absGradPhi==0))
normGradPhiY=gradPhiY/(absGradPhi+(absGradPhi==0))

divYnormGradPhiX, divXnormGradPhiX=np.gradient(normGradPhiX)
divYnormGradPhiY, divXnormGradPhiY=np.gradient(normGradPhiY)
                       
K = divXnormGradPhiX + divYnormGradPhiY
\end{minted}

Bu satýrlarýn $\nabla \cdot \frac{\nabla \phi}{|\nabla \phi|}$ ifadesiyle
birebir uyum gösterdiðini herhalde görebiliyoruz. Satýr 1, $\nabla \phi$
ifadesidir. Satýrlar 4-5 $\frac{\nabla \phi}{|\nabla \phi|}$ iþlemini
gerçekleþtiriyor, gradyaný onun uzunluðuna (magnitude) bölerek onu birim vektörü
haline getiriyor. Satýrlar 7-10 tekrar sonucun gradyanýný bir daha alýyor, ama
bu sefer hesapsal kýsmi türevleri birbiriyle topluyor, böylece uzaklaþým ölçüsü
(divergence) hesaplanmýþ oluyor. Tüm bu iþlemlerin sonucu eðimsellik $\kappa$
oluyor.

Dikkat edilirse Python kodundaki K yani $\kappa$, N x N boyutlu bir matristir,
bu mantýklý çünkü $\kappa$ hesabý için kullandýðýmýz $F_x$, $F_y$ gibi
türevler aslýnda $F_x(x,y)$, $F_y(x,y)$ formüllerine sahipler, yani her $x,y$
kombinasyonu için farklý bir sonuç döndürebilirler. Bu sebeple K yani $\kappa$
$\phi$ fonksiyonunun her $x,y$ noktasý için tanýmlýdýr. 

Bazen literatürde $\nabla \cdot$ yerine $div(..)$ kullanýldýðýný görebilirsiniz,
bu operatörlerin ikisi de aynýdýr.

Kaynaklar

[1] Courant, {\em Introduction to Calculus and Analysis Volume 2}, sf. 223-232

[2] Wolfram Mathworld, {\em Curvature}, \url{http://mathworld.wolfram.com/Curvature.html}

[3] Strang, {\em Computational Science and Engineering}, 

\end{document}

