<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML-full" type="text/javascript"></script>
  
  
  
  
</head>
<body>
<h1 id="ders-21">Ders 21</h1>
<p>Evrişim (convolution) tekniği, iki fonksiyon üzerinde işlem yaparak üçüncü bir fonksiyon elde eder, ve özel bir işareti vardır.</p>
<p><span class="math display">\[ f(t) * g(t) \]</span></p>
<p>Elde edilen fonksiyon <span class="math inline">\(f(t)\)</span>'ye neredeyse hiç benzemeyecektir. Evrişim işlemini faydalı hale getiren iki sebep var. Birinci fayda formel tanımıyla alakalı. Diyelim ki üstteki iki fonksiyonun ayrı ayrı Laplace Transformu</p>
<p><span class="math display">\[ F(s) = \int_0^{\infty} e^{-st} f(t) \mathrm{d} t \]</span></p>
<p><span class="math display">\[ G(s) = \int_0^{\infty} e^{-st} g(t) \mathrm{d} t \]</span></p>
<p>İki fonksiyonun çarpımının Laplace transformunu elde etmek için fonksiyonların ayrı ayrı transformunu bir şekilde bir şekilde kullanan bir formül olsa iyi olmaz mıydı? Böyle bir fonksiyon var mıdır?</p>
<p>Dolaylı yoldan evet. Transformların çarpımı, fonksiyonların çarpımının değil ama &quot;evrişimlerinin'' transformuna eşittir. Yani</p>
<p><span class="math display">\[
F(s)G(s) =  \int_0^{\infty} e^{-st} (f*g) \mathrm{d} t 
\qquad (1)
\]</span></p>
<p>Peki niye böyle bir kısayolun olması iyi bir şey? Faydayı belirttik ama sebebini belirtmedik.</p>
<p>Bunu anlamak için önce üstel serilere bakalım. Hatırlayalım, Laplace transformunun güç serileriyle (power series) paralelliği vardı</p>
<p><span class="math display">\[ F(x) = \sum a_n x^n \]</span></p>
<p><span class="math inline">\(n\)</span>'yi <span class="math inline">\(t\)</span> yapıp sürekli ortama geçince Laplace transformunu elde ediyorduk.</p>
<p>Şimdi ikinci fonksiyon</p>
<p><span class="math display">\[ G(x) = \sum b_n x^n \]</span></p>
<p>Üstteki formüllerde katsayı için <span class="math inline">\(a_nb_n\)</span> kullansam, bu <span class="math inline">\(F(x)\)</span> ve <span class="math inline">\(G(x)\)</span> ile bir şekilde bağlantı yaratır mıydı? Cevap dolaylı yoldan evet. Aşağıdaki formülde <span class="math inline">\(c_n\)</span>'i <span class="math inline">\(a_n,b_n\)</span> ile ilintilendiren bir formül lazım bize.</p>
<p><span class="math display">\[ F(x)G(x) = \sum c_n x^n \]</span></p>
<p>Bu formül ödeviniz olsun, ama bu formülü bir kere bulunca sürekli ortam için birazdan vereceğimiz formüle ne kadar benzediğini göreceksiniz.</p>
<p><span class="math display">\[ f(t)*g(t) = \int_0^t f(u)g(t-u) \mathrm{d} u \]</span></p>
<p>Ne biçim bir formül bu? Onu anlamanın en iyi yolu onu kullanarak bir şeyler hesaplamak herhalde. Not: Kabaca bir tanım şöyle olabilir, <span class="math inline">\(t\)</span> bazlı iki fonksiyon alınıyor, sıfır ile <span class="math inline">\(t\)</span> değeri arasındaki tüm değerler <span class="math inline">\(f\)</span> için olduğu gibi, <span class="math inline">\(g\)</span> için tam tersi şekilde <span class="math inline">\(f,g\)</span>'ye hesaplattırılıp birbirleri ile çarpılıyor.</p>
<p>Bu arada evrişim sırabağımsız (commutative) bir işlemdir, yani</p>
<p><span class="math display">\[ 
f \star g = g \star f 
\]</span></p>
<p>Evrişim formülüne bakınca sırabağımsızlık bariz değil, çünkü formül simetrik durmuyor, ama evrişim formülünü (1)'deki gibi görürsek, o zaman bariz.</p>
<p><span class="math display">\[ \mathcal{L} (f*g) \leadsto F(s)G(s) \]</span></p>
<p>işe, <span class="math inline">\(F(s)\)</span> ve <span class="math inline">\(G(s)\)</span> çarpımı sırabağımsızdır, o zaman evrişim de sırabağımsızdır.</p>
<p>Örnek</p>
<p><span class="math inline">\(t^2 * t\)</span>'yi hesaplayalım</p>
<p><span class="math display">\[
t^2 * t =\int_0^t u^2 \cdot (t - u) \mathrm{d} u
\]</span></p>
<p><span class="math display">\[ = \frac{u^3}{3}t - \frac{u^4}{4} \bigg]_{0}^{t} = 
\frac{t^4}{3} - \frac{t^4}{4} =
\frac{t^4}{12}
\]</span></p>
<p>Pür formül kullanan çözüm böyle. Ama hile (!) yaparak Laplace transformunu kullanabiliriz.</p>
<p><span class="math display">\[ t^2 \leadsto \frac{2}{s^3}, t \leadsto \frac{1}{s^2} \]</span></p>
<p>Bu transformların çarpımını alırsak</p>
<p><span class="math display">\[F(s)G(s) = \frac{2}{s^5} \]</span></p>
<p>Üsttekinin ters Laplace'i nedir?</p>
<p><span class="math display">\[ \mathcal{L}^{-1}(\frac{2}{s^5}) = \frac{1}{12}t^4 \]</span></p>
<p>Bunu nasıl hemen bulduk? Bildiğimiz bir ters transform şöyle</p>
<p><span class="math display">\[ \mathcal{L}^{-1}(\frac{4!}{s^5}) = t^4 \]</span></p>
<p>Bunu alıp iki üsttekine çevirmek için 12 ile bölmek gerekiyordu.</p>
<p>Örnek</p>
<p><span class="math display">\[ f(t) * 1 = \int_0^t f(u) \ 1 \mathrm{d} u \]</span></p>
<p><span class="math display">\[  = \int_0^t f(u) \mathrm{d} u \]</span></p>
<p>Şimdi evrişim işleminin Laplace Transformu ile bağlantısını ispatlayacağız.</p>
<p><span class="math display">\[ F(s)G(s) = \int_0^{\infty}  e^{-su}f(u) \mathrm{d} u \cdot  
\int_0^{\infty}  e^{-sv} g(v) \mathrm{d} v
\]</span></p>
<p>Üsttekini cebirsel olarak bir yere &quot;doğru'' manipüle etmeden önce, belki şunu düşünsek daha iyi olur. &quot;Neyi'' manipüle edersek üstteki forma geliriz? Çift entegrallerde entegre edilenleri her biri &quot;tek bir şeyin'' fonksiyonu olan ayrı grupların çarpımı olarak görmek ise yarar, çünkü o zaman mesela iç entegral her neyse o değişkene göre diğeri sabit sayılır, dışarı atılabilir, vs. Yani üsttekine alttaki formülden gelebiliriz</p>
<p><span class="math display">\[ = \int_{0}^{\infty} \int_{0}^{\infty} e^{-s(u+v)} f(u)g(v) \mathrm{d} u \mathrm{d} v \]</span></p>
<p>Daha da basitleştirelim. Eğer <span class="math inline">\(t=u+v\)</span> olsaydı (ki <span class="math inline">\(t\)</span> burada yeni bir değişken olarak dışarıdan formüle dahil ediliyor) işimiz kolaylaşırdı. <span class="math inline">\(u=u\)</span> olarak alırız, <span class="math inline">\(v\)</span> artık kullanılmaz, <span class="math inline">\(t-u = v\)</span> yeterli.</p>
<p><span class="math display">\[ = \int \int  e^{-st} f(u)g((t-u)) \mathrm{d} u \_\_ \mathrm{d} t \]</span></p>
<p>Üstte <span class="math inline">\(dt\)</span> kullanmak istiyorum ama bu değişimi dikkatli yapmak lazım, boş bırakılan yere ne geleceğini bulmak için Jacobian matrisini kullanmam lazım.</p>
<p><span class="math display">\[ \mathrm{d} u \mathrm{d} v = \frac{\partial(u,v)}{\partial(u,t)} \mathrm{d} u \mathrm{d} t \]</span></p>
<p><span class="math display">\[ u = u \]</span></p>
<p><span class="math display">\[ v = t - u \]</span></p>
<p><span class="math display">\[
J = \left|\begin{array}{rr} 1 &amp; 0 \\ -1 &amp;1 \end{array}\right| = 1
\]</span></p>
<p>Yani</p>
<p><span class="math display">\[ \mathrm{d} u \mathrm{d} v = 1 \mathrm{d} u \mathrm{d} t \]</span></p>
<p>O zaman</p>
<p><span class="math display">\[ = \int \int e^{-st} f(u)g((t-u)) \mathrm{d} u \mathrm{d} t \]</span></p>
<p>Tamam. Bir adım daha kaldı, entegral sınırlarını da değiştirmek lazım. Bu biraz daha zor olabilir.</p>
<p>İç entegrale bakalım, <span class="math inline">\(u\)</span> değişiyor, <span class="math inline">\(t\)</span> sabit tutuluyor. Daha doğrusu <span class="math inline">\(t=u+v\)</span> olduğuna göre <span class="math inline">\(u+v\)</span> bir sabit. Bir <span class="math inline">\(u,v\)</span> grafiği düşünürsek,</p>
<div class="figure">
<img src="21_1.png" />

</div>
<p><span class="math inline">\(u+v\)</span> gösterilen düz çizgiler üzerinde sabittir.</p>
<div class="figure">
<img src="21_2.png" />

</div>
<p><span class="math inline">\(u\)</span> üstteki oklar yönünde artar. Peki <span class="math inline">\(u\)</span> bölgeye soldan girdiğinde değeri nedir? Sıfır. Alttan çıkarken değeri nedir? O noktada <span class="math inline">\(v=0\)</span>, <span class="math inline">\(u+v = t\)</span> olduğuna göre, <span class="math inline">\(u=t\)</span>.</p>
<p><span class="math display">\[ = \int \int_0^t e^{-st} f(u)g((t-u)) \mathrm{d} u \mathrm{d} t \]</span></p>
<p>Dış entegral, orijin noktasındaki <span class="math inline">\(t=0\)</span>'dan başlayarak tüm çizgiler için bu işlemi yapmak istiyorum, bu işlem sonsuza kadar devam ediyor.</p>
<p><span class="math display">\[ = \int_0^{\infty} \int_0^t e^{-st} f(u)g((t-u)) \mathrm{d} u \mathrm{d} t \]</span></p>
<p>İspat tamamlandı.</p>
<p>Laplace Transformunu ile evrişim işlemi arasındaki bağlantıyı gördük.</p>
<p>Evrişim çok önemli bir işlemdir, ama onu kullanan pek çok kişi onu Laplace Transformuyla alakalı olarak kullanmaz. Onu olduğu gibi tek başına kullanırlar. Bir örnek vereyim: benim kızım bir doğa / çevre mühendisi (environmental engineer), ve müşterileri için risk analizi yapmak gibi işleri var. Bir gün bir müşterisi için bir bilimsel makale okuyordu, makale asit yağmuru ile alakalıydı, yağmur gelirse çevre ne kadar zarar görür gibi konularla ilgiliydi. Verilen zararın hesabı için evrişim kullanılıyor dedi, bana sordu &quot;evrişim nedir?''. Makaleyi ben de okudum, hakikaten ilginçti, yani bu alanda evrişim hesabının olması ilginçti.</p>
<p>Sonraları diğer insanlar da benzer sorularla bana geldiler. Kuzey Kutbu'nda delme işlemi yapan bir mühendis geldi mesela, delme sırasında algılanan radyoaktiviteyi kullanıp milyonlarca yıl önceki iklim şartları hakkında hesap yapmakla ilgileniyordu, o da evrişim hesabını kullandı.</p>
<p>O yüzden şimdi ben de size pek çok alana adapte edilebilecek, genel, basit bir model göstereceğim, bu modeli örnek olarak aklınızda tutmanız evrişim hesabını anlamanız için iyi olur. Problem radyoaktif atıklarla alakalı.</p>
<p>Bir fabrika radyoaktif atık üretiyor.</p>
<p><span class="math inline">\(f(t)\)</span>: atım hızı (rate), <span class="math inline">\(t\)</span> sene. İki zaman noktasını düşünürsek, <span class="math inline">\(t_i,t_{i+1}\)</span> arasında üretilen radyoaktif atık <span class="math inline">\(\approx f(t_i) \cdot \Delta t\)</span>. Zaman aralığı küçüldükçe bu hesap kesinleşecek.</p>
<div class="figure">
<img src="21_3.png" />

</div>
<p>Problemim, <span class="math inline">\(t=0\)</span>'dan başlarsam <span class="math inline">\(t\)</span> anında ne kadar radyoaktif atık biriktiğinin hesabı. Bu hesabı zorlaştıran radyoaktif maddelerin aynı anda çürüyor olmasıdır.</p>
<p>Yani bir yandan atık üretiliyor, bir yandan bu atıklar bir şekilde radyoaktif özelliklerini kaybediyorlar. O zaman yaptığımız hesap üretilen madde öbeklerinin, parçalarının birikintide &quot;ne kadar beklediğini'' de hesaba katmalı <em>ki</em> onun çürümesini de bir yandan hesaplayabilelim.</p>
<p>Çürüme hesabı basit bir diferansiyel denklem, <span class="math inline">\(t\)</span> anında kalan madde için, eğer <span class="math inline">\(A_0\)</span> ile başlanırsa çözümü</p>
<p><span class="math display">\[ A_0e^{-kt} \]</span></p>
<p><span class="math inline">\(t\)</span> ekseninin ismini değiştirip <span class="math inline">\(u\)</span> yapalım (bunu niye yaptığımız birazdan belli olacak)</p>
<div class="figure">
<img src="21_4.png" />

</div>
<p>O zaman daha önce hesapladığımız gibi <span class="math inline">\([u_i,u_{i+1}]\)</span> arasında üretilen radyoaktif atık <span class="math inline">\(\approx f(u_i)\Delta u\)</span>.</p>
<p><span class="math inline">\(t\)</span> anında çürüme ise</p>
<p><span class="math display">\[  \approx f(u_i)\Delta u \cdot e^{-k ( \ \ \ )}\]</span></p>
<p><span class="math inline">\(e\)</span>'nin solundaki kısım atılan, eklenen kısım. Çürüme hesabına göre orası bir nevi <span class="math inline">\(A_0\)</span>. Peki <span class="math inline">\(e\)</span>'nin üstündeki boşluğa ne yazılmalı? Oraya eklenen kısmın çürüdüğü zaman aralığı konulmalı. O zaman aralığı nedir? <span class="math inline">\(u_i\)</span>'da atılmış, <span class="math inline">\(t\)</span> anına bakıyorum, o zaman <span class="math inline">\(t-u_i\)</span> aralığı kadar çürümüş demektir.</p>
<p><span class="math display">\[  \approx f(u_i)\Delta u \cdot e^{-k ( t-u_i )}\]</span></p>
<p>Şimdi tüm <span class="math inline">\(u\)</span> aralıklarını alıp birbiriyle toplarsam, <span class="math inline">\(t\)</span> anındaki toplamı bulurum,</p>
<p><span class="math display">\[ \approx \sum_{i=1}^{n} f(u_i) e^{-k(t-u_i)} \Delta u \]</span></p>
<p><span class="math inline">\(\Delta u \to 0\)</span> iken üstteki &quot;Riemann toplamı'' alttaki formüle yaklaşır (aralıklar <span class="math inline">\(u_1 = 0\)</span>, ve <span class="math inline">\(u_n = t\)</span> arasında)</p>
<p><span class="math display">\[ \to \int_0^{t} f(u) e^{k(t-u)}du \]</span></p>
<p>Üstteki fonksiyon bir evrişimdir,</p>
<p><span class="math display">\[ = f(t) * e^{-kt} \]</span></p>
<p>Yani hesap atık fonksiyonu ile çürüme fonksiyonun bir evrişimidir (convolution of).</p>
<p>Pek çok diğer problem üstteki probleme indirgenebilir, onun merceğinden anlaşılablir. Mesela çöp atıklarını düşünelim, ama çöp atıkları çürümüyor olsunlar. O zaman evrişim hesabı</p>
<p><span class="math display">\[ f(t) * 1 \]</span></p>
<p>1 kullanıldı çünkü çürüme yok.</p>
<p>Bir diğer örnek, tavuk yetiştiriliyor, <span class="math inline">\(f(t)\)</span> yeni tavukların üretilme oranı (kg), <span class="math inline">\(t\)</span> doğdukları anda civcivlerin büyüme büyüme oranı, <span class="math inline">\(t\)</span> anında kaç kilo tavuk olduğu <span class="math inline">\(f(t) * t\)</span>.</p>
</body>
</html>
