\documentclass[12pt,fleqn]{article}\usepackage{../../common}
\begin{document}
Ders 21

Evriþim (convolution) tekniði, iki fonksiyon üzerinde iþlem yaparak üçüncü bir
fonksiyon elde eder, ve özel bir iþareti vardýr.

$$ f(t) * g(t) $$

Elde edilen fonksiyon $f(t)$'ye neredeyse hiç benzemeyecektir. Evriþim iþlemini
faydalý hale getiren iki sebep var. Birinci fayda formel tanýmýyla
alakalý. Diyelim ki üstteki iki fonksiyonun ayrý ayrý Laplace Transformu

$$ F(s) = \int_0^{\infty} e^{-st} f(t) \ud t $$

$$ G(s) = \int_0^{\infty} e^{-st} g(t) \ud t $$

Ýki fonksiyonun çarpýmýnýn Laplace transformunu elde etmek için fonksiyonlarýn
ayrý ayrý transformunu bir þekilde bir þekilde kullanan bir formül olsa iyi
olmaz mýydý? Böyle bir fonksiyon var mýdýr?

Dolaylý yoldan evet. Transformlarýn çarpýmý, fonksiyonlarýn çarpýmýnýn deðil ama
``evriþimlerinin'' transformuna eþittir. Yani

$$
F(s)G(s) =  \int_0^{\infty} e^{-st} (f*g) \ud t 
\mlabel{1}
$$

Peki niye böyle bir kýsayolun olmasý iyi bir þey? Faydayý belirttik ama sebebini
belirtmedik.

Bunu anlamak için önce üstel serilere bakalým. Hatýrlayalým, Laplace
transformunun güç serileriyle (power series) paralelliði vardý

$$ F(x) = \sum a_n x^n $$

$n$'yi $t$ yapýp sürekli ortama geçince Laplace transformunu elde
ediyorduk.

Þimdi ikinci fonksiyon

$$ G(x) = \sum b_n x^n $$

Üstteki formüllerde katsayý için $a_nb_n$ kullansam, bu $F(x)$ ve $G(x)$ ile bir
þekilde baðlantý yaratýr mýydý? Cevap dolaylý yoldan evet. Aþaðýdaki formülde
$c_n$'i $a_n,b_n$ ile ilintilendiren bir formül lazým bize.

$$ F(x)G(x) = \sum c_n x^n $$

Bu formül ödeviniz olsun, ama bu formülü bir kere bulunca sürekli ortam için
birazdan vereceðimiz formüle ne kadar benzediðini göreceksiniz.

$$ f(t)*g(t) = \int_0^t f(u)g(t-u) \ud u $$

Ne biçim bir formül bu? Onu anlamanýn en iyi yolu onu kullanarak bir þeyler
hesaplamak herhalde. Not: Kabaca bir taným þöyle olabilir, $t$ bazlý iki
fonksiyon alýnýyor, sýfýr ile $t$ deðeri arasýndaki tüm deðerler $f$ için olduðu
gibi, $g$ için tam tersi þekilde $f,g$'ye hesaplattýrýlýp birbirleri ile
çarpýlýyor.

Bu arada evriþim sýrabaðýmsýz (commutative) bir iþlemdir, yani 

$$ 
f \star g = g \star f 
$$

Evriþim formülüne bakýnca sýrabaðýmsýzlýk bariz deðil, çünkü formül simetrik
durmuyor, ama evriþim formülünü (1)'deki gibi görürsek, o zaman bariz.

$$ \mathcal{L} (f*g) \leadsto F(s)G(s) $$

iþe, $F(s)$ ve $G(s)$ çarpýmý sýrabaðýmsýzdýr, o zaman evriþim de
sýrabaðýmsýzdýr.

Örnek

$t^2 * t$'yi hesaplayalým

$$
t^2 * t =\int_0^t u^2 \cdot (t - u) \ud u
$$

$$ = \frac{u^3}{3}t - \frac{u^4}{4} \bigg]_{0}^{t} = 
\frac{t^4}{3} - \frac{t^4}{4} =
\frac{t^4}{12}
$$

Pür formül kullanan çözüm böyle. Ama hile (!) yaparak Laplace transformunu
kullanabiliriz.

$$ t^2 \leadsto \frac{2}{s^3}, t \leadsto \frac{1}{s^2} $$

Bu transformlarýn çarpýmýný alýrsak 

$$F(s)G(s) = \frac{2}{s^5} $$


Üsttekinin ters Laplace'i nedir? 

$$ \mathcal{L}^{-1}(\frac{2}{s^5}) = \frac{1}{12}t^4 $$

Bunu nasýl hemen bulduk? Bildiðimiz bir ters transform þöyle

$$ \mathcal{L}^{-1}(\frac{4!}{s^5}) = t^4 $$

Bunu alýp iki üsttekine çevirmek için 12 ile bölmek gerekiyordu.

Örnek

$$ f(t) * 1 = \int_0^t f(u) \ 1 \ud u $$

$$  = \int_0^t f(u) \ud u $$

Þimdi evriþim iþleminin Laplace Transformu ile baðlantýsýný ispatlayacaðýz. 

$$ F(s)G(s) = \int_0^{\infty}  e^{-su}f(u) \ud u \cdot  
\int_0^{\infty}  e^{-sv} g(v) \ud v
$$

Üsttekini cebirsel olarak bir yere ``doðru'' manipüle etmeden önce, belki þunu
düþünsek daha iyi olur. ``Neyi'' manipüle edersek üstteki forma geliriz? Çift
entegrallerde entegre edilenleri her biri ``tek bir þeyin'' fonksiyonu olan ayrý
gruplarýn çarpýmý olarak görmek ise yarar, çünkü o zaman mesela iç entegral her
neyse o deðiþkene göre diðeri sabit sayýlýr, dýþarý atýlabilir, vs. Yani
üsttekine alttaki formülden gelebiliriz

$$ = \int_{0}^{\infty} \int_{0}^{\infty} e^{-s(u+v)} f(u)g(v) \ud u \ud v $$

Daha da basitleþtirelim. Eðer $t=u+v$ olsaydý (ki $t$ burada yeni bir deðiþken
olarak dýþarýdan formüle dahil ediliyor) iþimiz kolaylaþýrdý. $u=u$ olarak
alýrýz, $v$ artýk kullanýlmaz, $t-u = v$ yeterli.

$$ = \int \int  e^{-st} f(u)g((t-u)) \ud u \_\_ \ud t $$

Üstte $dt$ kullanmak istiyorum ama bu deðiþimi dikkatli yapmak lazým, boþ
býrakýlan yere ne geleceðini bulmak için Jacobian matrisini kullanmam lazým.

$$ \ud u \ud v = \frac{\partial(u,v)}{\partial(u,t)} \ud u \ud t $$

$$ u = u $$

$$ v = t - u $$

$$
J = \left|\begin{array}{rr} 1 & 0 \\ -1 &1 \end{array}\right| = 1
$$

Yani 

$$ \ud u \ud v = 1 \ud u \ud t $$

O zaman 

$$ = \int \int e^{-st} f(u)g((t-u)) \ud u \ud t $$

Tamam. Bir adým daha kaldý, entegral sýnýrlarýný da deðiþtirmek lazým. Bu biraz
daha zor olabilir.

Ýç entegrale bakalým, $u$ deðiþiyor, $t$ sabit tutuluyor. Daha doðrusu
$t=u+v$ olduðuna göre $u+v$ bir sabit. Bir $u,v$ grafiði düþünürsek, 

\includegraphics[height=4cm]{21_1.png}

$u+v$ gösterilen düz çizgiler üzerinde sabittir. 

\includegraphics[height=4cm]{21_2.png}

$u$ üstteki oklar yönünde artar. Peki $u$ bölgeye soldan girdiðinde deðeri
nedir? Sýfýr. Alttan çýkarken deðeri nedir? O noktada $v=0$, $u+v = t$ olduðuna
göre, $u=t$.

$$ = \int \int_0^t e^{-st} f(u)g((t-u)) \ud u \ud t $$

Dýþ entegral, orijin noktasýndaki $t=0$'dan baþlayarak tüm çizgiler için bu
iþlemi yapmak istiyorum, bu iþlem sonsuza kadar devam ediyor. 

$$ = \int_0^{\infty} \int_0^t e^{-st} f(u)g((t-u)) \ud u \ud t $$

Ýspat tamamlandý. 

Laplace Transformunu ile evriþim iþlemi arasýndaki baðlantýyý gördük. 

Evriþim çok önemli bir iþlemdir, ama onu kullanan pek çok kiþi onu Laplace
Transformuyla alakalý olarak kullanmaz. Onu olduðu gibi tek baþýna
kullanýrlar. Bir örnek vereyim: benim kýzým bir doða / çevre mühendisi
(environmental engineer), ve müþterileri için risk analizi yapmak gibi iþleri
var. Bir gün bir müþterisi için bir bilimsel makale okuyordu, makale asit
yaðmuru ile alakalýydý, yaðmur gelirse çevre ne kadar zarar görür gibi konularla
ilgiliydi. Verilen zararýn hesabý için evriþim kullanýlýyor dedi, bana sordu
``evriþim nedir?''. Makaleyi ben de okudum, hakikaten ilginçti, yani bu alanda
evriþim hesabýnýn olmasý ilginçti.

Sonralarý diðer insanlar da benzer sorularla bana geldiler. Kuzey Kutbu'nda
delme iþlemi yapan bir mühendis geldi mesela, delme sýrasýnda algýlanan
radyoaktiviteyi kullanýp milyonlarca yýl önceki iklim þartlarý hakkýnda hesap
yapmakla ilgileniyordu, o da evriþim hesabýný kullandý.

O yüzden þimdi ben de size pek çok alana adapte edilebilecek, genel, basit bir
model göstereceðim, bu modeli örnek olarak aklýnýzda tutmanýz evriþim hesabýný
anlamanýz için iyi olur. Problem radyoaktif atýklarla alakalý.

Bir fabrika radyoaktif atýk üretiyor. 

$f(t)$: atým hýzý (rate), $t$ sene. Ýki zaman noktasýný düþünürsek,
$t_i,t_{i+1}$ arasýnda üretilen radyoaktif atýk $\approx f(t_i) \cdot \Delta
t$. Zaman aralýðý küçüldükçe bu hesap kesinleþecek.

\includegraphics[height=3cm]{21_3.png}

Problemim, $t=0$'dan baþlarsam $t$ anýnda ne kadar radyoaktif atýk biriktiðinin
hesabý. Bu hesabý zorlaþtýran radyoaktif maddelerin ayný anda çürüyor olmasýdýr.

Yani bir yandan atýk üretiliyor, bir yandan bu atýklar bir þekilde radyoaktif
özelliklerini kaybediyorlar. O zaman yaptýðýmýz hesap üretilen madde
öbeklerinin, parçalarýnýn birikintide ``ne kadar beklediðini'' de hesaba katmalý
\textbf{ki} onun çürümesini de bir yandan hesaplayabilelim.

Çürüme hesabý basit bir diferansiyel denklem, $t$ anýnda kalan madde için,
eðer $A_0$ ile baþlanýrsa çözümü

$$ A_0e^{-kt} $$

$t$ ekseninin ismini deðiþtirip $u$ yapalým (bunu niye yaptýðýmýz birazdan belli
olacak)

\includegraphics[height=3cm]{21_4.png}

O zaman daha önce hesapladýðýmýz gibi $[u_i,u_{i+1}]$ arasýnda üretilen
radyoaktif atýk $\approx f(u_i)\Delta u$.

$t$ anýnda çürüme ise 

$$  \approx f(u_i)\Delta u \cdot e^{-k ( \ \ \ )}$$

$e$'nin solundaki kýsým atýlan, eklenen kýsým. Çürüme hesabýna göre orasý bir
nevi $A_0$. Peki $e$'nin üstündeki boþluða ne yazýlmalý? Oraya eklenen kýsmýn
çürüdüðü zaman aralýðý konulmalý. O zaman aralýðý nedir? $u_i$'da atýlmýþ, $t$
anýna bakýyorum, o zaman $t-u_i$ aralýðý kadar çürümüþ demektir.

$$  \approx f(u_i)\Delta u \cdot e^{-k ( t-u_i )}$$

Þimdi tüm $u$ aralýklarýný alýp birbiriyle toplarsam, $t$ anýndaki toplamý
bulurum,

$$ \approx \sum_{i=1}^{n} f(u_i) e^{-k(t-u_i)} \Delta u $$

$\Delta u \to 0$ iken üstteki ``Riemann toplamý'' alttaki formüle yaklaþýr
(aralýklar $u_1 = 0$, ve $u_n = t$ arasýnda)

$$ \to \int_0^{t} f(u) e^{k(t-u)}du $$

Üstteki fonksiyon bir evriþimdir, 

$$ = f(t) * e^{-kt} $$

Yani hesap atýk fonksiyonu ile çürüme fonksiyonun bir evriþimidir (convolution
of).

Pek çok diðer problem üstteki probleme indirgenebilir, onun merceðinden
anlaþýlablir. Mesela çöp atýklarýný düþünelim, ama çöp atýklarý çürümüyor
olsunlar. O zaman evriþim hesabý

$$ f(t) * 1 $$

1 kullanýldý çünkü çürüme yok. 

Bir diðer örnek, tavuk yetiþtiriliyor, $f(t)$ yeni tavuklarýn üretilme oraný
(kg), $t$ doðduklarý anda civcivlerin büyüme büyüme oraný, $t$ anýnda kaç kilo
tavuk olduðu $f(t) * t$.

\end{document}



