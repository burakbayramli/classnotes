<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <script type="text/x-mathjax-config">
    MathJax.Hub.Register.StartupHook("TeX Jax Ready",function () {
      MathJax.Hub.Insert(MathJax.InputJax.TeX.Definitions.macros,{
        cancel: ["Extension","cancel"], cancelto: ["Extension","cancel"]
      });
    });
    </script>  
   
  <title>Olasılık, Dağılımlar, Giriş</title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
  </style>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML-full" type="text/javascript"></script>
</head>
<body>
<div id="header">
</div>
<h1 id="olasılık-dağılımlar-giriş">Olasılık, Dağılımlar, Giriş</h1>
<p>Dağılımlar</p>
<p>Doğada yapılan çoğu ölçümlerin sıklık / frekans grafiğini alınca sonucun aşağıda gibi çıkması ilginçtir.</p>
<div class="figure">
<img src="stat_intro_01.png" />

</div>
<p>Mesela herhangi bir şehirde, ilçede 2000 yetişkinin kilosunu ölçün. Grafiğini alın kesinlikle yukarıdaki tepe şekli çıkacak. Ya da, 1000 kişinin boyunu ölçün, aynı tepe şekli. Keskin nişancının hedefe attığı kurşunların hedefe yakınlığını ölçüp sıklık grafiğine bakın. Gene aynı tepe şekli! Nasıl oluyor bu iş? Açıklama için, normal dağılım eğrisinden bahsetmemiz gerekecek. Not: Frekans grafiği, X sayısının ne kadar çıktığını sayıp, Y ekseni üzerinde bu sayıyı X'e tekabül ederek kolon olarak göstermeye denir. Mesela, 60 kilo değeri 13 kere çıktı ise, X=60, Y=13 gibi bir kolon çizilecektir.</p>
<p>Normal Dağılım Eğrisi</p>
<p>Normal dağılımın olasılık kavramı ile yakın bağları var. Bu konuda ünlü bir deney zar atma deneyidir. Elimizde tek bir zar var, ve bu zarı arka arkaya atalım. Sabrımız yeterse 1000 kere atalım. Sonuçta, frekans grafiği eşit bir dağılımda olacaktır.</p>
<p>Bunun sebeplerini anlamak zor değil. Her zar atış olayı birbirinden bağımsız, ve her sayının üstte gelme ihtimali birbirine eşit olduğu için (1/6), her sayıdan eşit miktarda gelecek. Tabii bu durumu görmek için deneyin birçok kere tekrarlanması gerekiyor.</p>
<p>Şimdi deneyi biraz değiştirelim, bir yerine 2 zar atalım. Hatta 4 zar atalım, ve bu sefer sıklık grafik hanesine yazmadan çıkan sayıları önce toplayalım. Bu çıkan toplamın sıklık grafiğini alalım.</p>
<p>İşte bu sıklık grafiği göreceğiz ki, üstte görülen tepe grafiğine yaklaşıyor. Ne kadar çok zar atarsak, bu benzerlik o kadar daha fazla olacaktır.</p>
<p>Sebep kabaca tahmin edilebilir, 1 ile 6 arası sayıların tek bir zardan gelme olasılığı aynı, evet. Fakat toplamlara gelince, mesela iki zarlı örnekte, 10 sayısının olasılığı 2 sayısından daha yüksek. Çünkü, 10 sayısını 5-5, 4-6 ya da 6-4 ile alabiliyoruz. 2 sayısı sadece 1-1 ile geliyor.</p>
<p>Buradan şu sonuç çıkabilir: Eğer doğada ölçtüğümüz bir kavramın oluşmasında birden fazla etken var ise, o ölçümlerin sıklığı her zaman çan (bell shape) şeklinde olacaktır. Bir kişinin boyunu, kilosunu etkileyen pek çok diğer faktör olduğu için bu ölçütlerin dağılımlarının normal çıktığı iddia edilebilir. Üstteki örnekteki toplamların dağılımının çan eğrisine yaklaşması durumu istatistikte Merkezi Limit Teorisi ile ispatlanmıştır.</p>
<p>Bu durumu hesap yapıp kendimiz de görebiliriz. İlk önce, <a href="random.org" class="uri">random.org</a> sitesinden rasgele sayı üreteceğiz. Bu site kimsenin kullanmadığı radyo kanallarından atmosfer gürültüsü dinleyip, bu gürültüleri sayısal değere çevirerek rasgele sayı üretiyor. Gerçek rasgele sayı üretmek pek kolay bir iş değil. Her ne kadar bilgisayarımızda rasgele sayı üreten birçok algoritma olsa bile, bu algoritmalar belli bir sayı üretiminden sonra kendini tekrar etmeye başlıyorlar, bu sebeple onlara yarı-rasgele (pseudorandom) sayılar ismi veriliyor. Gerçek rasgele sayılar için dış bir kaynağa bağlanmak bir seçenek olabilir. Ama şunu da söylemek lazım, simulasyon tekniklerinin tamamı için yarı-rasgele sayılar yeterlidir.</p>
<p>Neyse bahsedilen siteden rasgele sayıları üretip, bir veri dosyasına koyuyoruz, kod ile bu sayıları okuyup, ilk önce teker teker sayıların sıklık grafiğini, ondan sonra sayıları üçer üçer toplayıp, onların grafiğini alıp göstereceğiz.</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">A <span class="op">=</span> np.loadtxt(<span class="st">&#39;rasgele.dat&#39;</span>)
plt.hist(A, <span class="dv">50</span>)
plt.savefig(<span class="st">&#39;stat_intro_08.png&#39;</span>)</code></pre></div>
<div class="figure">
<img src="stat_intro_08.png" />

</div>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">A <span class="op">=</span> np.loadtxt(<span class="st">&#39;rasgele.dat&#39;</span>)<span class="op">;</span>
B <span class="op">=</span> []

i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span>

<span class="cf">while</span> (i <span class="op">&lt;</span> <span class="dv">998</span>):
  toplam <span class="op">=</span> <span class="dv">0</span>
  s <span class="op">=</span> A[i]
  toplam <span class="op">=</span> toplam <span class="op">+</span> s
  s <span class="op">=</span> A[i<span class="op">+</span><span class="dv">1</span>]
  toplam <span class="op">=</span> toplam <span class="op">+</span> s
  s <span class="op">=</span> A[i<span class="op">+</span><span class="dv">2</span>]
  toplam <span class="op">=</span> toplam <span class="op">+</span> s
  B.append(toplam<span class="op">/</span><span class="dv">3</span>)
  i <span class="op">=</span> i <span class="op">+</span> <span class="dv">3</span>

plt.hist(B, <span class="dv">50</span>)<span class="op">;</span>
plt.savefig(<span class="st">&#39;stat_intro_09.png&#39;</span>)</code></pre></div>
<div class="figure">
<img src="stat_intro_09.png" />

</div>
<p>Dağılım normal dağılıma benziyor.</p>
<p>Giriş konularını teker teker işlemeden önce derinleme bir dalış yapıp tüm kavramlara değinelim. İstatistiğin temel öğelerinden biri yoğunluk fonksiyonudur (probability density function), mesela</p>
<p><span class="math display">\[
f(x)=N \cdot e^{-\frac{(x-\mu)^2}{2\sigma^2}}
\]</span></p>
<p>ki <span class="math inline">\(N\)</span> normalize edici bir faktör, <span class="math inline">\(\frac{1}{\sqrt{2\pi\sigma^2}}\)</span>, <span class="math inline">\(\sigma\)</span>, <span class="math inline">\(\mu\)</span> dışarıdan bizim tanımladığımız parametreler. <span class="math inline">\(N\)</span> kısmı çarpılan bölümün biri bölen entegrali aslında, ki böylece tüm yoğunluğun entegrali (yani tüm olasılık) 1 olabilsin. Bu şekilde pek çok fonksiyon olasılık yoğunluğu haline getirebilir.</p>
<p>Farklı yoğunluk fonksiyonları var, hangisinin hangi tür veriye uyacağını bulmak istatistikçinin önemli işlerinden. Yoğunluk çok boyutlu da olabilir.</p>
<p>Tek boyutlu bir yoğunluk fonksiyonun x-ekseni üzerindeki alanı her zaman 1'e eşit olmalıdır (yani yoğunluğun <span class="math inline">\(-\infty,\infty\)</span> üzerinden entegrali her zaman 1 sonucunu vermeli). Olasılık teorisinin işlemesi için bu gerekli.</p>
<p>Yoğunluk fonksiyonları doğadan gelen bir tek ölçümü alırlar, boy, kilo gibi, ve onun 'olasılık yoğunluğunu' hesaplarlar. Üstteki örnek için mesela 3 ve 1 değerlerinin yoğunluğunu hesaplayalım,</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">mu <span class="op">=</span> <span class="dv">0</span>
sigma <span class="op">=</span> <span class="dv">1</span>  
<span class="kw">def</span> f(x): <span class="cf">return</span> (<span class="dv">1</span> <span class="op">/</span> (np.sqrt(<span class="dv">2</span> <span class="op">*</span> np.pi <span class="op">*</span> np.power(sigma, <span class="dv">2</span>)))) <span class="op">*</span> <span class="op">\</span>
    (np.power(np.e, <span class="op">-</span>(np.power((x <span class="op">-</span> mu), <span class="dv">2</span>) <span class="op">/</span> (<span class="dv">2</span> <span class="op">*</span> np.power(sigma, <span class="dv">2</span>)))))
<span class="bu">print</span> (<span class="st">&#39;3 icin&#39;</span>, f(<span class="dv">3</span>))
<span class="bu">print</span> (<span class="st">&#39;1 icin&#39;</span>, f(<span class="dv">1</span>))</code></pre></div>
<pre><code>3 icin 0.004431848411938008
1 icin 0.24197072451914337</code></pre>
<p>1 değeri 3'ten daha düşük -- çünkü bu 0 merkezli bir yoğunluk fonksiyonu, sıfıra ne kadar yakınsa yoğunluk o kadar fazla. Bu fonksiyonun tasarlanış şekli böyle. Eğer tüm olası değerleri <span class="math inline">\(x\)</span>'e verip grafiklesek,</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">x <span class="op">=</span> np.array(np.linspace(<span class="op">-</span><span class="dv">3</span>,<span class="dv">3</span>,num<span class="op">=</span><span class="dv">50</span>))
y <span class="op">=</span> f(x)
plt.plot(x,y)
plt.savefig(<span class="st">&#39;stat_intro_03.png&#39;</span>)</code></pre></div>
<div class="figure">
<img src="stat_intro_03.png" />

</div>
<p>Dikkat: yoğunluk fonksiyonu olasılık değildir; bazı yoğunluk değerleri bazı sürekli fonksiyonlarda 1'den fazla çıkabilir! Sürekli ortamda olasılık bir entegraldir, daha önce söylediğimiz gibi tüm fonksiyon alanı 1. Altta bir normal dağılım yoğunluk fonksiyonu solda, onun entegrali kümülatif dağılım fonksiyonu (CDF) sağda.</p>
<div class="figure">
<img src="stat_intro_11.png" />

</div>
<p>CDF bize mesela üstteki grafikte değerin 0 ila 1.5 arasında olma <em>olasılığını</em> veriyor.</p>
<p>CDF hesabı için istatistik yazılım paketlerinde muhakkak bir çağrı olur, mesela <code>scipy.stats</code> ile,</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="im">import</span> scipy.stats
<span class="bu">print</span> (scipy.stats.norm.cdf(<span class="fl">1.5</span>,<span class="dv">0</span>,<span class="dv">1</span>))</code></pre></div>
<pre><code>0.9331927987311419</code></pre>
<p>1'ye yakın oldukca büyük bir sayı, grafiğe uygun. CDF her zaman 0'dan sorulan değere kadar olan alanı verir, tüm alanın 1 olması bilgisinden hareketle bu öğeler biraraya koyulup ek sonuçlara varılabilir, mesela değerin 1.5'tan büyük olma olasılığı için 1-CDF(1.5). Eğer -2 ile 2 arası olma olasılığını istiyorsak CDF(2)-CDF(-2).</p>
<p>Veriden Fonksiyon</p>
<p>Şimdi mesela elimizde bir grup kişinin 68 kiloya ne kadar yakın / uzak olduğunun verisi var (68'ten az olanlar eksi değerli olacak tabii). Veriyi grafikleyelim,</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="im">import</span> pandas <span class="im">as</span> pd
df <span class="op">=</span> pd.read_csv(<span class="st">&#39;boy68.csv&#39;</span>)
df.hist()
plt.savefig(<span class="st">&#39;stat_intro_04.png&#39;</span>)
plt.hold(<span class="va">False</span>)</code></pre></div>
<div class="figure">
<img src="stat_intro_04.png" />

</div>
<p>Dikkat veriyi grafiklemek için histogram kullandık, yani verinin &quot;frekansını'' bastık, bu tür grafiklere göre mesela eğer 3 değeri 10 kere geldi, 1 değeri 2 kere geldi ise 3'un üzerindeki sütun diğerinden daha yüksek olacaktır, çünkü onun &quot;frekansı'' daha fazla.</p>
<p>Bir histogramın aslında yoğunluk fonksiyonunun verisel / ayrıksal hali olduğu da düşünülebilir.</p>
<p>Şimdi biz analizci olarak bu grafiğe bakarız, ve deriz ki acaba biraz önceki <span class="math inline">\(f(x)\)</span> yoğunluğu bu veriye &quot;uyar mı''? Uyar ise ne güzel, <span class="math inline">\(f(x)\)</span> bir sürekli fonksiyon, derli toplu, onun üzerinde pek çok işlem yapabiliriz, bu veriyle işlem yaparken o fonksiyonu kullanmak bize bazı avantajlar sağlayabilir. Eğer temsil edemez ise hangi başka yoğunluk edebilir? Vs.. İstatistik notlarımızda tüm bunların cevabını bulacağız. Bazen yoğunlukların sabitleri olacak (mesela merkez 0 yerine başka bir yerde olsun diyebilmek), ve bu sabitleri, hiperparametreleri veriden hesaplamanın yolları var.. Veriden teoriksel yoğunluğa, oradan başka teorilere, oradan tekrar veriye atlayabilmek istatistiğin özü.</p>
<p>Diyelim ki bir şekilde verinin Normal olduğuna karar verdik (bunun testleri, metotu var tabii) o zaman veriye uygun <span class="math inline">\(\mu,\sigma\)</span> parametrelerini nasıl bulacağız? Veriyi kullanıp bir hesap yaparak! Tahmin ediciler burada devreye giriyor, mesela Normal dağılım için <span class="math inline">\(\mu\)</span> tahmin edici / kestirme hesaplayıcısı <span class="math inline">\(\hat{\mu} = \sum x_i / n\)</span>, yani verinin ortalaması [5]!</p>
<p>Ayrıksal Dağılımlar</p>
<p>Normal dağılım, üstel dağılım birer sürekli fonksiyondurlar, tek boyutta <span class="math inline">\(x\)</span> bir reel sayıdır. Fakat ayrıksal olan dağılımlar da var, mesela Poisson,</p>
<p><span class="math display">\[ f(x) = e^{-\lambda}\lambda^{x} / x! \]</span></p>
<p>ki dışarıdan tanımlı parametre <span class="math inline">\(\lambda\)</span>. Burada geçilen <span class="math inline">\(x\)</span> tam sayı değerler, 1,2,3 gibi.. Ayrıksal olasılık kütle fonksiyonu (süreklideki olasılık yoğunluk yerine) sonuçları birer olasılık olarak kabul edilebilir, çünkü tam sayılar bir nevi kutucuk, geniş alan oluştururlar.</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="im">from</span> scipy.special <span class="im">import</span> factorial

<span class="kw">def</span> poisson_distribution(k, lam):
    <span class="cf">return</span> (lam <span class="op">**</span> k <span class="op">*</span> np.exp(<span class="op">-</span>lam)) <span class="op">/</span> factorial(k)

x <span class="op">=</span> np.array(<span class="bu">range</span>(<span class="dv">20</span>))
y <span class="op">=</span> poisson_distribution(x,lam<span class="op">=</span><span class="dv">5</span>)
plt.plot(x,y)
plt.savefig(<span class="st">&#39;stat_intro_12.png&#39;</span>)</code></pre></div>
<div class="figure">
<img src="stat_intro_12.png" />

</div>
<p>Poisson dağılımın sola doğru meyilli olabileceğini görüyoruz üstte, demek ki veride bu tür bir şekil görürsek onu temsil için Poisson seçebiliriz.</p>
<p>Rasgele Değişkenler</p>
<p>Rasgele değişkenler çoğunlukla büyük harfle gösterilirler, mesela <span class="math inline">\(X\)</span> ya da <span class="math inline">\(Y\)</span> gibi ve bir dağılıma / onun yoğunluk fonksiyonuna göbekten bağlantılıdırlar. Onları formül içinde görünce sanki her bakışınızda içlerinin başka bir rasgele sayı ile doldurulduğunu düşünebiliriz, ama tabii ki bu &quot;rasgelelik'' o RD'nin bağlı olduğu dağılıma göredir. Eğer <span class="math inline">\(X\)</span> üstteki <span class="math inline">\(f(x)\)</span> ile dağılmış dersek, o zaman sıfıra yakın daha çok, 5'e yakın daha az değerler üretilir.</p>
<p>RD'leri formül içinde bile kullanabilirsiniz, mesela</p>
<p><span class="math display">\[ 3X + \log X \]</span></p>
<p>diyebilirdim. Başka değişkenler <span class="math inline">\(Y,Z\)</span> vs formüle ekleyebilirdim. RD'lerin bu tür işlemleri sonucu başka tür RD'ler ortaya çıkabilir (yani sonuç RD'nin bağlı olduğu dağılım farklı bir dağılım olabilir), İstatistik ayrıca bu sonuç dağılımlarının ne olabileceği hakkında güzel dersler içerir.</p>
<p>Tekrarlamak gerekirse, <span class="math inline">\(f(x)\)</span>'e verilen <span class="math inline">\(x\)</span> ile <span class="math inline">\(X\)</span>'in değerleri birbirine karışmasın. İlki için bildiğimiz bir <span class="math inline">\(x\)</span>'in olasılığını soruyoruz, mesela &quot;3'ün olasılığı ne?'' diğerinde bize <span class="math inline">\(f(x)\)</span>'e göre bir sayı üret diyoruz, ve 0.3, 0.1, 0., 0.5 gibi değerler geliyor, kırk yılda bir de bir 3 geliyor belki.</p>
<p>Şimdi istatistiğin temelini oluşturan olasılık teorisinden bahsedelim.</p>
<p>Olasılık</p>
<p>Örneklem Uzayı (Sample Space)</p>
<p>Örneklem uzayı <span class="math inline">\(\Omega\)</span> bir deneyin mümkün tüm olasılıksal sonuçların (outcome) kümesidir. Eğer deneyimiz ardı ardına iki kere yazı (T) tura (H) atıp sonucu kaydetmek ise, bu deneyin mümkün tüm sonuçları şöyledir</p>
<p><span class="math display">\[\Omega = \{HH,HT,TH,TT\} \]</span></p>
<p>Sonuçlar ve Olaylar (Outcomes and Events)</p>
<p><span class="math inline">\(\Omega\)</span> içindeki her nokta bir sonuçtur (outcome). Olaylar <span class="math inline">\(\Omega\)</span>'nin herhangi bir alt kümesidir ve sonuçlardan oluşurlar. Mesela üstteki yazı-tura deneyinde &quot;iki atışın içinden ilk atışın her zaman H gelmesi olayı'' böyle bir alt kümedir, bu olaya <span class="math inline">\(A\)</span> diyelim, <span class="math inline">\(A = \{HH,HT\}\)</span>.</p>
<p>Ya da bir deneyin sonucu <span class="math inline">\(\omega\)</span> fiziksel bir ölçüm , diyelin ki sıcaklık ölçümü. Sıcaklık <span class="math inline">\(\pm\)</span>, reel bir sayı olduğuna göre, <span class="math inline">\(\Omega = (-\infty, +\infty)\)</span>, ve sıcaklık ölçümünün 10'dan büyük ama 23'ten küçük ya da eşit olma &quot;olayı'' <span class="math inline">\(A = (10,23]\)</span>. Köşeli parantez kullanıldı çünkü sınır değerini dahil ediyoruz.</p>
<p>Örnek</p>
<p>10 kere yazı-tura at. <span class="math inline">\(A\)</span> = &quot;en az bir tura gelme'' olayı olsun. <span class="math inline">\(T_j\)</span> ise <span class="math inline">\(j\)</span>'inci yazı-tura atışında yazı gelme olayı olsun. <span class="math inline">\(P(A)\)</span> nedir?</p>
<p>Bunun hesabı için en kolayı, hiç tura gelmeme, yani tamamen yazı gelme olasılığını, <span class="math inline">\(A^c\)</span>'yi hesaplamak, ve onu 1'den çıkartmaktır. <span class="math inline">\(^c\)</span> sembolü &quot;tamamlayıcı (complement)'' kelimesinden geliyor.</p>
<p><span class="math display">\[ P(A) = 1 - P(A^c) \]</span></p>
<p><span class="math display">\[ = 1 - P(\textit{hepsi yazı}) \]</span></p>
<p><span class="math display">\[ = 1-P(T_1)P(T_2)...P(T_{10}) \]</span></p>
<p><span class="math display">\[ = 1 - \bigg(\frac{1}{2}\bigg)^{10} \approx .999 \]</span></p>
<p>Rasgele Değişkenler (Random Variables)</p>
<p>Bir rasgele değişken <span class="math inline">\(X\)</span> bir eşlemedir, ki bu eşleme <span class="math inline">\(X: \Omega \to \mathbb{R}\)</span> her sonuç ile bir reel sayı arasındaki eşlemedir.</p>
<p>Kabaca anlatmak gerekirse rasgele değişken <span class="math inline">\(X\)</span>'in, bağlı olduğu dağılımın zar atılmış değerini içerdiği, ve bu değerlerden bazılarını filtreyebildiği, düşünülebilir. Her rasgele değişken tek bir dağılıma bağlıdır, ve <span class="math inline">\(X\)</span>'e ne zaman referens edersek onun içinin bu dağılımdan gelen bir sayı ile doldurulduğunu hayal etmek gerekir, tabii ki çoğu dağılımda bazı sayılar daha olasıdır, ve bu içi doldurmanın çoğunlukla bu olası sayılardan olacağı düşünülebilir.</p>
<p>Olasılık derslerinde bir noktadan sonra artık örnekleme uzayından bahsedilmez, ama bu kavramın arkalarda bir yerde her zaman devrede olduğunu hiç aklımızdan çıkartmayalım.</p>
<p>Örnek</p>
<p>10 kere yazı-tura attık diyelim. VE yine diyelim ki <span class="math inline">\(X(\omega)\)</span> rasgele değişkeni her <span class="math inline">\(\omega\)</span> sıralamasında (sequence) olan tura sayısı. Mesela eğer <span class="math inline">\(\omega = HHTHHTHHTT\)</span> ise <span class="math inline">\(X(\omega) = 6\)</span>. Tura sayısı eşlemesi <span class="math inline">\(\omega\)</span> sonucunu 6 sayısına eşledi.</p>
<p>Örnek</p>
<p>Rasgele değişken <span class="math inline">\(X\)</span> iki zar atınının toplamı olabilir.</p>
<p><span class="math display">\[ P(X=2) = P(\textrm{iki tane 1 gelme şansı}) = 1/36 \]</span></p>
<p><span class="math display">\[ P(X=3) = P((1,2),(2,1)) = 2/36 \]</span></p>
<p><span class="math display">\[ \vdots \]</span></p>
<p>Örnek</p>
<p><span class="math inline">\(\Omega = \{ (x,y); x^2+y^2 \le 1 \}\)</span>, yani küme birim çember ve içindeki reel sayılar (unit disc). Diyelim ki bu kümeden rasgele seçim yapıyoruz. Tipik bir sonuç <span class="math inline">\(\omega = (x,y)\)</span>'dir. Tipik rasgele değişkenler ise <span class="math inline">\(X(\omega) = x\)</span>, <span class="math inline">\(Y(\omega) = y\)</span>, <span class="math inline">\(Z(\omega) = x+y\)</span> olabilir. Görüldüğü gibi bir sonuç ile reel sayı arasında eşleme var. <span class="math inline">\(X\)</span> rasgele değişkeni bir sonucu <span class="math inline">\(x\)</span>'e eşlemiş, yani <span class="math inline">\((x,y)\)</span> içinden sadece <span class="math inline">\(x\)</span>'i çekip çıkartmış. Benzer şekilde <span class="math inline">\(Y,Z\)</span> değişkenleri var.</p>
<p>Toplamsal Dağılım Fonksiyonu (Cumulative Distribution Function -CDF-)</p>
<p>Tanım</p>
<p><span class="math inline">\(X\)</span> rasgele değişkeninin CDF'i <span class="math inline">\(F_X: \mathbb{R} \to [0,1]\)</span> tanımı</p>
<p><span class="math display">\[ F_X(x) = P(X \ge x) \]</span></p>
<p>Eğer <span class="math inline">\(X\)</span> ayrıksal ise, yani sayılabilir bir küme <span class="math inline">\(\{x_1,x_2,...\}\)</span> içinden değerler alıyorsa olasılık fonksiyonu (probability function), ya da olasılık kütle fonksiyonu (probability mass function -PMF-)</p>
<p><span class="math display">\[ f_X(x) = P(X = x) \]</span></p>
<p>Bazen <span class="math inline">\(f_X\)</span>, ve <span class="math inline">\(F_X\)</span> yerine sadece <span class="math inline">\(f\)</span> ve <span class="math inline">\(F\)</span> yazarız.</p>
<p>Tanım</p>
<p>Eğer <span class="math inline">\(X\)</span> sürekli (continuous) ise, yani tüm <span class="math inline">\(x\)</span>'ler için <span class="math inline">\(f_X(x) &gt; 0\)</span>, <span class="math inline">\(\int_{-\infty}^{+\infty}f(x) \mathrm{d} x = 1\)</span> olacak şekilde bir <span class="math inline">\(f_X\)</span> mevcut ise, o zaman her <span class="math inline">\(a \le b\)</span> için</p>
<p><span class="math display">\[ P(a&lt;X&lt;b) = \int_{a}^{b}f_X(x) \mathrm{d} x \]</span></p>
<p>Bu durumda <span class="math inline">\(f_X\)</span> olasılık yoğunluk fonksiyonudur (probability density function -PDF-).</p>
<p><span class="math display">\[ F_X = \int_{\infty}^{x}f_X(t) \mathrm{d} t \]</span></p>
<p>Ayrıca <span class="math inline">\(F_X(x)\)</span>'in türevi alınabildiği her <span class="math inline">\(x\)</span> noktasında <span class="math inline">\(f_X(x) = F&#39;_X(x)\)</span> demektir.</p>
<p>Dikkat! Eğer <span class="math inline">\(X\)</span> sürekli ise o zaman <span class="math inline">\(P(X = x) = 0\)</span> değerindedir. <span class="math inline">\(f(x)\)</span> fonksiyonunu <span class="math inline">\(P(X=x)\)</span> olarak görmek hatalıdır. Bu sadece ayrıksal rasgele değişkenler için işler. Sürekli durumda olasılık hesabı için belli iki nokta arasında entegral hesabı yapmamız gereklidir. Ek olarak PDF 1'den büyük olabilir, ama PMF olamaz. PDF'in 1'den büyük olabilmesi entegrali bozmaz mı? Unutmayalım, entegral hesabı yapıyoruz, noktasal değerlerin 1 olması tüm 1'lerin toplandığı anlamına gelmez.</p>
<p>Olasılık <em>yoğunluk</em> fonksiyonundaki yoğunluk kelimesini tekrar vurgulamak iyi olur. Özellikle sürekli dağılım bağlamında bu kavramı hakiki yoğunluk gibi düşünmek iyi olur. Mesela tamamı aynı maddeden olan bir küp düşünelim, yoğunluğu 2. Bu küpün neresine bakarsak bakalım yoğunluk hep aynı olur, 2. Yoğunluk bir bakıma belli bir alanı temsil eden bir <em>özet</em>. Sonra bu küpün kütlesini bulmak için habire bir sürü 2'yi üst üste koyup toplamıyoruz; kütle hesabı için bir çarpım yapıyoruz / entegral alıyoruz.</p>
<p>Örnek olarak çan eğrisi / normal dağılımdan sayılar üretelim. Bu dağılımda &quot;ağırlık'' ortadadır. Rasgele sayı üretip histograma bakalım,</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">mu<span class="op">=</span><span class="dv">10</span><span class="op">;</span>sigma<span class="op">=</span><span class="fl">0.1</span>
data <span class="op">=</span> np.random.normal(mu,sigma,<span class="dv">100</span>)
hst <span class="op">=</span> plt.hist(data, normed<span class="op">=</span><span class="va">True</span>,bins<span class="op">=</span><span class="dv">6</span>)
<span class="bu">print</span> hst[<span class="dv">0</span>]</code></pre></div>
<pre><code>[ 1.79234778  2.81654651  4.60889429  2.17642231  1.15222357  0.25604968]</code></pre>
<p>Görüldüğü gibi 1'den büyük değerler var, ve &quot;yoğunluk'' ortadaki iki kutuda. Olasılık yoğunluk hesabını formülsel yapsak, mesela 10 noktasının ağırlığı nedir desek,</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="bu">print</span> norm.pdf(<span class="dv">10</span>,mu,sigma)</code></pre></div>
<pre><code>3.98942280401</code></pre>
<p>Şimdi olasılık değerleri, <span class="math inline">\(P(a &lt; X &lt; b)\)</span> ifadesi, alan hesabı ve rasgele değişkenler arasındaki bağlantıyı biraz daha detaylandırmak gerekirse; <span class="math inline">\(X\)</span> bir rasgele değişken, nokta (kesin) değeri olmasa da denklemde kullanılabiliyor, toplanıp çıkartılabiliyor, vs. Bu değişkene &quot;değeri sorulduğunda'' bu değer o <span class="math inline">\(X\)</span>'in bağlı olduğu dağılımın zar atması sonucunda gelecektir. Bu zar atışı ise olasılık fonksiyonunun yüksek değer verdiği <span class="math inline">\(x\)</span> değerlerini daha fazla üretecektir doğal olarak. Bunu kavramsal olarak söylüyoruz tabii, istatistiki problemlerde illa bu zar atışını yapmamız gerekmeyebilir.</p>
<div class="figure">
<img src="stat_intro_10.png" />

</div>
<p>Mesela üstteki dağılım için 100 ve çevresindeki değerlerinin olasılığı çok yüksek, mesela grafiğe bakarsak, kabaca, <span class="math inline">\(f_X(100) = 0.027\)</span>, ya da <span class="math inline">\(f_X(120) = 0.015\)</span>. Demek ki bu dağılıma bağlı bir <span class="math inline">\(X\)</span>, o çevreden daha fazla değer üretir.</p>
<p>Rasgele değişkene bağlı olasılık hesabı için ise, mesela <span class="math inline">\(P(X &lt; 120)\)</span> diyelim, bu ifade ile ne diyoruz? Sorduğumuz şudur, zar atışlarının belli değer altında gelmesi olasılığı... Bu hesap tabii ki bir alan hesabıdır, x eksenindeki belli aralıklar, bölgelerin toplam olasılığının ne olacağı o bölgenin tam üzerindeki yoğunluğun toplamı olacaktır, aynen tek değerlerin olasılığının o tek değerin yoğunluk değeri olması gibi. Yani bu tür olasılık hesapları direk <span class="math inline">\(f_X(x)\)</span> üzerinden yapılacaktır. Zar atıldığında 100'den küçük değerlerin gelme olasılığı nedir? Alana bakarsak 0.5, yani 1/2, tüm alanın yarısı. Bu normal, çünkü 100'den küçük değerler dağılımın yarısını temsil ediyor. 200'den küçük değerler gelme olasılığı nedir, yani <span class="math inline">\(P(X &lt; 200)\)</span>? Olasılık 1. <span class="math inline">\(f_X\)</span> alanının tamamı. Yani kesin. Çünkü yoğunluk fonksiyonunun tamamı zaten 200'den küçük değerler için tanımlı. &quot;Yoğunluk orada''.</p>
<p>Tanım</p>
<p><span class="math inline">\(X\)</span> rasgele değişkeninin CDF'i <span class="math inline">\(F\)</span> olsun. Ters CDF (inverse cdf), ya da yüzdelik dilim fonksiyonu (quantile function)</p>
<p><span class="math display">\[ F^{-1}(q) = \inf \bigg\{ x: F(x) \le q \bigg\} \]</span></p>
<p>ki <span class="math inline">\(q \in [0,1]\)</span>. Eğer <span class="math inline">\(F\)</span> kesinlikle artan ve sürekli bir fonksiyon ise <span class="math inline">\(F^{-1}(q)\)</span> tek bir <span class="math inline">\(x\)</span> sayısı ortaya çıkarır, ki <span class="math inline">\(F(x) = q\)</span>.</p>
<p>Eğer <span class="math inline">\(\inf\)</span> kavramını bilmiyorsak şimdilik onu minimum olarak düşünebiliriz.</p>
<p><span class="math inline">\(F^{-1}(1/4)\)</span> birinci çeyrek</p>
<p><span class="math inline">\(F^{-1}(1/2)\)</span> medyan (median, ya da ikinci çeyrek),</p>
<p><span class="math inline">\(F^{-1}(3/4)\)</span> üçüncü çeyrek</p>
<p>olarak bilinir.</p>
<p>İki rasgele değişken <span class="math inline">\(X\)</span> ve <span class="math inline">\(Y\)</span> dağılımsal olarak birbirine eşitliği, yani <span class="math inline">\(X \ \buildrel d \over = \ Y\)</span> eğer <span class="math inline">\(F_X(x) = F_Y(x)\)</span>, <span class="math inline">\(\forall x\)</span>. Bu <span class="math inline">\(X,Y\)</span> birbirine eşit, birbirinin aynısı demek değildir. Bu değişkenler hakkındaki tüm olasılıksal işlemler, sonuçlar aynı olacak demektir.</p>
<p>Uyarı! &quot;<span class="math inline">\(X\)</span>'in dağılımı <span class="math inline">\(F\)</span>'tır'' beyanını <span class="math inline">\(X \sim F\)</span> şeklinde yazmak bir gelenek. Bu biraz kötü bir gelenek aslında çünkü <span class="math inline">\(\sim\)</span> sembolü aynı zamanda yaklaşıksallık kavramını belirtmek için de kullanılıyor.</p>
<p>Tanım</p>
<p><span class="math inline">\(x_1,..,x_n\)</span> verilerini içeren örneklemin (sample) ortalaması</p>
<p><span class="math display">\[ \bar{x} = \frac{1}{n} \sum x_i
\qquad (1)
\]</span></p>
<p>Dikkat bu örneklemdeki verinin ortalaması. Hiçbir dağılım hakkında hiçbir faraziye yapmadık. Ayrıca tanım kullandık, yani bu ifadenin ne olduğu tamamen bize bağlı.</p>
<p>Örneklem ortalaması sadece tek merkezi bir tepesi olan (unimodal) dağılımlar için geçerlidir. Eğer bu temel varsayım geçerli değilse, ortalama kullanarak yapılan hesaplar bizi yanlış yollara götürür. Ayrıca bir dağılımı simetrik olup olmadığı da ortalama ya da medyan kullanılıp kullanılmaması kararında önemlidir. Eğer simetrik, tek tepeli bir dağılım var ise, ortalama ve medyan birbirine yakın olacaktır. Fakat veri başka türde bir dağılım ise, o zaman bu iki ölçüt birbirinden çok farklı olabilir.</p>
<p>Dağılımlar</p>
<p>Bernoulli Dağılımı</p>
<p><span class="math inline">\(X\)</span>'in bir yazı-tura atışını temsil ettiğini düşünelim. O zaman <span class="math inline">\(P(X = 1) =p\)</span>, ve <span class="math inline">\(P(X = 0) = 1 - p\)</span> olacaktır, ki <span class="math inline">\(p \in [0,1]\)</span> olmak üzere. O zaman <span class="math inline">\(X\)</span>'in dağılımı Bernoulli deriz, <span class="math inline">\(X \sim Bernoulli(p)\)</span> diye gösteririz. Olasılık fonksiyonu, <span class="math inline">\(x \in \{0,1\}\)</span>.</p>
<p><span class="math display">\[ f(x;p) = p^x(1-p)^{(1-x)} \]</span></p>
<p>Yani <span class="math inline">\(x\)</span> ya 0, ya da 1. Parametre <span class="math inline">\(p\)</span>, 0 ile 1 arasındaki herhangi bir reel sayı.</p>
<p><span class="math display">\[ E(X) = p \]</span></p>
<p><span class="math display">\[ Var(X) = p(1-p) \]</span></p>
<p>Uyarı!</p>
<p><span class="math inline">\(X\)</span> bir rasgele değişken; <span class="math inline">\(x\)</span> bu değişkenin alabileceği spesifik bir değer; <span class="math inline">\(p\)</span> değeri ise bir <em>parametre</em>, yani sabit, önceden belirlenmiş reel sayı. Tabii istatistiki problemlerde (olasılık problemlerinin tersi olarak düşünürsek) çoğunlukla o sabit parametre bilinmez, onun veriden hesaplanması, kestirilmesi gerekir. Her halükarda, çoğu istatistiki modelde rasgele değişkenler vardır, ve onlardan ayrı olarak parametreler vardır. Bu iki kavramı birbiriyle karıştırmayalım.</p>
<p>Binom Dağılımı (Binomial Distribution)</p>
<p>Her biri birbirinden bağımsız ve birbiriyle aynı Bernoulli Dağılımına sahip deneylerden <span class="math inline">\(n\)</span> tane yapıldığını farzedelim, ki bu deneylerin sadece iki sonucu olacak (1/0. başarı/başarısızlık, vs). Bu deneylerin <span class="math inline">\(p\)</span>'sı aynı olacak. O zaman <span class="math inline">\(n\)</span> deney içinden toplam kaç tanesinin başarılı olduğunu gösteren <span class="math inline">\(X\)</span> rasgele değişkeni Binom Dağılımına sahiptir denir.</p>
<p>Bu dağılımın yoğunluğu</p>
<p><span class="math display">\[ f(x;p,n) = {n \choose{x}} p^x(1-p)^{n-x} \]</span></p>
<p><span class="math display">\[ = \frac{n!}{x!(n-x)!} p^x(1-p)^{n-x}  \]</span></p>
<p>Bu fonksiyonun parametreleri <span class="math inline">\(p,n\)</span> değerleridir. Beklenti ve varyans</p>
<p><span class="math display">\[ \mu = E(X) = np \]</span></p>
<p><span class="math display">\[ \sigma^2 = Var(X) = np(1-p) \]</span></p>
<p>Birörnek (Uniform) Dağılım</p>
<div class="figure">
<img src="stat_intro_05.png" />

</div>
<p><span class="math inline">\(X\)</span> birörnek, <span class="math inline">\(Uniform(a,b)\)</span> olarak dağılmış deriz, ve bu <span class="math inline">\(X \sim Uniform(a,b)\)</span> olarak yazılır eğer</p>
<p><span class="math display">\[ f(x)  = 
\left\{ \begin{array}{ll}
\frac{ 1}{b-a} &amp; x \in [a,b] \ icin \\
0 &amp; diger
\end{array} \right.
\]</span></p>
<p>işe ve <span class="math inline">\(a&lt;b\)</span> olacak şekilde. CDF hesabı olasılık eğrisinin entegralini temel alır, düz dağılım bir <span class="math inline">\(a,b\)</span> arasında <span class="math inline">\(1/b-a\)</span> yüksekliğinde bir dikdörtgen şeklinde olacağı için, bu dikdörtgendeki herhangi bir <span class="math inline">\(x\)</span> noktasında CDF dağılımı, yani o <span class="math inline">\(x\)</span>'in başlayıp sol tarafın alanının hesabı basit bir dikdörtgensel alan hesabıdır, yani <span class="math inline">\(x-a\)</span> ile <span class="math inline">\(1/b-a\)</span>'nin çarpımıdır, o zaman</p>
<p><span class="math display">\[ F(x) = 
\left\{ \begin{array}{ll}
0 &amp; x &lt; a \\
\frac{ x-a}{b-a} &amp; x \in [a,b] \\
1 &amp; x &gt; b
\end{array} \right.
\]</span></p>
<p>Beklenti <span class="math inline">\(E[X] = 1\)</span>.</p>
<p>Multinom (Multinomial) Dağılım</p>
<p>Çok boyutlu <span class="math inline">\(X\)</span> rasgele değişkeni, ki boyutu <span class="math inline">\(k\)</span> olarak tanımlayalım, <span class="math inline">\(X \sim Mult(m,p)\)</span> olarak dağılmıştır deriz, eğer bu dağılım <span class="math inline">\(k\)</span> sınıf, kategori içinden birinin seçildiği durumda <span class="math inline">\(m\)</span> deney içinden kaç tanesinin hangi kategorilerde olduğunu temsil ediyorsa, ve <span class="math inline">\(p\)</span> çok boyutludur. Multinom, binom dağılımının çok kategorili halidir denebilir, ya da binom, multinomun <span class="math inline">\(k=2\)</span> halidir. Olasılıklar,</p>
<p><span class="math display">\[ P(X_1=m_1,...,X_k=m_k) = f(x;m,p) \]</span></p>
<p>ki <span class="math inline">\(m_k\)</span>, <span class="math inline">\(k\)</span>'inci kategoriden kaç tane görüldüğü. Olasılık yoğunluk fonksiyonu,</p>
<p><span class="math display">\[ f(x;m,p) = \frac{m!}{x_1! \cdot \cdot !x_k!} p_{1}^{x_1} \cdot \cdot  p_{1}^{x_k} \]</span></p>
<p>Beklenti $ E(X) = p $. Her kategori, hücre <span class="math inline">\(i\)</span> için tabii ki $ E(X_i) = p$, varyans ise <span class="math inline">\(Var(X_i) = m p_i(1-p_i)\)</span>. Kovaryans <span class="math inline">\(Covar(X_i,X_j) = -mp_ip_j\)</span>. Bunun türetilmesini ilerideki bir bölümde göreceğiz.</p>
<div class="figure">
<img src="multinom.png" />

</div>
<p>Poisson Dağılımı</p>
<p>Sayım verilerini (count data) modellemek için bu dağılım çok kullanılır. Tanımı,</p>
<p><span class="math display">\[ f(x) = P(X=x) = e^{-\lambda}\frac{\lambda^{x}}{x!} \]</span></p>
<p>Poisson dağılımını tanımlayan <span class="math inline">\(\lambda\)</span> sabitidir. Belli bir Poisson yoğunluk fonksiyonu göstermek için <span class="math inline">\(f(x;\lambda)\)</span> gibi bir tanım görebilirsiniz. Bu dağılımın önemli bir özelliği ortalama ve varyansının aynı olmasıdır.</p>
<p>Normal (Gaussian) Dağılım</p>
<p><span class="math inline">\(X \sim N(\mu, \sigma^2)\)</span> ve PDF</p>
<p><span class="math display">\[ f(x) = \frac{1}{\sigma\sqrt{2\pi}} 
\exp \bigg\{ - \frac{1}{2\sigma^2}(x-\mu)^2  \bigg\}
, \ x \in \mathbb{R}
\]</span></p>
<p>ki <span class="math inline">\(\mu \in \mathbb{R}\)</span> ve <span class="math inline">\(\sigma &gt; 0\)</span> olacak şekilde. Bazıları bu dağılımı</p>
<p><span class="math display">\[  
= \frac{1}{\sigma\sqrt{2\pi}} 
\exp \bigg\{ -\frac{1}{2}(x-\mu)\sigma^{-2}(x-\mu)  \bigg\}
\]</span></p>
<p>olarak gösterebiliyor, çünkü bu şekilde (birazdan göreceğimiz) çok boyutlu Gaussian formülü ile alaka daha rahat gözüküyor.</p>
<p>İleride göreceğiz ki <span class="math inline">\(\mu\)</span> bu dağılımın &quot;ortası'', ve <span class="math inline">\(\sigma\)</span> onun etrafa ne kadar &quot;yayıldığı'' (spread). Normal dağılım olasılık ve istatistikte çok önemli bir rol oynar. Doğadaki pek çok olay yaklaşıksal olarak Normal dağılıma sahiptir. Sonra göreceğimiz üzere, mesela bir rasgele değişkenin değerlerinin toplamı her zaman Normal dağılıma yaklaşır (Merkezi Limit Teorisi -Central Limit Theorem-).</p>
<p>Eğer <span class="math inline">\(\mu = 0\)</span> ve <span class="math inline">\(\sigma = 1\)</span> ise <span class="math inline">\(X\)</span>'in standart Normal dağılım olduğunu söyleriz. Geleneğe göre standart Normal dağılım rasgele değişkeni <span class="math inline">\(Z\)</span> ile gösterilmelidir, PDF ve CDF <span class="math inline">\(\phi(z)\)</span> ve <span class="math inline">\(\Phi(z)\)</span> olarak gösterilir.</p>
<p><span class="math inline">\(\Phi(z)\)</span>'nin kapalı form (closed-form) tanımı yoktur. Bu, matematikte &quot;analitik bir forma sahip değil'' demektir, formülü bulunamamaktadır, bunun sebebi ise Normal PDF'in entegralinin analitik olarak alınamıyor oluşudur.</p>
<p>Bazı faydalı püf noktaları</p>
<ol style="list-style-type: decimal">
<li><p>Eğer <span class="math inline">\(X \sim N(\mu, \sigma^2)\)</span> ise, o zaman <span class="math inline">\(Z = (X-\mu) / \sigma \sim N(0,1)\)</span>.</p></li>
<li><p>Eğer <span class="math inline">\(Z \sim N(0,1)\)</span> ise, o zaman <span class="math inline">\(X = \mu + \sigma Z \sim N(\mu,\sigma^2)\)</span></p></li>
<li><p>Eğer <span class="math inline">\(X_i \sim N(\mu_i, \sigma_i^2)\)</span>, <span class="math inline">\(i=1,2,...\)</span> ve her <span class="math inline">\(X_i\)</span> diğerlerinden bağımsız ise, o zaman</p></li>
</ol>
<p><span class="math display">\[ \sum_{i=1}^n X_i = N\bigg( \sum_{i=1}^n\mu_i, \sum_{i=1}^n\sigma^2 \bigg) \]</span></p>
<p>Tekrar <span class="math inline">\(X \sim N(\mu, \sigma^2)\)</span> alırsak ve 1. kuraldan devam edersek / temel alırsak şu da doğru olacaktır.</p>
<p><span class="math display">\[ P(a &lt; X &lt; b) = ? \]</span></p>
<p><span class="math display">\[ 
= P\bigg(
\frac{a-\mu}{\sigma} &lt; 
\frac{X-\mu}{\sigma} &lt; 
\frac{b-\mu}{\sigma}
\bigg) 
\]</span></p>
<p><span class="math display">\[
= P\bigg(\frac{a-\mu}{\sigma} &lt; Z &lt; \frac{b-\mu}{\sigma}\bigg) 
= 
\Phi\bigg(\frac{b-\mu}{\sigma}\bigg) - 
\Phi\bigg(\frac{a-\mu}{\sigma}\bigg) 
\]</span></p>
<p>İlk geçişi nasıl elde ettik? Bir olasılık ifadesi <span class="math inline">\(P(\cdot)\)</span> içinde eşitliğin iki tarafına aynı anda aynı toplama, çıkarma operasyonlarını yapabiliriz.</p>
<p>Son ifadenin anlamı şudur. Eğer standart Normal'ın CDF'ini hesaplayabiliyorsak, istediğimiz Normal olasılık hesabını yapabiliriz demektir, çünkü artık <span class="math inline">\(X\)</span> içeren bir hesabın <span class="math inline">\(Z\)</span>'ye nasıl tercüme edildiğini görüyoruz.</p>
<p>Tüm istatistik yazılımları <span class="math inline">\(\Phi(z)\)</span> ve <span class="math inline">\(\Phi(z)^{-1}\)</span> hesabı için gerekli rutinlere sahiptir. Tüm istatistik kitaplarında <span class="math inline">\(\Phi(z)\)</span>'nin belli değerlerini taşıyan bir tablo vardır. Ders notlarımızın sonunda da benzer bir tabloyu bulabilirsiniz.</p>
<p>Örnek</p>
<p><span class="math inline">\(X \sim N(3,5)\)</span> ise <span class="math inline">\(P(X &gt; 1)\)</span> nedir? Cevap:</p>
<p><span class="math display">\[ 
P(X&gt;1) = 1 - P(X &lt; 1) = 1 - P( Z &lt; \frac{ 1 - 3}{\sqrt{5 }}) 
\]</span></p>
<p><span class="math display">\[ = 1 - \Phi(-0.8944) =  1 - 0.19 = .81 \]</span></p>
<p>Soru <span class="math inline">\(P(a &lt; X &lt; b)\)</span> formunda <span class="math inline">\(a\)</span> kullanmadı, sadece <span class="math inline">\(b\)</span> olduğu için yukarıdaki form ortaya çıktı. Python ile</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="im">from</span> scipy.stats.distributions <span class="im">import</span> norm
<span class="bu">print</span> norm.cdf(<span class="op">-</span><span class="fl">0.8944</span>)
<span class="bu">print</span> <span class="dv">1</span><span class="op">-</span>norm.cdf(<span class="op">-</span><span class="fl">0.8944</span>)</code></pre></div>
<pre><code>0.18555395624
0.81444604376</code></pre>
<p>Soru</p>
<p><span class="math inline">\(\Phi(1.13)\)</span> nedir?</p>
<div class="figure">
<img src="stat_intro_06.png" />

</div>
<p>Kümülatif olasılık fonksiyonuna geçilen z değerlerinin bir diğer ismi ise z-skoru. Bu değerleri anlamanın bir yolu (skora çevirilmiş) orijinal değerlerin &quot;kaç standart sapma uzakta'' olduğunu göstermesidir. Bundan sonra ölçümüz standart sapma haline geliyor, ve bu değer sola ya da sağa çekildikçe ona tekabül eden alan (üstte sarı renkle gösterilen kısım), yani olasılık azalıp çoğalıyor. Grafikte mesela &quot;1.13 standart sapma'' yani z-skor nereyi gösteriyor deyince, görülen şekil / olasılık ortaya çıkıyor. Tabii temel aldığımız değer baştan z-skorunun kendisi ise dağılım standart dağılım ve standart sapma 1 olduğu için &quot;kaç standart sapma'' ile z-skoru birbirine eşit. z-Skorları hakkında ek bir anlatım bu bölümün sonunda bulunabilir.</p>
<p>Örnek</p>
<p>Şimdi öyle bir <span class="math inline">\(q\)</span> bul ki <span class="math inline">\(P(X &lt; q) = .2\)</span> olsun. Yani <span class="math inline">\(\Phi^{-1}(.2)\)</span>'yi bul. Yine <span class="math inline">\(X \sim N(3,5)\)</span>.</p>
<p>Cevap</p>
<p>Demek ki tablodan <span class="math inline">\(.2\)</span> değerine tekabül eden eşik değerini bulup, üstteki formül üzerinden geriye tercüme etmemiz gerekiyor. Normal tablosunda <span class="math inline">\(\Phi(-0.8416) = .2\)</span>,</p>
<p><span class="math display">\[ .2 = P(X&lt;q) = P( Z &lt; \frac{ q - \mu}{\sigma}) = \Phi(\frac{ q - \mu}{\sigma})
\]</span></p>
<p>O zaman</p>
<p><span class="math display">\[ -0.8416 = \frac{q - \mu}{\sigma} = \frac{ q - 3}{\sqrt{ 5}} \]</span></p>
<p><span class="math display">\[ q = 3 - 0.8416 \sqrt{ 5} = 1.1181 \]</span></p>
<p>Entegral ile Normalize Etmek</p>
<p>Normal Dağılımın formülünü türetmek ve aynı anda normalize etmenin nasıl olduğunu anlamak için alttakilere bakalım. Basit bir formülden başlayarak türetelim. Daha önce [3]'te <span class="math inline">\(e^{-x^2}\)</span> Nasıl Entegre Edilir kısmında gördük,</p>
<p><span class="math display">\[ \int_{-\infty}^{+\infty} e^{-x^2} \mathrm{d} x= \sqrt{\pi} \]</span></p>
<p>olduğunu görmüştük. Dikkat edersek bu integral bir formülün olasılıksal dağılım olup olmadığını kontrol etmek için kullandığımız integrale benziyor. Eğer integral 1 çıkarsa onun olasılıksal dağılım olduğunu biliyoruz. Üstteki sonuç <span class="math inline">\(\sqrt{\pi}\)</span>, fakat iki tarafı <span class="math inline">\(\sqrt{\pi}\)</span>'ye bölersek, sağ taraf 1 olur ve böylece solda bir dağılım elde ederiz. Yani</p>
<p><span class="math display">\[ \int_{-\infty}^{+\infty} \frac{1}{\sqrt{\pi}} e^{-x^2} \mathrm{d} x = 1\]</span></p>
<p>formülünde entegralin sağındaki kısım bir dağılımdır. Bu formülü dönüştürerek Gaussian'a erişebiliriz. Üstteki formülün orta noktası (mean) sıfır, varyansı (variance), yani <span class="math inline">\(\sigma^2 = 1/2\)</span> (bunu da ezberlemek lazım ama o kadar dert değil). O zaman <span class="math inline">\(\sigma = 1 / \sqrt{2}\)</span>.</p>
<p>İlk amacımız <span class="math inline">\(\sigma = 1\)</span>'e erişmek olsun (çünkü oradan herhangi bir <span class="math inline">\(\sigma\)</span>'ya atlayabiliriz), bunun için <span class="math inline">\(x\)</span>'i <span class="math inline">\(\sqrt{2}\)</span>'e bölmek lazım, tabii aynı anda onun etkisini sıfırlamak için normalize eden sabiti dengelemek amacıyla <span class="math inline">\(\sqrt{2}\)</span>'ye bölmek lazım,</p>
<p><span class="math display">\[
= \int_{-\infty}^{+\infty}
\frac{1}{\sqrt{2\pi}} e^{-(\frac{x}{\sqrt{2}})^2}\mathrm{d} x
\]</span></p>
<p><span class="math inline">\(\sigma = 1\)</span>'e erişince oradan herhangi bir <span class="math inline">\(\sigma\)</span> için, <span class="math inline">\(\sigma\)</span> değişkenine bölelim, yine hem <span class="math inline">\(e\)</span> üstüne hem sabite bu eki yapalım,</p>
<p><span class="math display">\[ = \int_{-\infty}^{+\infty} 
\frac{1}{\sigma \sqrt{2\pi}} 
e^{-(\frac{x}{\sqrt{2} \sigma })^2} dx
\]</span></p>
<p>Şimdi herhangi bir ortalama <span class="math inline">\(\mu\)</span> için bu değişkeni formüle sokalım, bunun için <span class="math inline">\(\mu\)</span>'yu <span class="math inline">\(x\)</span>'den çıkarmak yeterli</p>
<p><span class="math display">\[ = \int_{-\infty}^{+\infty} 
\frac{1}{\sigma \sqrt{2\pi}} 
e^{-(\frac{x-\mu}{\sqrt{2} \sigma })^2} dx
\]</span></p>
<p><span class="math inline">\(e\)</span> üstündeki kare alma işlemini açarsak,</p>
<p><span class="math display">\[ = \int_{-\infty}^{+\infty} 
\frac{1}{\sigma \sqrt{2\pi}} 
e^{-  \frac{(x-\mu)^2}{2 \sigma^2 }} dx
\]</span></p>
<p>Böylece integral içindeki kısım tek boyutlu Gaussian formuna erişmiş oluyor.</p>
<p>Gamma Dağılımı</p>
<p><span class="math inline">\(Y\)</span> rasgele değişkeninin, verilmiş <span class="math inline">\(r&gt;0\)</span> ve <span class="math inline">\(\lambda &gt; 0\)</span> üzerinden Gamma yoğunluk fonksiyonuna sahip olduğu söylenir, eğer bu fonksiyon</p>
<p><span class="math display">\[ f_{\gamma} =  \frac{\lambda^r}{\Gamma(r)}y^{r-1}e^{\lambda y}\]</span></p>
<p><span class="math display">\[ y&gt;0  \]</span></p>
<p>Peki <span class="math inline">\(\Gamma\)</span> sembolü nerede geliyor? Bu bir fonksiyondur; Herhangi bir <span class="math inline">\(r&gt;0\)</span> için Gamma fonksiyonu <span class="math inline">\(\Gamma(r)\)</span> şu şekilde gösterilir,</p>
<p><span class="math display">\[ \Gamma(r) = \int_{0}^{\infty}y^{r-1}e^{-y} \mathrm{d} y \]</span></p>
<p>olarak tanımlı ise.</p>
<p>Eğer <span class="math inline">\(Y\)</span> Gamma olarak dağılmış ise, beklenti <span class="math inline">\(E(Y) = r/\lambda\)</span>, ve <span class="math inline">\(Var(Y) = r/\lambda^2\)</span>.</p>
<p>İki Değişkenli Dağılımlar</p>
<p>Tanim</p>
<p>Sürekli ortamda <span class="math inline">\((X,Y)\)</span> rasgele değişkenleri için yoğunluk fonksiyonu <span class="math inline">\(f(x,y)\)</span> tanımlanabilir eğer i) <span class="math inline">\(f(x,y) &gt; 0, \forall (x,y)\)</span> ise, ve ıı) <span class="math inline">\(\int_{  -\infty}^{\infty} \int_{ -\infty}^{\infty} f(x,y) \mathrm{d} x \mathrm{d} y = 1\)</span> ise ve her küme <span class="math inline">\(A \subset \mathbb{R} \times \mathbb{R}\)</span> için <span class="math inline">\(P((X,Y) \in A) = \int \int_A f(x,y) \mathrm{d} x \mathrm{d} y\)</span>. Hem ayrıksal hem sürekli durumda ortak (joint) CDF <span class="math inline">\(F_{X,Y}(x,y) = P (X \le x, Y \le y)\)</span> diye gösterilir.</p>
<p>Bu tanımda <span class="math inline">\(A\)</span> kümesi olarak tanımlanan kavram uygulamalarda bir olaya (event) tekabül eder. Mesela</p>
<p>Örnek</p>
<p><span class="math inline">\((X,Y)\)</span>'in birim kare üzerinde birörnek (uniform) olsun. O zaman</p>
<p><span class="math display">\[ 
f(x,y) =
\left\{ \begin{array}{ll}
1 &amp; \textit{ eğer }  0 \le x \le 1, 0 \le y \le 1  \textit{ ise }\\
0 &amp; \textit{ diğer durumlarda }
\end{array} \right.
\]</span></p>
<p><span class="math inline">\(P(X &lt; 1/2, Y &lt; 1/2)\)</span>'yi bul.</p>
<p>Cevap</p>
<p>Burada verilen <span class="math inline">\(A = \{ X &lt; 1/2, Y &lt; 1/2\}\)</span> bir altkümedir ve bir olaydır. Olayları böyle tanımlamamış mıydık? Örneklem uzayının bir altkümesi olay değil midir? O zaman <span class="math inline">\(f\)</span>'i verilen altküme üzerinden entegre edersek, sonuca ulaşmış oluruz.</p>
<p>Örnek</p>
<p>Eğer dağılım kare olmayan bir bölge üzerinden tanımlıysa hesaplar biraz daha zorlaşabilir. <span class="math inline">\((X,Y)\)</span> yoğunluğu</p>
<p><span class="math display">\[ 
f(x,y) = 
\left\{ \begin{array}{ll}
cx^2y &amp; \textrm{eğer } x^2 \le y \le 1 \\
0 &amp; \textrm{diğer}
\end{array} \right.
\]</span></p>
<p>Niye <span class="math inline">\(c\)</span> bilinmiyor? Belki problemin modellemesi sırasında bu bilinmez olarak ortaya çıkmıştır. Olabilir. Bu değeri hesaplayabiliriz, çünkü <span class="math inline">\(f(x,y)\)</span> yoğunluk olmalı, ve yoğunluk olmanın şartı <span class="math inline">\(f(x,y)\)</span> entegre edilince sonucun 1 olması.</p>
<p>Önce bir ek bilgi üretelim, eğer <span class="math inline">\(x^2 \le 1\)</span> ise, o zaman <span class="math inline">\(-1 \le x \le 1\)</span> demektir. Bu lazım çünkü entegrale sınır değeri olarak verilecek.</p>
<p><span class="math display">\[ 1 = \int  \int f(x,y) \mathrm{d} y \mathrm{d} x = c \int_{ -1}^{1} \int_{ x^2}^{1}x^2y  \]</span></p>
<p><span class="math display">\[
=  c \int_{ -1}^{1} x^2 \int_{ x^2}^{1} y \mathrm{d} y \mathrm{d} x = 
\int_{ -1}^{1} x^2 (\frac{ 1}{2} - \frac{ x^4}{2} ) \mathrm{d} x = 1
\]</span></p>
<p><span class="math display">\[ = c \int_{ -1}^{1} x^2 (\frac{ 1 - x^4}{2} ) \mathrm{d} x = 1 \]</span></p>
<p><span class="math display">\[ = \frac{ c}{2} \int_{ -1}^{1} x^2 - x^6 \mathrm{d} x  = 1\]</span></p>
<p>Devam edersek <span class="math inline">\(c = 21/4\)</span> buluruz.</p>
<p>Şimdi, diyelim ki bizden <span class="math inline">\(P(X \ge Y)\)</span>'yi hesaplamamız isteniyor. Bu hangi <span class="math inline">\(A\)</span> bölgesine tekabül eder? Elimizdekiler</p>
<p><span class="math display">\[ -1 \le x \le 1, \  x^2 \le y, \ y \le 1   \]</span></p>
<p>Şimdi bunlara bir de <span class="math inline">\(y \le x\)</span> eklememiz lazım. Yani ortadaki eşitsizliğe bir öğe daha eklenir.</p>
<p><span class="math display">\[ -1 \le x \le 1 \]</span></p>
<p><span class="math display">\[  x^2 \le y \le x \]</span></p>
<p><span class="math display">\[  y \le 1   \]</span></p>
<p><span class="math inline">\(x^2 \le y\)</span>'yi hayal etmek için <span class="math inline">\(x^2 = y\)</span>'yi düşünelim, bu bir parabol olarak çizilebilir, ve parabolun üstünde kalanlar otomatik olarak <span class="math inline">\(x^2 \le y\)</span> olur, bu temel irdelemelerden biri.</p>
<div class="figure">
<img src="stat_intro_07.png" />

</div>
<p>Aynı şekilde <span class="math inline">\(y \le x\)</span> için <span class="math inline">\(y = x\)</span>'i düşünelim, ki bu 45 derece açıyla çizilmiş düz bir çizgi. Çizginin altı <span class="math inline">\(y \le x\)</span> olur. Bu iki bölgenin kesişimi yukarıdaki resimdeki gölgeli kısım.</p>
<p>Ek bir bölge şartı <span class="math inline">\(0 \le x \le 1\)</span>. Bu şart resimde bariz görülüyor, ama cebirsel olarak bakarsak <span class="math inline">\(y \ge x^2\)</span> olduğunu biliyoruz, o zaman <span class="math inline">\(y \ge 0\)</span> çünkü <span class="math inline">\(x^2\)</span> muhakkak bir pozitif sayı olmalı. Diğer yandan <span class="math inline">\(x \ge y\)</span> verilmiş, tüm bunları yanyana koyarsak <span class="math inline">\(x \ge 0\)</span> şartı ortaya çıkar.</p>
<p>Artık <span class="math inline">\(P(X \ge Y)\)</span> hesabı için hazırız,</p>
<p><span class="math display">\[
P(X \ge Y) = 
\frac{ 21}{4} \int_{ 0}^{1} \int_{ x^2}^{x} x^2y \mathrm{d} y \mathrm{d} x = 
\frac{ 21}{4} \int_{ 0}^{1} x^2 \bigg[ \int_{ x^2}^{x} y \mathrm{d} y \bigg] \mathrm{d} x 
\]</span></p>
<p><span class="math display">\[ = \frac{21}{4} \int_{ 0}^{1} x^2 \frac{ x^2 - x^4}{2} \mathrm{d} x = \frac{3}{20} \]</span></p>
<p>&quot;Hafızasız'' Dağılım, Üstel (Exponential) Dağılım</p>
<p>Üstel dağılımın hafızasız olduğu söylenir. Bunun ne anlama geldiğini anlatmaya uğraşalım. Diyelim ki rasgele değişken <span class="math inline">\(X\)</span> bir aletin ömrünü temsil ediyor, yani bir <span class="math inline">\(p(x)\)</span> fonksiyonuna bir zaman &quot;sorduğumuz'' zaman bize döndürülen olasılık, o aletin <span class="math inline">\(x\)</span> zamanı kadar daha işlemesinin olasılığı. Eğer <span class="math inline">\(p(2) = 0.2\)</span> ise, aletin 2 yıl daha yaşamasının olasılığı 0.2.</p>
<p>Bu hafızasızlığı, olasılık matematiği ile nasıl temsil ederiz?</p>
<p><span class="math display">\[ P( X&gt;s+t \ | X&gt;t ) =  P(X&gt;s) , \ \forall s, \ t \ge 0 \]</span></p>
<p>Yani öyle bir dağılım var ki elimizde, <span class="math inline">\(X&gt;t\)</span> bilgisi veriliyor, ama (kalan) zamanı hala <span class="math inline">\(P(X&gt;s)\)</span> olasılığı veriyor. Yani <span class="math inline">\(t\)</span> kadar zaman geçtiği bilgisi hiçbir şeyi değiştirmiyor. Ne kadar zaman geçmiş olursa olsun, direk <span class="math inline">\(s\)</span> ile gidip aynı olasılık hesabını yapıyoruz.</p>
<p>Şartsal (conditional) formülünü uygularsak üstteki şöyle olur</p>
<p><span class="math display">\[  \frac{P( X&gt;s+t,  X&gt;t )}{P(X&gt;t)} = P(X&gt;s)  \]</span></p>
<p>ya da</p>
<p><span class="math display">\[  P( X&gt;s+t,  X&gt;t ) = P(X&gt;s)P(X&gt;t) \]</span></p>
<p>Bu son denklemin tatmin olması için <span class="math inline">\(X\)</span> ne şekilde dağılmış olmalıdır? Üstteki denklem sadece <span class="math inline">\(X\)</span> dağılım fonksiyonu üstel (exponential) olursa mümkündür, çünkü sadece o zaman</p>
<p><span class="math display">\[ e^{-\lambda(s+t)}  = e^{-\lambda s} e^{-\lambda t}\]</span></p>
<p>gibi bir ilişki kurulabilir.</p>
<p>Örnek</p>
<p>Diyelim ki bir bankadaki bekleme zamanı ortalama 10 dakika ve üstel olarak dağılmış. Bir müşterinin i) bu bankada 15 dakika beklemesinin ihtimali nedir? ıı) Bu müşterinin 10 dakika bekledikten sonra toplam olarak 15 dakika (ya da daha fazla) beklemesinin olasılığı nedir?</p>
<p>Cevap</p>
<ol style="list-style-type: lower-roman">
<li>Eğer <span class="math inline">\(X\)</span> müşterinin bankada beklediği zamanı temsil ediyorsa</li>
</ol>
<p><span class="math display">\[ P(X&gt;15) = e^{-15 \cdot 1/10} = e^{-3/2} \approx 0.223 \]</span></p>
<p>ıı) Sorunun bu kısmı müşteri 10 dakika geçirdikten sonra 5 dakika daha geçirmesinin olasılığını soruyor. Fakat üstel dağılım &quot;hafızasız'' olduğu için kalan zamanı alıp yine direk aynı fonksiyona geçiyoruz,</p>
<p><span class="math display">\[ P(X&gt;5&gt; = e^{-5 \cdot 1/10} = e^{-1/2} \approx 0.60\]</span></p>
<p>Kısmi (Marginal) Dağılımlar</p>
<p>Sürekli rasgele değişkenler için kısmı yoğunluk</p>
<p><span class="math display">\[ f_X(x) = \int f(x,y) \mathrm{d} x \]</span></p>
<p>ve</p>
<p><span class="math display">\[ f_Y(y) = \int f(x,y) \mathrm{d} y \]</span></p>
<p>Üstteki integraller gerçek bir dağılım fonksiyonu <span class="math inline">\(f(x,y)\)</span> verilince alt ve üst limit te tanımlamak zorundadır. Çünkü kısmı yoğunluk için bir veya daha fazla değişkeni &quot;integralle dışarı atmak (integrate out)'' ettiğimiz söylenir, eğer ayrıksal (discrete) ortamda olsaydık bu atılan değişkenin tüm değerlerini göze alarak toplama yapan bir formül yazardık. Sürekli ortamda integral kullanıyoruz, ama tüm değerlerin üzerinden yine bir şekilde geçmemiz gerekiyor. İşte alt ve üst limitler bunu gerçekleştiriyor. Bu alt ve üst limitler, atılan değişkenin &quot;tüm değerlerine'' bakması gerektiği için <span class="math inline">\(-\infty,+\infty\)</span> olmalıdır. Eğer problem içinde değişkenin belli değerler arasında olduğu belirtilmiş ise (mesela alttaki örnekte <span class="math inline">\(x&gt;0\)</span>) o zaman entegral limitleri alt ve üst sınırını buna göre değiştirebilir.</p>
<p>Örnek</p>
<p><span class="math inline">\(f_{X,Y}(x,y) = e^{ -(x+y)}\)</span>, olsun ki <span class="math inline">\(x,y \ge 0\)</span>. O zaman <span class="math inline">\(f_X(x)\)</span></p>
<p><span class="math display">\[
f_X(x) = e^{ -x} \int_{ 0}^{\infty} e^{ -y} \mathrm{d} y = e^{ -x}  \cdot 1  = e^{-x} 
\]</span></p>
<p>Örnek</p>
<p><span class="math display">\[ f(x,y) = 
\left\{ \begin{array}{ll}
x+y &amp; \textrm{eğer } 0 \le x \le 1, 0 \le y \le 1 \\
0 &amp; \textrm{diğer}
\end{array} \right.
\]</span></p>
<p><span class="math display">\[
f_Y(y) = \int_{0}^{1}(x+y) \mathrm{d} x = 
\int_{0}^{1}x \mathrm{d} x + \int_{0}^{1}y \mathrm{d} x  = 
\frac{ 1}{2} + y 
\qquad (1)
\]</span></p>
<p>Tanım</p>
<p>İki rasgele değişken <span class="math inline">\(A,B\)</span> bağımsızdır eğer tüm <span class="math inline">\(A,B\)</span> değerleri için</p>
<p><span class="math display">\[ P(X \in A, Y \in B) = P(X \in A)P(Y \in B) \]</span></p>
<p>eşitliği doğru ise. Bu durumda <span class="math inline">\(X \amalg Y\)</span> yazılır.</p>
<p>Teori</p>
<p><span class="math inline">\(X,Y\)</span>'nin birleşik PDF'i <span class="math inline">\(f_{X,Y}\)</span> olsun. O zaman ve sadece <span class="math inline">\(f_{X,Y}(x,y) = f_X(x)f_Y(y)\)</span> ise <span class="math inline">\(X \amalg Y\)</span> doğrudur.</p>
<p>Örnek</p>
<p>Diyelim ki <span class="math inline">\(X,Y\)</span> bağımsız, ve ikisinin de aynı yoğunluğu var.</p>
<p><span class="math display">\[ f(x) = 
\left\{ \begin{array}{ll}
2x &amp; \textrm{eğer } 0 \le x \le 1 \\
0 &amp; \textrm{diğerleri}
\end{array} \right.
\]</span></p>
<p><span class="math inline">\(P(X+Y &lt; 1)\)</span>'i hesaplayın.</p>
<p>Cevap</p>
<p>Bağımsızlığı kullanarak birleşik dağılımı hesaplayabiliriz</p>
<p><span class="math display">\[ f(x,y) = f_X(x)f_Y(y) = 
\left\{ \begin{array}{ll}
4xy &amp; \textrm{eğer } 0 \le x \le 1, 0 \le y \le 1 \\
0 &amp; \textrm{diğerleri}
\end{array} \right.
\]</span></p>
<p>Şimdi bu birleşik yoğunluk üzerinden istediğimiz bölgeyi hesaplarız, bölgeyi tanımlayan <span class="math inline">\(X+Y \le 1\)</span> ifadesi.</p>
<p><span class="math display">\[
P(X+Y \le 1) = \int \int_{x+y \le 1} f(x,y) \mathrm{d} y \mathrm{d} x
\]</span></p>
<p>Entegralin limitinin üstteki hali sembolik, hesap için bu yeterli değil, eğer <span class="math inline">\(x+y \le 1\)</span> ise, <span class="math inline">\(y \le 1-x\)</span> demektir, ve bölge <span class="math inline">\(y = 1-x\)</span> çizgisinin altı olarak kabul edilebilir. <span class="math inline">\(x,y\)</span> zaten sıfırdan büyük olmalı, yani sola doğru yatık çizginin altı ve <span class="math inline">\(y,x\)</span> eksenlerinin üstü kısmını oluşturan bir üçgen,</p>
<p><span class="math display">\[ =
\int_{ 0}^{1} \int_{ 0}^{1-x} 4yx \mathrm{d} y \mathrm{d} x = 
4 \int \int_{ 0}^{1} x \bigg[ \int_{ 0}^{1-x} y \mathrm{d} y \bigg] \mathrm{d} x
\]</span></p>
<p>Numaraya dikkat, hangi değişken üzerinden entegral aldığımıza bakarak, onun haricindekileri sabit kabul ederek bu &quot;sabitleri'' entegral dışına atıyoruz, böylece işimizi kolaylaştırıyoruz. Hesabı tamamlarsak,</p>
<p><span class="math display">\[
4 \int_{ 0}^{1} x \frac{ (1- x)^2}{2} \mathrm{d} x = \frac{1}{6}
\]</span></p>
<p>Çok Değişkenli (Multivariate) Dağılımlar ve IID Örneklemler (Samples)</p>
<p><span class="math inline">\(X = (X_1,...,X_n)\)</span> olsun, ki <span class="math inline">\((X_1,...,X_n)\)</span>'lerin herbiri bir rasgele değişken, o zaman <span class="math inline">\(X\)</span>'e rasgele vektör (random vector) ismi verilir. <span class="math inline">\(f(x_1,...,x_n)\)</span>'in PDF'i temsil ettiğini düşünelim. Bu PDF'i baz alarak aynen iki değişkenli (bivariate) örneklerde olduğu gibi, benzer tekniklerle kısmi olan, koşullu dağılımları, vs. hesaplamak mümkündür.</p>
<p>Çok Değişkenli Normal</p>
<p>Tek değişkenli Normal dağılımın iki parametresi vardı, <span class="math inline">\(\mu,\sigma\)</span>. Çok değişkenli formda <span class="math inline">\(\mu\)</span> bir vektör, <span class="math inline">\(\sigma\)</span> yerine ise <span class="math inline">\(\Sigma\)</span> matrisi var. Önce rasgele değişkeni tanımlayalım,</p>
<p><span class="math display">\[ Z = 
\left[\begin{array}{r} Z_1 \\ \vdots \\ Z_k \end{array}\right]
\]</span></p>
<p>ki <span class="math inline">\(Z_1,...,Z_k \sim N(0,1)\)</span>. <span class="math inline">\(Z\)</span>'nin yoğunluğu</p>
<p><span class="math display">\[ f(z) = \prod_{ i=1}^{k}f(z_i) = 
\frac{ 1}{(2\pi)^{k/2}} \exp 
\bigg\{  -\frac{ 1}{2}\sum_{ j=1}^{k}z_j^2 \bigg\}
\]</span></p>
<p><span class="math display">\[ =
\frac{ 1}{(2\pi)^{k/2}} \exp 
\bigg\{  -\frac{ 1}{2}z^Tz \bigg\}
\]</span></p>
<p>Bu durumda <span class="math inline">\(Z\)</span>'nin <em>standart</em> çok değişkenli Normal dağılıma sahip olduğu söylenir, ve <span class="math inline">\(Z \sim N(0,I)\)</span> olarak gösterilir. Buradaki <span class="math inline">\(0\)</span> değeri içinde <span class="math inline">\(k\)</span> tane sıfır olan bir vektör olarak, <span class="math inline">\(I\)</span> ise <span class="math inline">\(k \times k\)</span> birim (identity) matrisi olarak anlaşılmalıdır.</p>
<p>Daha genel olarak bir vektör <span class="math inline">\(X\)</span>'in çok değişkenli Normal dağılımına sahip olduğunu söyleriz, ve bunu <span class="math inline">\(X \sim N(\mu,\Sigma)\)</span> olarak gösteririz, eğer dağılımın yoğunluğu</p>
<p><span class="math display">\[
f(x;\mu,\Sigma) = 
\frac{ 1}{(2\pi)^{k/2} \det(\Sigma)^{1/2}} \exp 
\bigg\{ 
-\frac{ 1}{2}(x-\mu)^T\Sigma^{-1}(x-\mu)
\bigg\}
\]</span></p>
<p>ki <span class="math inline">\(k\)</span> yine veri noktalarının boyutudur, 2 boyutlu bir Gaussian için <span class="math inline">\(k=2\)</span>. <span class="math inline">\(\Sigma\)</span> kesin artı (positive definite) bir matristir. Hatırlayalım, bir matris artı kesindir eğer tüm sıfır olmayan <span class="math inline">\(x\)</span> vektörleri için <span class="math inline">\(x^T\Sigma x &gt; 0\)</span> ise.</p>
<p>Not: Karekök kavramı tek sayılardan matrislere de aktarılabilir. Bir matris <span class="math inline">\(B\)</span>'nin <span class="math inline">\(A\)</span>'nin karekökü olduğu söylenir, eğer <span class="math inline">\(B \cdot B = A\)</span> ise.</p>
<p>Devam edersek, eğer <span class="math inline">\(\Sigma\)</span> artı kesin ise bir <span class="math inline">\(\Sigma^{1/2}\)</span> matrisini olduğu gösterilebilir, ki bu matrise <span class="math inline">\(\Sigma\)</span>'nin karekökü ismi verilir, ve bu karekökün şu özellikleri vardır, 1) <span class="math inline">\(\Sigma^{1/2}\)</span> simetriktir, 2) <span class="math inline">\(\Sigma = \Sigma^{1/2}\Sigma^{1/2} = I\)</span> ve <span class="math inline">\(\Sigma^{-1/2} = (\Sigma^{1/2})^{-1}\)</span>.</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="im">import</span> numpy.linalg <span class="im">as</span> lin
<span class="kw">def</span> gauss(m,v,x):
    n,d <span class="op">=</span> x.shape
    S <span class="op">=</span> lin.inv(v)
    x <span class="op">=</span> x<span class="op">-</span>m
    y <span class="op">=</span> exp(<span class="op">-</span><span class="fl">0.5</span><span class="op">*</span>np.diag(dot(x,np.dot(S,x.T))))
    <span class="cf">return</span> y <span class="op">*</span> (<span class="dv">2</span><span class="op">*</span>pi)<span class="op">**</span>(<span class="op">-</span>d<span class="op">/</span><span class="fl">2.0</span>) <span class="op">/</span> ( np.sqrt(lin.det(v)) <span class="op">+</span> <span class="fl">1e-6</span>)

x <span class="op">=</span> np.array( [[<span class="fl">1.</span>,<span class="fl">1.</span>]] )
v <span class="op">=</span> np.array( [[<span class="fl">2.</span>,<span class="dv">0</span>],[<span class="dv">0</span>,<span class="fl">2.</span>]] )
m <span class="op">=</span> np.array([<span class="fl">1.</span>,<span class="fl">1.</span>])
<span class="bu">print</span> gauss(m, v, x)</code></pre></div>
<pre><code>[ 0.07957743]</code></pre>
<p>Maksimum olurluk ile elde edilen eldeki <span class="math inline">\(n\)</span> veri noktası için <span class="math inline">\(\mu,\Sigma\)</span>'nin tahmin edicileri <span class="math inline">\(\hat{\mu},\hat{\Sigma}\)</span>,</p>
<p><span class="math display">\[ \hat{\mu} = \frac{1}{n} \sum_{k=1}^{n} x_k \]</span></p>
<p><span class="math display">\[ \hat{\Sigma} = \frac{1}{n} \sum_{k=1}^{n} (x_k-\hat{\mu}) (x_k-\hat{\mu})^T \]</span></p>
<p>Ortalamanın maksimum olurluk kestirmesi örneklem ortalaması, aynen tek boyutlu durumda olduğu gibi. Kovaryans matrisi <span class="math inline">\(\Sigma\)</span> için tahmin edici <span class="math inline">\((x_k-\hat{\mu}) (x_k-\hat{\mu})^T\)</span>, yani <span class="math inline">\(n\)</span> tane matrisin aritmetik ortalaması [4, sf. 112]. Bunlar gayet akla yatkın sonuçlar.</p>
<p>z-Skorları</p>
<p>Bu değerler bazen kafa karışıklığı yaratabiliyor, çünkü z-değeri, z-''skoru'' gibi kelimeler geçince sanki bu z büyüklükleri bir olasılık değeriymiş gibi bir anlam çıkabiliyor. Bu doğru değil, z değerleri kümülatif fonksiyonlara {} şeyler. Yani <span class="math inline">\(z=0.08\)</span> &quot;skorunun'' olasılığını hesaplamak için <span class="math inline">\(\phi(z) = \int_{0}^{z} p(t) \mathrm{d} t\)</span> ile hesabını yapmak lazım. Bir diğer karışıklık sebebi mesela <span class="math inline">\(z_{0.05} = -1.64\)</span> gibi bir ifade. Burada z-skoru <span class="math inline">\(-1.64\)</span> değeridir, <span class="math inline">\(z\)</span> altına yazılan değer bir notasyonel püf noktadır, ve aslında <span class="math inline">\(\phi(z)\)</span> sonucunun ta kendisi, yani <span class="math inline">\(\phi(-1.64) = 0.05\)</span>, bu bazı hesaplar için görmesi kolay olsun diye <span class="math inline">\(z_{0.05}\)</span> olarak yazılıyor.</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="im">from</span> scipy.stats.distributions <span class="im">import</span> norm
<span class="bu">print</span> norm.cdf(<span class="op">-</span><span class="fl">1.64</span>)</code></pre></div>
<pre><code>0.0505025834741</code></pre>
<p>Bu yüzden, <span class="math inline">\(P(z_1 &lt; Z &lt; z_2)\)</span> gibi bir ifadede mesela, <span class="math inline">\(Z\)</span>'nin iki tarafındaki her iki değer birer z-değeri, olasılık değerleri değil. Olasılık değeri <span class="math inline">\(P(\cdot)\)</span> hesabı sonucunda elde edilecek.</p>
<p>Tabii z-skorları ile ona bağlı olasılık değeri arasında birebir bağlantı var, fakat z-değerinin &quot;kendisi'' olasılık değeri değildir.</p>
<p>Rasgele Değişkenler, Yoğunluklar</p>
<p>Şimdi konuların üzerinden bir daha geçelim; rasgele değişken, <span class="math inline">\(X,Y\)</span> gibi büyük harflerle gösterilen büyüklükler &quot;bir zar atış sonucu içleri doldurulan'' değişkenlerdir. Bu zar atışı her zaman <span class="math inline">\(X\)</span>'in, <span class="math inline">\(Y\)</span>'nin bağlı olduğu dağılıma göre olacaktır. Eğer <span class="math inline">\(X \sim N(10,2)\)</span> ise, bir formülün / hesabın içinde <span class="math inline">\(X\)</span> gördüğümüz zaman çoğunlukla o noktaya 10'a yakın değerler olacağını biliriz. Tabii ki &quot;kesin'' her zaman ne olacağını bilmeyiz, zaten bir modelde noktasal değer (tipik cebirsel değişkenler) yerine rasgele değişken kullanmanın sebeplerinden biri budur.</p>
<p>Rasgele değişkenlerin matematiksel formüllerde kullanılması <span class="math inline">\(C = X + Y\)</span> şeklinde olabilir mesela. O zaman elde edilen yeni değişken de bir rasgele değişken olur. Bu tür formüller envai şekle girebilir, hatta rasgele değişken içeren formüllerin türevi bile alınabiliyor, tabii bunun için özel bir Calculus gerekli, İto'nun Calculus'y bu tür işlerle uğraşıyor.</p>
<p>Elimizde şunlar var; olasılık fonksiyonu bir matematiksel denklem, öne değerler geçiyoruz, ve bu değerlerin olasılıklarını gayet direk, mekanik bir formülden cevap olarak alıyoruz. Rasgele değişkenler ise bu yoğunluk fonksiyonlarını bir anlamda &quot;tersten işletiyor'', o dağılıma &quot;zar attırıyor'' (hatta Simulasyon denen bir derste tam da bu öğretiliyor, yani yoğunluklara yarı-rasgele sayılar üzerinden zar attırmak!), ve kümülatif olasılık fonksiyonuna geçilen değerler bu sefer dışarı çıkıyor. Tabii yoğunluğun ne olduğuna göre bazı değerler daha çok, bazıları daha az çıkıyor. Hesapsal olarak bir rasgele değişkene / dağılıma zar attırmak için özel kodlamalar, yarı-rasgele sayı üretimi gereklidir, biz kavramsal ve cebirsel olarak onların neyi temsil ettiğinden bahsediyoruz.</p>
<p>İki kavramdan daha bahsetmek bu noktada faydalı. 1) Nüfus (Population) 2) Örneklem (Sample). Nüfus, üzerinde istatistiksel analiz yaptığımız kitlenin tamamı. Eğer insanların boyları hakkında istatistiki analiz yapıyor olsaydık tüm insanlar nüfus olurdu. Nüfusun bazen hangi dağılımda olduğu bilinmiyor olabilir, biliniyor olsa da bazen bu dağılımın parametreleri bilinmiyor olabilir. Örneklem, nüfus içinden alınan rasgele ölçümlere verilen isimdir, <span class="math inline">\(X_1,..,X_n\)</span> olarak gösterilebiliyor, bu durumda nüfusun dağılımının &quot;zar attığı'' ve her zar atışının rasgele değişkenlerden birinin içini doldurduğu düşünebilir. Örneklem nüfustan geldiği için dağılımının aynen nüfus gibi olduğu kabul edilir. Bu bağlantıdan yola çıkılarak birçok istatistiki analiz yapmak mümkündür.</p>
<p>İlginç iki teori daha, hatta bu teoriler İstatistiğin belkemiğini oluşturur, Büyük Sayılar Kanunu ve Merkezi Limit Teorisi. Diyelim ki <span class="math inline">\(X_1,X_2,...,X_n\)</span> bir nüfustan gelen örneklem, ve her veri noktası bağımsız ve dağılımı aynı (nüfus gibi), bu durumda basit ortalama <span class="math inline">\(\bar{X} = (X_1+X_2+...+X_n) / n \to \mu\)</span> olur, yani basit ortalama nüfus ortalamasına yaklaşır! Burada ne söylendiğine iyi dikkat, hakkında <em>hiçbir şey</em> bilmediğimiz nüfusun <span class="math inline">\(\mu\)</span>'şu hakkında bir analiz yapabiliyoruz.</p>
<p>Merkezi Limit Teorisi biraz daha detay ekler, <span class="math inline">\(\bar{X} = (X_1+X_2+...+X_n) / n\)</span> ortalaması <span class="math inline">\(\mu\)</span> standart sapması <span class="math inline">\(\sqrt{\sigma} / n\)</span> olan bir Normal dağılıma yaklaşır. Bu teoriler, özellikle ikincisi kullanılarak örneklem (eldeki ufak veri) ve büyük nüfus arasında bağlantı kurulabilir o tam bilinemeyen gerçek durum hakkında eldeki örnek verisi ile bir çok analiz yapmak mümkün olur.</p>
<p>Kaynaklar</p>
<p>[1] Wikipedia, <em>Confidence interval</em>, <a href="http://en.wikipedia.org/wiki/Confidence_interval" class="uri">http://en.wikipedia.org/wiki/Confidence_interval</a></p>
<p>[2] Janert, <em>Data Analysis with Open Source Tools</em></p>
<p>[3] Bayramlı, <em>Çok Değişkenli Calculus Ders 18</em></p>
<p>[4] Duda, Hart, <em>Pattern Clasification</em></p>
<p>[5] Bayramlı, <em>Büyük Sayılar, Veri, Parametre Tahmin Ediciler (Estimators)</em></p>
<p>
  <a href="..">Yukarı</a>
</p>
</body>
</html>
