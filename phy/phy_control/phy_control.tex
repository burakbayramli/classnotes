\documentclass[12pt,fleqn]{article}\usepackage{../../common}
\begin{document}
Kontrol Teorisi

Önceki derste gayrý-lineer dinamikten bahsettik, faz grafiklerine baktýk,
çekim bölgesine (basýn of attraction) baktýk, sabit noktalara baktýk..
Kontrol konusuna hafifçe dokunduk ve bu konuya iþaret ederken onu bir takým
matris denklemlerinin manipülasyonu olarak deðil, faz grafikleriyle
alakalandýrmaya uðraþtým, öyle ki kontrol demek bu faz grafiklerini
deðiþtirmek, onlarý hareket ettirmek demek oluyordu, sistemi kendi
istediðiniz noktaya kanalize etmek için grafiði (sistemi) tekrar
þekillendirmiþ, eðip, bükmüþ oluyorduk. Tabii biraz eðmekten bahsediyoruz,
bu derste çok fazla eðme bükme yapmýyoruz [1]. 

Ýlk bakacaðýmýz örnek çift entegratör, $\ddot{q} = u$. Bu örnekte herþeyi
analitik olarak yapabilirim. Bu denklemin fiziksel karþýlýðýný düþünmek
istersek, buz üzerinde duran birim kütlede bir tuðla düþünebiliriz. Tuðlaya
uygulanan kontrol kuvveti $F = u$, sürtünme yok. 

\includegraphics[width=10em]{phy_control_01.png}

[Dikkat hem kordinat üzerinde hem de konumsal deðiþken olarak $x$
kullanýlmýþ, karýþýklýk olmasýn] 

Bu çift entegratör ile yapmak istediðimiz onu orijin noktasýna ve sýfýr
hýza getirmek. Bariz olmayabilir ama bunu yapmanýn pek çok yolu var ve
bizim amacýmýz bu iþi yaparken bir tür optimallik kriterine uyarak onu
yapmak. Derslerimizin geri kalan tümünde optimallik kriteri bizim için bir
tür hesapsal baston görevini görecek.

Ýlk önce kutup yerleþtirme (pole placement) analiziyle baþlamak
istiyorum. Sistemi durum uzay (state space) formatýnda yazalým. Durum için
çoðunlukla $x$, kordinat için $q$ kullanýlýr, altta solda görülüyor. Altta
saðda durum uzay dinamiðidir, genel bir sistemi tarif ediyor,

$$ 
x = \left[\begin{array}{c} q \\ \dot{q}  \end{array}\right] \quad
\dot{x} = A x + Bu
$$

O zaman üstteki en basit sistemi tarif etmek için

$$ 
\dot{x} = \left[\begin{array}{rr}
0 & 1 \\ 0 & 0
\end{array}\right] x + 
\left[\begin{array}{c} 0 \\ 1 \end{array}\right] u
$$

Verili $A,B$ ile açýlýmý yapýnca çift entegratör sistemýný elde ettiðimizi
göreceðiz.

Amacýmýz $u$'yu bulmaktý deðil mi, tuðla üzerinde etki eden öyle bir
kontrol eylemi $u = \pi(x)$ bulalým ki sistemi sýfýr noktasýna
getirsin. Yani amacýmýz bir geri besleme kanunu $\pi$ bulmak ($\pi$
sembolünü $x$'in fonksiyonu olan kontrol ilkeleri için kullanýyorum). Þu
formdaki $u$'lar ile baþlayabiliriz; $u = -K x$.  $K$ bir matris, $x$
alýnýyor ve $-K$ ile ölçekleniyor. Bu örnekte $K$ matrisi 1x2 boyutunda,
$\left[\begin{array}{cc} k_1 & k_2 \end{array}\right]$,

$$ 
-K x = 
\left[\begin{array}{cc} k_1 & k_2 \end{array}\right] 
\cdot
\left[\begin{array}{cc} q \\ \dot{q} \end{array}\right] =
-k_1 q - k_2 \dot{q}
$$

Bazýlarýmýz bir formu orantýlý türevsel kontrolör olarak tanýyacaktýr. 

Þimdi $K$'yi deðiþtirince sistemime ne olacak diye düþünüyorum, bu hesap
lineer sistemlerde kolay, $u = -Kx$'i denkleme geri sokarsam 

$$ 
\dot{x} = (A - BK)x = \left[\begin{array}{rr}
0 & 1 \\ -k_1 & -k_2
\end{array}\right] x
$$

elde ederim. Diferansiyel denklemler dersi alanlar üstteki denklemi nasýl
çözeceðimizi bilir, çözüm sistemin özdeðerlerini kullanýr, üstteki matrisin
özdeðerlerini hesaplarýz, sonra özvektörler $v_1,v_2$'yi buluruz,

$$ 
\lambda_{1,2} = \frac{-k_2 \pm \sqrt{k_2^2 - 4 k_1}}{2}, \quad
v_1 = \left[\begin{array}{r}
1 \\ \lambda_1
\end{array}\right], \quad 
v_2 = \left[\begin{array}{r}
1 \\ \lambda_2
\end{array}\right]
$$

Peki sistemin stabil olmasý için özdeðelerin belli deðerlerde olmasý
gerekiyor deðil mi? Ýkisinin de negatif olmasý. Sistemde salýným olup
olmadýðýný merak ediyoruz, bu durum kompleks özdeðerler varsa olur, ki bu
durum üstteki karekök içinde eksi deðer varsa ortaya çýkar, onun olmasý
için de $4 k_1$ deðeri $k_2^2$ olmalý. 

Biz salýným istemiyoruz, $4 k_1 > k_2^2$, bu durumda sistem aþýrý sönümlu,
$4 k_1 = k_2^2$ ise kritik sönümlu, $4 k_1 < k_2^2$ ise eksik sönümlu,
ayrýca stabilite için $\lambda_{1,2} < 0$ olmalý.

Bu sonuçlarý faz grafiklerine baðlayalým; özdeðer ayrýþtýrmasý yapmamýzýn
bir diðer sebebi sistemi çok güzel grafiksel þekilde yorumlamamýza izin
vermesi. Spesifik bir duruma bakalým, $k_1 = 1$, ve aþýrý sönümlu bir
sistem için $k_2$ en az 2 olmalý, onu $k_2 = 4$ yapayým. Özdeðerler bu
durumda  

$$
\lambda_{1,2} =  \frac{-4 \pm \sqrt{16-4}}{2} =
-2 \pm 3 
$$

$$
\lambda_1 = 0.25, \lambda_2 = -3.75
$$
 
Þimdi durum uzay grafiðini çizebilirim, $q,\dot{q}$ kordinat sisteminde,
ilk önce $-0.25$ eðiminde $v_1$ bir çizgisi çizerim,  sonra kabaca $-4$
eðiminde bir çizgi daha çizerim, $v_2$. Sonumlu sistemdeyiz, bu yüzden
çizgilerdeki oklar dýþarýdan içeri doðru. 

\includegraphics[width=20em]{phy_control_02.png}

Bu arada anlatým açýsýndan, ve birkaç tane grafik çizmemek için aþýrý
sönümlü sistem seçtim, böylece tekrarlanan özdeðer çýkmadý, yani salýným
olmadý. Ama aþýrý sönümlü sistem konuyu irdelemek için yine de iyi çünkü
tekrarlanan özdeðer olmayýnca özvektörler uzayý kapsar (span). Ya da, her
baþlangýç konumu iki özvektörün lineer kombinasyonu olarak yazýlabilir.

$$
x(0) = \alpha_1 v_1 + \alpha_2 v_2
$$

gibi, ki $\alpha_{1,2}$ bir kombinasyonu oluþturacak herhangi iki
sabit. Nihai sistem ise 

$$ 
x(t) = \alpha_1 e^{\lambda_1 t}v_1  + \alpha_1 e^{\lambda_2 t} v_2
$$

Lineer sistemlerin güzel tarafý bu. Bu demektir ki özvektörleri
grafiklediðim zaman sistemýn tüm faz grafiðini biliyorum. Mesela altta
görülen baþlangýçtan $v_2$ çok hýzlý, $v_1$ biraz daha az hýzda bizi sýfýra
götürecek, bu ikisinin birleþimi sonucunda alttaki gibi bir gidiþ yolu
takip edilecektir.

\includegraphics[width=20em]{phy_control_03.png}

Kontrol konusuna gelelim. $k_1,k_2$'yi deðiþtirebiliyoruz, ve bu
parametreleri deðiþtirmek demek faz portresini deðiþtirmek demektir deðil
mi? Onlarý öyle deðiþtirmeliyim ki sistem istediðim þeyi yapsýn. Bu
deðiþimi, o deðiþimi yaratacak $k$'leri nasýl ortaya
çýkartmalýyým. Optimalliðe girmeden önce mesela $k_2^2$ $4k_1$'ten büyük
olduðu sürece salýnýma girmeyeceðimi biliyorum, bu iyi. O zaman niye
$k_{1,2}$'yi sonsuza çýkartmýyorum, hemen kut diye sonuç ulasayým? Bu baþka
problemler çýkartabilir, biriniz fazla enerji diyor, doðru. $k_{1,2}$
olmasa ne olurdu? O zaman $\dot{x} = Ax$ kalýr sadece bu sistem sadece
direk grafikte saða doðru gider. 

Biz bu basit sistemde optimal geri beslemeli kontrol hesaplayacaðýz. 

Katý bir kýsýtlama ekleyelim, $|u| < 1$, $u$'nun mutlak deðeri 1'den küçük
olsun. Bu pek çok þeyi deðiþtirir, biraz önceki lineer sistem analizim ise
yaramaz hale gelir mesela. Formülize ederken 

$$ 
u = sat(-Kx)
$$

diyebilirim, $sat$ ifadesi Ýngilizce satüration'dan (doygunluk) geliyor, -1
altý için -1, +1 üstü için +1 yapýyorum. Üstte görülen gidiþ yollarý hala
hafiften geçerli, hala orijine gideriz, ama yol biraz daha uzayabilir çünkü
kut diye inebilmek yerine daha ufak artýþlarla gitmek zorundayýz, ve hala
stabilliði kaybetmiyoruz. Ama katý kýsýtlýlýklarý iyi ayarlamam gerekiyor
ki yol da çok uzamasýn. 

Bu ayari yapmanin bir yolu optmal kontrol. Tek yolu degil muhakkak, bir
yolu. 











[devam edecek]

Kaynaklar 

[1] Tedrake, {\em MIT, 6.832 Underactuated Robotics}, \url{https://www.youtube.com/channel/UChfUOAhz7ynELF-s_1LPpWg/videos}

\end{document}













