<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
  </style>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML-full" type="text/javascript"></script>
  
  
  
  
</head>
<body>
<h1 id="materyel-mekaniği---11">Materyel Mekaniği - 11</h1>
<p>Üç boyutta herhangi bir yönde olabilecek bir kiriş öğesinin direngenlik matrisini bu bölümde geliştirelim [2, sf. 281]. Literatürde bu yapılara uzay çerçeveleri (space frame) denebiliyor. Bunu yapabilmek için daha önce gördüğümüz eksenel, iki boyutlu kiriş, burulma direngenlik matrislerini birleştireceğiz.</p>
<p>İki boyuttaki kirişin mekaniği alttaki gibiydi [1],</p>
<div class="figure">
<img src="phy_020_strs_11_02.jpg" />

</div>
<div class="figure">
<img src="phy_020_strs_11_03.jpg" />

</div>
<p>Şimdi işaretler alttaki gibi olacak,</p>
<div class="figure">
<img src="phy_020_strs_11_01.jpg" />

</div>
<p>İki boyutlu kiriş matrisini [1] iki kez kullanacağız, ilki <span class="math inline">\(x-z\)</span> düzlemi icin, ikincisi <span class="math inline">\(x-y\)</span> düzlemi için,</p>
<p><span class="math inline">\(x-z\)</span> düzlemi</p>
<p><span class="math display">\[
\frac{EI_y}{L^4}
\left[\begin{array}{cccc}
12L &amp; -6L  &amp; -12L &amp; -6L^2 \\
    &amp; 4L^3 &amp; 6L^2 &amp; 2L^3  \\
    &amp;      &amp; 12L  &amp; 6L^2  \\
    &amp;      &amp;      &amp; 4L^3
\end{array}\right]
\qquad (1)
\]</span></p>
<p><span class="math inline">\(x-y\)</span> düzlemi</p>
<p><span class="math display">\[
\frac{EI_y}{L^4}
\left[\begin{array}{cccc}
12L &amp; 6L  &amp; -12L &amp; 6L^2 \\
    &amp; 4L^3 &amp; -6L^2 &amp; 2L^3  \\
    &amp;      &amp; 12L  &amp; -6L^2  \\
    &amp;      &amp;      &amp; 4L^3
\end{array}\right]
\qquad (2)
\]</span></p>
<p>Dikkat edersek <span class="math inline">\(x-y\)</span> düzleminin matrisi [1] matrisi ile aynı. <span class="math inline">\(x-z\)</span> düzlemi matrisinin bazı işaretleri farklı, bunun sebebi düzlemdeki bükülmenin sağ el kuralına göre farklı yönleri gösterebilmesi. Mesela [1]'deki</p>
<p><span class="math display">\[
m_1 = -m = -EI \frac{\mathrm{d}^2 v(0)}{\mathrm{d} x^2} =
\frac{EI}{L^3} ( 6L v_1 + 4L^2 \phi_1 - 6L v_2 + 2 L^2 \phi_2 )
\]</span></p>
<p>formülünü hatırlarsak, o formülde bir uçta <span class="math inline">\(m\)</span> diğer üçta <span class="math inline">\(-m\)</span> vardı, fakat üstteki figürde <span class="math inline">\(x-z\)</span> düzlemindeki iki uçtaki <span class="math inline">\(m\)</span> değerleri aynı işarettedir, sağ el kuralını düşünürsek <span class="math inline">\(x-z\)</span>'deki bükülme 1 noktasında kağıttan bize doğru gösteriyor, 2 noktasında aynı şekilde. O zaman üstteki formüldeki işaretler değişir,</p>
<p><span class="math display">\[
\Rightarrow \frac{EI}{L^3} ( -6L v_1 - 4L^2 \phi_1 + 6L v_2 - 2 L^2 \phi_2 )
\]</span></p>
<p>Bir değişim daha açılarda, üstteki formülde <span class="math inline">\(\phi_1,\phi_2\)</span> olan acılar, üç boyuttaki üstteki şekilde bunlar <span class="math inline">\(\phi_{1y}\)</span> ve <span class="math inline">\(\phi_{2y}\)</span>. Bu açılar iki boyutlu durumun aksine artı yönde tam ters işaretli, tersi yönde bir yer değişim <span class="math inline">\(v_1,v_2\)</span>'ye sebep oluyorlarlar, bu yüzden o işaretler de tersine dönüyor, notasyonu da düzeltince,</p>
<p><span class="math display">\[
\Rightarrow \frac{EI}{L^3} ( -6L v_1 + 4L^2 \phi_{1y} + 6L v_2 + 2 L^2 \phi_{2y} )
\]</span></p>
<p>Böylece matrisin ikinci satırında <span class="math inline">\(-6,+4,+6,+2\)</span> katsayılarını elde ediyoruz. Bu işaretlerin (1) matrisinin ikinci satırıyla aynı olduğunu görebiliriz, diğer satırlar benzer şekilde değiştiriliyorlar.</p>
<p>Üstdüşüm (Superposition)</p>
<p>Artık bahsedilen matrisleri birleştirebiliriz. Bu üstdüşümü <code>sympy</code> ile otomatik olarak yapacağız, daha önce sayısal değerler için kullandığımız <code>expand_dataframe</code> kodu yine kullanılabilecek, çünkü kod bir <code>pandas</code> Dataframe'i baz alıyor, bu Dataframe içinde herhangi bir obje depolamak mümkün, oraya sayılar yerine <code>sympy</code> sembolik matematik objeleri koyabiliriz. Bir bonus ta elde ediyoruz, toplama işlemi <code>sympy</code> tipleri için önceden tanımlıdır, yani eğer üstdüşüm sırasında çakışma olursa, sembolik objeler birbiriyle toplanacaktır!</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="im">from</span> sympy <span class="im">import</span> symbols, pprint, latex
<span class="im">from</span> sympy.matrices <span class="im">import</span> Matrix
<span class="im">import</span> pandas <span class="im">as</span> pd, pickle
pd.set_option(<span class="st">&#39;display.max_columns&#39;</span>, <span class="va">None</span>)

all_vars <span class="op">=</span> [<span class="st">&#39;u1&#39;</span>,<span class="st">&#39;v1&#39;</span>,<span class="st">&#39;w1&#39;</span>,<span class="st">&#39;phi1x&#39;</span>,<span class="st">&#39;phi1y&#39;</span>,<span class="st">&#39;phi1z&#39;</span>,<span class="op">\</span>
            <span class="st">&#39;u2&#39;</span>,<span class="st">&#39;v2&#39;</span>,<span class="st">&#39;w2&#39;</span>,<span class="st">&#39;phi2x&#39;</span>,<span class="st">&#39;phi2y&#39;</span>,<span class="st">&#39;phi2z&#39;</span>]
A,G,J,E,L,Iy,Iz <span class="op">=</span> symbols(<span class="st">&quot;A,G,J,E,L,Iy,Iz&quot;</span>)</code></pre></div>
<p>Önce üstte bahsedilen iki düzlemi alalım,</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="co"># x-z</span>
vars1 <span class="op">=</span> [<span class="st">&#39;w1&#39;</span>,<span class="st">&#39;phi1y&#39;</span>,<span class="st">&#39;w2&#39;</span>,<span class="st">&#39;phi2y&#39;</span>]
M1 <span class="op">=</span> pd.DataFrame([[<span class="dv">12</span><span class="op">*</span>L, <span class="dv">-6</span><span class="op">*</span>L<span class="op">**</span><span class="dv">2</span>,<span class="op">-</span><span class="dv">12</span><span class="op">*</span>L,<span class="op">-</span><span class="dv">6</span><span class="op">*</span>L<span class="op">**</span><span class="dv">2</span>],
                  [<span class="op">-</span><span class="dv">6</span><span class="op">*</span>L<span class="op">**</span><span class="dv">2</span>,<span class="dv">4</span><span class="op">*</span>L<span class="op">**</span><span class="dv">3</span>,<span class="dv">6</span><span class="op">*</span>L<span class="op">**</span><span class="dv">2</span>,<span class="dv">2</span><span class="op">*</span>L<span class="op">**</span><span class="dv">3</span>],
                  [<span class="op">-</span><span class="dv">12</span><span class="op">*</span>L,<span class="dv">6</span><span class="op">*</span>L<span class="op">**</span><span class="dv">2</span>,<span class="dv">12</span><span class="op">*</span>L,<span class="dv">6</span><span class="op">*</span>L<span class="op">**</span><span class="dv">2</span>],
                  [<span class="op">-</span><span class="dv">6</span><span class="op">*</span>L<span class="op">**</span><span class="dv">2</span>,<span class="dv">2</span><span class="op">*</span>L<span class="op">**</span><span class="dv">3</span>,<span class="dv">6</span><span class="op">*</span>L<span class="op">**</span><span class="dv">2</span>,<span class="dv">4</span><span class="op">*</span>L<span class="op">**</span><span class="dv">3</span>]],index<span class="op">=</span>vars1)
M1.columns <span class="op">=</span> vars1
M1 <span class="op">=</span> M1 <span class="op">*</span> (E<span class="op">*</span>Iy<span class="op">/</span>L<span class="op">**</span><span class="dv">4</span> )
<span class="co"># x-y</span>
vars2 <span class="op">=</span> [<span class="st">&#39;v1&#39;</span>,<span class="st">&#39;phi1z&#39;</span>,<span class="st">&#39;v2&#39;</span>,<span class="st">&#39;phi2z&#39;</span>]
M2 <span class="op">=</span> pd.DataFrame([[<span class="dv">12</span><span class="op">*</span>L, <span class="dv">6</span><span class="op">*</span>L<span class="op">**</span><span class="dv">2</span>,<span class="op">-</span><span class="dv">12</span><span class="op">*</span>L,<span class="dv">6</span><span class="op">*</span>L<span class="op">**</span><span class="dv">2</span>],
                  [<span class="dv">6</span><span class="op">*</span>L<span class="op">**</span><span class="dv">2</span>,<span class="dv">4</span><span class="op">*</span>L<span class="op">**</span><span class="dv">3</span>,<span class="op">-</span><span class="dv">6</span><span class="op">*</span>L<span class="op">**</span><span class="dv">2</span>,<span class="dv">2</span><span class="op">*</span>L<span class="op">**</span><span class="dv">3</span>],
                  [<span class="op">-</span><span class="dv">12</span><span class="op">*</span>L,<span class="op">-</span><span class="dv">6</span><span class="op">*</span>L<span class="op">**</span><span class="dv">2</span>,<span class="dv">12</span><span class="op">*</span>L,<span class="op">-</span><span class="dv">6</span><span class="op">*</span>L<span class="op">**</span><span class="dv">2</span>],
                  [<span class="dv">6</span><span class="op">*</span>L<span class="op">**</span><span class="dv">2</span>,<span class="dv">2</span><span class="op">*</span>L<span class="op">**</span><span class="dv">3</span>,<span class="op">-</span><span class="dv">6</span><span class="op">*</span>L<span class="op">**</span><span class="dv">2</span>,<span class="dv">4</span><span class="op">*</span>L<span class="op">**</span><span class="dv">3</span>]],index<span class="op">=</span>vars2)
M2.columns <span class="op">=</span> vars2
M2 <span class="op">=</span> M2 <span class="op">*</span> (E<span class="op">*</span>Iz<span class="op">/</span>L<span class="op">**</span><span class="dv">4</span> )</code></pre></div>
<p>Şimdi [1]'deki eksenel yükleri tanımlayan makaskiriş direngenlik matrisini alalım,</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="co"># Eksenel Yuk</span>
vars3 <span class="op">=</span> [<span class="st">&#39;u1&#39;</span>,<span class="st">&#39;u2&#39;</span>]
M3 <span class="op">=</span> pd.DataFrame([[<span class="dv">1</span>,<span class="op">-</span><span class="dv">1</span>],[<span class="op">-</span><span class="dv">1</span>,<span class="dv">1</span>]],index<span class="op">=</span>vars3)
M3.columns <span class="op">=</span> vars3
M3 <span class="op">=</span> M3 <span class="op">*</span> (A<span class="op">*</span>E<span class="op">/</span>L)</code></pre></div>
<p>[4]'te tanımladığımız burulma mekaniğinin matrisini belirtelim,</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="co"># Burulma (Torsion)</span>
vars4 <span class="op">=</span> [<span class="st">&#39;phi1x&#39;</span>,<span class="st">&#39;phi2x&#39;</span>]
M4 <span class="op">=</span> pd.DataFrame([[<span class="dv">1</span>,<span class="op">-</span><span class="dv">1</span>],[<span class="op">-</span><span class="dv">1</span>,<span class="dv">1</span>]],index<span class="op">=</span>vars3)
M4.columns <span class="op">=</span> vars4
M4 <span class="op">=</span> M4 <span class="op">*</span> (G<span class="op">*</span>J<span class="op">/</span>L)</code></pre></div>
<p>Hepsini üstdüşüm ile birleştirelim,</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="im">import</span> sys<span class="op">;</span> sys.path.append(<span class="st">&#39;../phy_020_strs_08&#39;</span>)
<span class="im">import</span> dfutil

M1f <span class="op">=</span> dfutil.expand_dataframe(M1,all_vars)
M2f <span class="op">=</span> dfutil.expand_dataframe(M2,all_vars)
M3f <span class="op">=</span> dfutil.expand_dataframe(M3,all_vars)
M4f <span class="op">=</span> dfutil.expand_dataframe(M4,all_vars)
Mall <span class="op">=</span> Matrix(M1f <span class="op">+</span> M2f <span class="op">+</span> M3f <span class="op">+</span> M4f)
pickle.dump(Mall,<span class="bu">open</span>(<span class="st">&quot;Mall.pkl&quot;</span>,<span class="st">&quot;wb&quot;</span>)) <span class="co"># dosyaya yaz ileride lazim olacak</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="bu">print</span> (latex(Mall)[:<span class="dv">100</span>],<span class="st">&#39;...&#39;</span>)</code></pre></div>
<pre><code>\left[\begin{array}{cccccccccccc}\frac{A E}{L} &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; - \frac{A E}{L} &amp; 0 ...</code></pre>
<p><span class="math display">\[
\left[\begin{array}{cccccccccccc}\frac{A E}{L} &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; - \frac{A E}{L} &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0\\0 &amp; \frac{12 E Iz}{L^{3}} &amp; 0 &amp; 0 &amp; 0 &amp; \frac{6 E Iz}{L^{2}} &amp; 0 &amp; - \frac{12 E Iz}{L^{3}} &amp; 0 &amp; 0 &amp; 0 &amp; \frac{6 E Iz}{L^{2}}\\0 &amp; 0 &amp; \frac{12 E Iy}{L^{3}} &amp; 0 &amp; - \frac{6 E Iy}{L^{2}} &amp; 0 &amp; 0 &amp; 0 &amp; - \frac{12 E Iy}{L^{3}} &amp; 0 &amp; - \frac{6 E Iy}{L^{2}} &amp; 0\\0 &amp; 0 &amp; 0 &amp; \frac{G J}{L} &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; - \frac{G J}{L} &amp; 0 &amp; 0\\0 &amp; 0 &amp; - \frac{6 E Iy}{L^{2}} &amp; 0 &amp; \frac{4 E Iy}{L} &amp; 0 &amp; 0 &amp; 0 &amp; \frac{6 E Iy}{L^{2}} &amp; 0 &amp; \frac{2 E Iy}{L} &amp; 0\\0 &amp; \frac{6 E Iz}{L^{2}} &amp; 0 &amp; 0 &amp; 0 &amp; \frac{4 E Iz}{L} &amp; 0 &amp; - \frac{6 E Iz}{L^{2}} &amp; 0 &amp; 0 &amp; 0 &amp; \frac{2 E Iz}{L}\\- \frac{A E}{L} &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; \frac{A E}{L} &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0\\0 &amp; - \frac{12 E Iz}{L^{3}} &amp; 0 &amp; 0 &amp; 0 &amp; - \frac{6 E Iz}{L^{2}} &amp; 0 &amp; \frac{12 E Iz}{L^{3}} &amp; 0 &amp; 0 &amp; 0 &amp; - \frac{6 E Iz}{L^{2}}\\0 &amp; 0 &amp; - \frac{12 E Iy}{L^{3}} &amp; 0 &amp; \frac{6 E Iy}{L^{2}} &amp; 0 &amp; 0 &amp; 0 &amp; \frac{12 E Iy}{L^{3}} &amp; 0 &amp; \frac{6 E Iy}{L^{2}} &amp; 0\\0 &amp; 0 &amp; 0 &amp; - \frac{G J}{L} &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; \frac{G J}{L} &amp; 0 &amp; 0\\0 &amp; 0 &amp; - \frac{6 E Iy}{L^{2}} &amp; 0 &amp; \frac{2 E Iy}{L} &amp; 0 &amp; 0 &amp; 0 &amp; \frac{6 E Iy}{L^{2}} &amp; 0 &amp; \frac{4 E Iy}{L} &amp; 0\\0 &amp; \frac{6 E Iz}{L^{2}} &amp; 0 &amp; 0 &amp; 0 &amp; \frac{2 E Iz}{L} &amp; 0 &amp; - \frac{6 E Iz}{L^{2}} &amp; 0 &amp; 0 &amp; 0 &amp; \frac{4 E Iz}{L}\end{array}\right]
\]</span></p>
<p>Bu matrisin [2, sf. 282]'deki matris ile aynı olduğunu göreceğiz.</p>
<p>Döndürme işlemine geldik, döndürme için bir <span class="math inline">\(T\)</span> matrisi gerekiyor ki daha önce olduğu gibi bir <span class="math inline">\(T^T k&#39; T\)</span> işlemini yapabilelim. Bu <span class="math inline">\(T\)</span> matrisi içinde dört tane 3x3 boyutunda <span class="math inline">\(\lambda\)</span> matris bloğu olacak, <span class="math inline">\(T\)</span> köşegeni üzerinde tekrarlanacaklar, ki böylece her değişken bloğu çarpılabilsin / döndürülebilsin. Bu bloklar <span class="math inline">\((u_1,v_1,w_1)\)</span>, <span class="math inline">\((\phi_{1x},\phi_{1y},\phi_{1z})\)</span>, <span class="math inline">\((u_2,v_2,w_2)\)</span>, <span class="math inline">\((\phi_{2x},\phi_{2y},\phi_{2z})\)</span> [2, sf. 282].</p>
<p><span class="math display">\[
T = \left[\begin{array}{cccc}
[\lambda] &amp;  &amp; &amp; \\
 &amp; [\lambda] &amp; &amp; \\
 &amp; &amp; [\lambda] &amp; \\
 &amp; &amp; &amp; [\lambda]
\end{array}\right]
\]</span></p>
<p>Her <span class="math inline">\(\lambda\)</span> matrisi &quot;yön kosinüsleri'' denen değerleri içeriyor olacak, bu kavramın detayları için bkz [6, sf. 73], [5, sf. 224], özet olarak tarif etmek gerekirse bir vektörün ya da yeni kordinat sisteminin yeni ekseninin, referans bir diğer ekseni ile olan açısının kosinüsü olarak görebiliriz.</p>
<div class="figure">
<img src="phy_020_strs_11_04.jpg" />

</div>
<p>Eğer eksen değişimi, transformasyonunu hesaplıyorsak <span class="math inline">\(y\)</span> ekseninin yeni <span class="math inline">\(x&#39;\)</span> ekseni ile oluşturduğu açı <span class="math inline">\(\cos_{yx&#39;}\)</span> olarak gösterilebilir, ya da kısaca <span class="math inline">\(C_{yx&#39;}\)</span>, tüm bu kombinasyonlar için elde edilen açılar bir matris içinde <span class="math inline">\(\lambda\)</span>'da yer alır,</p>
<p><span class="math display">\[
\lambda = \left[\begin{array}{ccc}
C_{xx&#39;} &amp; C_{yx&#39;} &amp; C_{zx&#39;} \\
C_{xy&#39;} &amp; C_{yy&#39;} &amp; C_{zy&#39;} \\
C_{xz&#39;} &amp; C_{yz&#39;} &amp; C_{zz&#39;} 
\end{array}\right]
\]</span></p>
<p>Sonlu Öğeler (Finite Element) bu hesap şu şekilde uygulanır, FEM problemlerinde genellikle yapılan bir kiriş parçası transform edilmiş <span class="math inline">\(x&#39;\)</span> ekseni kabul edilir, ve geri kalan <span class="math inline">\(\lambda\)</span> değerleri buna göre doldurulur. Bu durumda kirişin uç ve baş noktasını kullanarak <span class="math inline">\(x&#39;\)</span> ile oluşan açıları şöyle bulabiliriz,</p>
<p><span class="math display">\[
\cos_{xx&#39;} = \frac{x_2 - x_1}{L} = l
\]</span></p>
<p><span class="math display">\[
\cos_{yx&#39;} = \frac{y_2 - y_1}{L} = m
\]</span></p>
<p><span class="math display">\[
\cos_{zx&#39;} = \frac{z_2 - z_1}{L} = n
\]</span></p>
<p>ki kirişin son noktası <span class="math inline">\(x_2,y_2,z_2\)</span>, baş noktası <span class="math inline">\(x_1,y_1,z_1\)</span>, uzunluk <span class="math inline">\(L\)</span>.</p>
<p>Kiriş bazlı yeni eksen oluştururken bir kez <span class="math inline">\(x&#39;\)</span> elde ettikten sonra diğer eksenleri ona göre bulabiliriz, diğer herhangi bir vektörle oluşturulan düzleme dik olan yeni bir vektörü <span class="math inline">\(y&#39;\)</span> için kullanabilirdik mesela, [2]'de yapılan <span class="math inline">\(x&#39;\)</span> ile <span class="math inline">\(z\)</span> ekseninin çapraz çarpımını almaktır. Bilindiği gibi iki vektöre dikgen üçüncü bir vektör çapraz çarpım ile hesaplanır, böylece <span class="math inline">\(x&#39;\)</span> eksenine dikgen bir <span class="math inline">\(y&#39;\)</span> elde etmiş oluruz, sonra <span class="math inline">\(x&#39;\)</span> ile <span class="math inline">\(y&#39;\)</span> ekseninin bir çapraz çarpımı daha alınarak her iki eksene dikgen üçüncü eksen <span class="math inline">\(z&#39;\)</span> bulunabilir. Bu hesapla elde edilen <span class="math inline">\(x&#39;,y&#39;,z&#39;\)</span> bir kordinat ekseninin sahip olması gerekli tüm koşulları yerine getiriyor.</p>
<p>Biraz önceki semboller üzerinde görelim, <span class="math inline">\(i,j,k\)</span> birim vektörler, notasyonda genellikle <span class="math inline">\(\mathbf{i},\mathbf{j},\mathbf{k}\)</span> olarak gösterilirler.</p>
<p><span class="math display">\[
z \times x&#39; = y&#39; = \frac{1}{D}
\left[\begin{array}{ccc}
i &amp; j &amp; k \\ 0 &amp; 0 &amp; 1 \\ l &amp; m &amp; n
\end{array}\right]
\]</span></p>
<p><span class="math display">\[
y&#39; = - \frac{m}{D} i + \frac{l}{D} j
\]</span></p>
<p><span class="math display">\[
D = (l^2 + m^2)^{1/2}
\]</span></p>
<p>Simdi <span class="math inline">\(z&#39;\)</span> ekseni,</p>
<p><span class="math display">\[
z&#39; = x&#39; \times y&#39; = \frac{1}{D}
\left[\begin{array}{ccc}
i &amp; j &amp; k \\ l &amp; m &amp; n \\ -m &amp; l &amp; 0
\end{array}\right]
\]</span></p>
<p><span class="math display">\[
z&#39; = -\frac{ln}{D} i - \frac{mn}{D} j + D k 
\]</span></p>
<p>Sonuçları bir araya koyarsak,</p>
<p><span class="math display">\[
\lambda = \left[\begin{array}{ccc}
l &amp; m &amp; n \\
-\dfrac{m}{D} &amp; \dfrac{l}{D} &amp; 0 \\
-\dfrac{ln}{D} &amp; -\dfrac{mn}{D} &amp; D
\end{array}\right]
\]</span></p>
<p>Üstteki matris bir vektörü yerel kordinat sisteminden global kordinat sistemine çevirebilir. <span class="math inline">\(T\)</span> içinde üstteki matrisleri kullanırız, ve <span class="math inline">\(T^T k&#39; T\)</span> hesabını yaparız.</p>
<p>Problem 5.7</p>
<div class="figure">
<img src="phy_020_strs_11_05.jpg" />

</div>
<p>Üstteki şekil için gereken <span class="math inline">\(\lambda\)</span> matrisini bulun [2, sf. 285].</p>
<p>Çözüm</p>
<p>Önce kiriş uzunluğunu bulalım.</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">np.sqrt(<span class="dv">3</span><span class="op">**</span><span class="dv">2</span> <span class="op">+</span> <span class="dv">4</span><span class="op">**</span><span class="dv">2</span> <span class="op">+</span> <span class="dv">12</span><span class="op">**</span><span class="dv">2</span>)</code></pre></div>
<pre><code>Out[1]: 13.0</code></pre>
<p>Şimdi uzunluğu kullanarak <span class="math inline">\(x&#39;\)</span> eksenini bulalım, daha önce bahsedildiği gibi bu eksenin çubuğun bir ucundan başlayıp onunla aynı yönü gösterdiği kabul edilir. Bu değerlere <span class="math inline">\(l_x,l_y,l_z\)</span> diyelim, <span class="math inline">\(\lambda\)</span> matrisinin ilk satırı bu değerler,</p>
<p><span class="math display">\[
l_x = \frac{x_2 - x_1}{L} = \frac{3 = 0}{13} = \frac{3}{13}
\]</span></p>
<p><span class="math display">\[
m_x = \frac{y_2 - y_1}{L} = \frac{4-0}{13} = \frac{4}{13}
\]</span></p>
<p><span class="math display">\[
n_x = \frac{z_2 - z_1}{L} = \frac{12 = 0}{13} = \frac{12}{13}
\]</span></p>
<p>Şimdi <span class="math inline">\(D\)</span> hesabını yapabiliriz,</p>
<p><span class="math display">\[
D = (l_x^2 + m_x^2)^{1/2} =
\left[
  \left(\frac{3}{13}\right)^2 +
  \left(\frac{4}{13}\right)^2
\right]^{1/2} = \frac{5}{13}
\]</span></p>
<p><span class="math inline">\(y&#39;\)</span> eksenini hesaplamak için</p>
<p><span class="math display">\[
l_y = -\frac{m}{D} = -\frac{4}{5}
\]</span></p>
<p><span class="math display">\[
m_y = \frac{l}{D} = \frac{3}{5}
\]</span></p>
<p><span class="math display">\[
n_y = 0
\]</span></p>
<p><span class="math inline">\(z&#39;\)</span> ekseni</p>
<p><span class="math display">\[
l_z = -\frac{l_x n_x}{D} =
\frac{-\frac{3}{13} \frac{12}{13}}{\frac{5}{13}} =
- \frac{36}{65}
\]</span></p>
<p><span class="math display">\[
m_z =
-\frac{m_x n_x}{D} =
\frac{-\frac{4}{13} \frac{12}{13}}{\frac{5}{13}} =
-\frac{48}{65}
\]</span></p>
<p><span class="math display">\[
n_z = D = \frac{5}{13}
\]</span></p>
<p>Tek bir matriste üstteki tüm değerleri gösterelim,</p>
<p><span class="math display">\[
\lambda = \left[\begin{array}{ccc}
\frac{3}{13} &amp; \frac{4}{13} &amp; \frac{12}{13} \\
-\frac{4}{5} &amp; \frac{3}{5} &amp; 0 \\
-\frac{36}{65} &amp; -\frac{48}{65} &amp; \frac{5}{13}
\end{array}\right]
\]</span></p>
<p>Problem 5.8</p>
<p>Alttaki uzay çerçevesindeki düğüm 1 noktasındaki yer değişimlerini ve dönüşleri hesaplayın. Her üç kiriş parçası için <span class="math inline">\(E=30,000\)</span> ksi, <span class="math inline">\(G=10,000\)</span> ksi, <span class="math inline">\(J = 50\)</span> <span class="math inline">\(in^4\)</span>, <span class="math inline">\(I_y=100\)</span> <span class="math inline">\(in^4\)</span>, <span class="math inline">\(I_z = 100\)</span> <span class="math inline">\(in^4\)</span>, <span class="math inline">\(A=10\)</span> <span class="math inline">\(in^2\)</span>, <span class="math inline">\(L = 100\)</span> in. değerleri geçerlidir [2, sf. 287].</p>
<div class="figure">
<img src="phy_020_strs_11_06.jpg" />

</div>
<p>Çözüm</p>
<p>Üç kiriş parçası uzunluk, madde, yapı açısından birbirlerine eşit olduğu için <span class="math inline">\(k\)</span> matrisini bir kere hesaplamak yeterli.</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="im">from</span> sympy.matrices <span class="im">import</span> Matrix
<span class="im">from</span> sympy <span class="im">import</span> symbols, latex
<span class="im">import</span> pickle, pandas <span class="im">as</span> pd
pd.set_option(<span class="st">&#39;display.max_columns&#39;</span>, <span class="va">None</span>)
<span class="im">import</span> sys<span class="op">;</span> sys.path.append(<span class="st">&#39;../phy_020_strs_08&#39;</span>)
<span class="im">import</span> dfutil

A,G,J,E,L,Iy,Iz <span class="op">=</span> symbols(<span class="st">&quot;A,G,J,E,L,Iy,Iz&quot;</span>)
Mall <span class="op">=</span> pickle.load(<span class="bu">open</span>(<span class="st">&#39;Mall.pkl&#39;</span>,<span class="st">&#39;rb&#39;</span>))

D <span class="op">=</span> {E: <span class="dv">30000</span>, G: <span class="dv">10000</span>, J:<span class="dv">50</span>, Iy:<span class="dv">100</span>, Iz:<span class="dv">100</span>, A:<span class="dv">10</span>, L:<span class="dv">100</span>}
kprime <span class="op">=</span> Mall.subs(D)
<span class="bu">print</span> (latex(kprime)[:<span class="dv">100</span>], <span class="st">&#39;..&#39;</span>)</code></pre></div>
<pre><code>\left[\begin{array}{cccccccccccc}3000 &amp; 0.0 &amp; 0.0 &amp; 0.0 &amp; 0.0 &amp; 0.0 &amp; -3000 &amp; 0.0 &amp; 0.0 &amp; 0.0 &amp; 0.0  ..</code></pre>
<p><span class="math display">\[
{\scriptsize
\left[\begin{array}{cccccccccccc}3000 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; -3000 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0\\0 &amp; 36 &amp; 0 &amp; 0 &amp; 0 &amp; 1800 &amp; 0 &amp; -36 &amp; 0 &amp; 0 &amp; 0 &amp; 1800\\0 &amp; 0 &amp; 36 &amp; 0 &amp; -1800 &amp; 0 &amp; 0 &amp; 0 &amp; -36 &amp; 0 &amp; -1800 &amp; 0\\0 &amp; 0 &amp; 0 &amp; 5000 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; -5000 &amp; 0 &amp; 0\\0 &amp; 0 &amp; -1800 &amp; 0 &amp; 120000 &amp; 0 &amp; 0 &amp; 0 &amp; 1800 &amp; 0 &amp; 60000 &amp; 0\\0 &amp; 1800 &amp; 0 &amp; 0 &amp; 0 &amp; 120000 &amp; 0 &amp; -1800 &amp; 0 &amp; 0 &amp; 0 &amp; 60000\\-3000 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 3000 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0\\0 &amp; -36 &amp; 0 &amp; 0 &amp; 0 &amp; -1800 &amp; 0 &amp; 36 &amp; 0 &amp; 0 &amp; 0 &amp; -1800\\0 &amp; 0 &amp; -36 &amp; 0 &amp; 1800 &amp; 0 &amp; 0 &amp; 0 &amp; 36 &amp; 0 &amp; 1800 &amp; 0\\0 &amp; 0 &amp; 0 &amp; -5000 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 5000 &amp; 0 &amp; 0\\0 &amp; 0 &amp; -1800 &amp; 0 &amp; 60000 &amp; 0 &amp; 0 &amp; 0 &amp; 1800 &amp; 0 &amp; 120000 &amp; 0\\0 &amp; 1800 &amp; 0 &amp; 0 &amp; 0 &amp; 60000 &amp; 0 &amp; -1800 &amp; 0 &amp; 0 &amp; 0 &amp; 120000\end{array}\right]
}
\]</span></p>
<p>Geri kalan her parça için dönüş matrislerini hesaplamak gerekecek. Altta bu hesapları görebiliriz.</p>
<p>Parça 1</p>
<p>Önce parça 1 hesapları yapalım, bu parça düğüm 2 noktasından başlayıp düğüm 1 noktasına gidiyor. O zaman <span class="math inline">\(x&#39;\)</span> ekseni için</p>
<p><span class="math display">\[
l = 1, \quad m = 0, \quad n = 0, \quad D = 1
\]</span></p>
<p>Diğer hesaplar</p>
<p><span class="math display">\[
I_y = -\frac{m_x}{D}, \quad
m_y = \frac{1}{D}, \quad
n_y = 0
\]</span></p>
<p><span class="math display">\[
i_z = -\frac{l_x n_x}{D} = 0, \quad
m_z = -\frac{m_x n_x}{D} = 0, \quad
n_z = D = 1
\]</span></p>
<p>Matris içinde gösterirsek,</p>
<p><span class="math display">\[
\lambda = \left[\begin{array}{ccc}
1 &amp; 0 &amp; 0 \\ 0 &amp; 1 &amp; 0 \\ 0 &amp; 0 &amp; 1
\end{array}\right]
\]</span></p>
<p>Sonuç şaşırtıcı olmasa gerek, çünkü yeni <span class="math inline">\(x\)</span> eski <span class="math inline">\(x\)</span> ile aynı. Bu parça için sanki eksen hiç değişmesin demiş olduk ve sonuç olarak çarpılınca hiçbir değişiklik yaratmayacak birim matrisi elde ettik. Bu matrisi büyük <span class="math inline">\(T\)</span> içinde köşegenlere parça parça yerleştirince yine birim matris elde edilir, yani <span class="math inline">\(T^T k&#39;T\)</span> aynı <span class="math inline">\(k&#39;\)</span> matrisini verir.</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">T_P1 <span class="op">=</span> np.eye(<span class="dv">12</span>,<span class="dv">12</span>)
res1 <span class="op">=</span> np.array(kprime)
vars1 <span class="op">=</span> [<span class="st">&#39;u2&#39;</span>,<span class="st">&#39;v2&#39;</span>,<span class="st">&#39;w2&#39;</span>,<span class="st">&#39;phi2x&#39;</span>,<span class="st">&#39;phi2y&#39;</span>,<span class="st">&#39;phi2z&#39;</span>,<span class="st">&#39;u1&#39;</span>,<span class="st">&#39;v1&#39;</span>,<span class="st">&#39;w1&#39;</span>,<span class="st">&#39;phi1x&#39;</span>,<span class="st">&#39;phi1y&#39;</span>,<span class="st">&#39;phi1z&#39;</span>]
df1 <span class="op">=</span> pd.DataFrame(res1,columns<span class="op">=</span>vars1)</code></pre></div>
<p>Parça 2</p>
<p>Bu parça düğüm 3 noktasıdan düğüm 1 noktasına gidiyor. O zaman <span class="math inline">\(x&#39;\)</span> ekseni global <span class="math inline">\(z\)</span> ekseni ile aynı şey, o zaman ve yine önceki formüllere bakarak,</p>
<p><span class="math display">\[
\lambda = \left[\begin{array}{ccc}
0 &amp; 0 &amp; 1 \\ 0 &amp; 1 &amp; 0 \\ -1 &amp; 0 &amp; 0
\end{array}\right]
\]</span></p>
<p>elde ederiz. <span class="math inline">\(T\)</span> matrisi suna benzer,</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">T_P2 <span class="op">=</span> np.array([
[<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">1</span>, <span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span> ],
[<span class="dv">0</span>, <span class="dv">1</span>,<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span> ],
[<span class="op">-</span><span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>],
[<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>, <span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span> ],
[<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>],
[<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>,<span class="op">-</span><span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>],
[<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>, <span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span> ],
[<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span> ],
[<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="op">-</span><span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>],
[<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>],
[<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span> ],
[<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="op">-</span><span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>]])

res2 <span class="op">=</span> T_P2.transpose()<span class="op">*</span>kprime<span class="op">*</span>T_P2
vars2 <span class="op">=</span> [<span class="st">&#39;u3&#39;</span>,<span class="st">&#39;v3&#39;</span>,<span class="st">&#39;w3&#39;</span>,<span class="st">&#39;phi3x&#39;</span>,<span class="st">&#39;phi3y&#39;</span>,<span class="st">&#39;phi3z&#39;</span>,<span class="st">&#39;u1&#39;</span>,<span class="st">&#39;v1&#39;</span>,<span class="st">&#39;w1&#39;</span>,<span class="st">&#39;phi1x&#39;</span>,<span class="st">&#39;phi1y&#39;</span>,<span class="st">&#39;phi1z&#39;</span>]
df2 <span class="op">=</span> pd.DataFrame(np.array(res2),columns<span class="op">=</span>vars2)
<span class="bu">print</span> (latex(res2)[:<span class="dv">100</span>],<span class="st">&#39;..&#39;</span>)</code></pre></div>
<pre><code>\left[\begin{array}{cccccccccccc}36 &amp; 0 &amp; 0 &amp; 0 &amp; 1800 &amp; 0 &amp; -36 &amp; 0 &amp; 0 &amp; 0 &amp; 1800 &amp; 0\\0 &amp; 36 &amp; 0  ..</code></pre>
<p><span class="math display">\[
\scriptsize
\left[\begin{array}{cccccccccccc}36 &amp; 0 &amp; 0 &amp; 0 &amp; 1800 &amp; 0 &amp; -36 &amp; 0 &amp; 0 &amp; 0 &amp;
    1800 &amp; 0\\0 &amp; 36 &amp; 0 &amp; -1800 &amp; 0 &amp; 0 &amp; 0 &amp; -36 &amp; 0 &amp; -1800 &amp; 0 &amp; 0\\0 &amp; 0 &amp;
    3000 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; -3000 &amp; 0 &amp; 0 &amp; 0\\0 &amp; -1800 &amp; 0 &amp; 120000 &amp; 0 &amp; 0
    &amp; 0 &amp; 1800 &amp; 0 &amp; 60000 &amp; 0 &amp; 0\\1800 &amp; 0 &amp; 0 &amp; 0 &amp; 120000 &amp; 0 &amp; -1800 &amp; 0 &amp;
    0 &amp; 0 &amp; 60000 &amp; 0\\0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 5000 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; -5000\\-36
    &amp; 0 &amp; 0 &amp; 0 &amp; -1800 &amp; 0 &amp; 36 &amp; 0 &amp; 0 &amp; 0 &amp; -1800 &amp; 0\\0 &amp; -36 &amp; 0 &amp; 1800 &amp; 0
    &amp; 0 &amp; 0 &amp; 36 &amp; 0 &amp; 1800 &amp; 0 &amp; 0\\0 &amp; 0 &amp; -3000 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 3000 &amp;
    0 &amp; 0 &amp; 0\\0 &amp; -1800 &amp; 0 &amp; 60000 &amp; 0 &amp; 0 &amp; 0 &amp; 1800 &amp; 0 &amp; 120000 &amp; 0 &amp;
    0\\1800 &amp; 0 &amp; 0 &amp; 0 &amp; 60000 &amp; 0 &amp; -1800 &amp; 0 &amp; 0 &amp; 0 &amp; 120000 &amp; 0\\0 &amp; 0 &amp; 0
    &amp; 0 &amp; 0 &amp; -5000 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 5000\end{array}\right]
\]</span></p>
<p>Parça 3</p>
<p>Bu parça için <span class="math inline">\(x&#39;\)</span> eksenini düğüm 4'ten düğüm 1'e gidiyor şekilde ayarlıyoruz,</p>
<p><span class="math display">\[
l = \frac{0 - 0}{100} = 0, \quad
m = \frac{0 - (-100)}{100} = 1, \quad
n = \frac{0 - 0}{100} = 0
\]</span></p>
<p>Ayrica <span class="math inline">\(D = 1\)</span>.</p>
<p>Simdi <span class="math inline">\(l,m,n\)</span> hesaplanabilir,</p>
<p><span class="math display">\[
l_y = - \frac{m}{D} = -1, \quad
m_y = \frac{L}{D} = 0, \quad
n_y = 0
\]</span></p>
<p><span class="math display">\[
l_z = - \frac{ln}{D} = 0, \quad
m_z = - \frac{mn}{D} = 0, \quad
n_z = D = 1
\]</span></p>
<p>O zaman</p>
<p><span class="math display">\[
[ \lambda ] = \left[\begin{array}{rrr}
0 &amp; 1 &amp; 1 \\ -1 &amp; 0 &amp; 0 \\ 0 &amp; 0 &amp; 1
\end{array}\right]
\]</span></p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">T_P3 <span class="op">=</span> np.array([
[<span class="dv">0</span>, <span class="dv">1</span>,<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span> ],
[<span class="op">-</span><span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span> ],
[<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">1</span>, <span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>],
[<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span> ],
[<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>,<span class="op">-</span><span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>],
[<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>, <span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>],
[<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span> ],
[<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="op">-</span><span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span> ],
[<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>],
[<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>,<span class="dv">0</span>],
[<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="op">-</span><span class="dv">1</span>, <span class="dv">0</span>,<span class="dv">0</span> ],
[<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>,<span class="dv">1</span>]])

res3 <span class="op">=</span> T_P3.transpose()<span class="op">*</span>kprime<span class="op">*</span>T_P3
vars3 <span class="op">=</span> [<span class="st">&#39;u4&#39;</span>,<span class="st">&#39;v4&#39;</span>,<span class="st">&#39;w4&#39;</span>,<span class="st">&#39;phi4x&#39;</span>,<span class="st">&#39;phi4y&#39;</span>,<span class="st">&#39;phi4z&#39;</span>,<span class="st">&#39;u1&#39;</span>,<span class="st">&#39;v1&#39;</span>,<span class="st">&#39;w1&#39;</span>,<span class="st">&#39;phi1x&#39;</span>,<span class="st">&#39;phi1y&#39;</span>,<span class="st">&#39;phi1z&#39;</span>]
df3 <span class="op">=</span> pd.DataFrame(np.array(res3),columns<span class="op">=</span>vars3)
<span class="bu">print</span> (latex(res3)[:<span class="dv">100</span>],<span class="st">&#39;..&#39;</span>)</code></pre></div>
<pre><code>\left[\begin{array}{cccccccccccc}36 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; -1800 &amp; -36 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; -1800\\0 &amp; 3000  ..</code></pre>
<p><span class="math display">\[  
\scriptsize
\left[\begin{array}{cccccccccccc}36 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; -1800 &amp; -36 &amp; 0 &amp; 0 &amp; 0 &amp;
    0 &amp; -1800\\0 &amp; 3000 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; -3000 &amp; 0 &amp; 0 &amp; 0 &amp; 0\\0 &amp; 0 &amp; 36
    &amp; 1800 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; -36 &amp; 1800 &amp; 0 &amp; 0\\0 &amp; 0 &amp; 1800 &amp; 120000 &amp; 0 &amp; 0 &amp;
    0 &amp; 0 &amp; -1800 &amp; 60000 &amp; 0 &amp; 0\\0 &amp; 0 &amp; 0 &amp; 0 &amp; 5000 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp;
    -5000 &amp; 0\\-1800 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 120000 &amp; 1800 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp;
    60000\\-36 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 1800 &amp; 36 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 1800\\0 &amp; -3000 &amp; 0
    &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 3000 &amp; 0 &amp; 0 &amp; 0 &amp; 0\\0 &amp; 0 &amp; -36 &amp; -1800 &amp; 0 &amp; 0 &amp; 0 &amp; 0
    &amp; 36 &amp; -1800 &amp; 0 &amp; 0\\0 &amp; 0 &amp; 1800 &amp; 60000 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; -1800 &amp; 120000
    &amp; 0 &amp; 0\\0 &amp; 0 &amp; 0 &amp; 0 &amp; -5000 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 5000 &amp; 0\\-1800 &amp; 0 &amp; 0
    &amp; 0 &amp; 0 &amp; 60000 &amp; 1800 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 120000\end{array}\right]
\]</span></p>
<p>Tüm parçalar için <span class="math inline">\(T^T k&#39;T\)</span> matrisini elde ettik, artık üstdüşüm ile hepsini toplayıp sınır şartlarını uygulayabiliriz ve ardından yer değişim için çözüm yapabiliriz.</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">all_vars <span class="op">=</span> [<span class="st">&#39;u1&#39;</span>,<span class="st">&#39;v1&#39;</span>,<span class="st">&#39;w1&#39;</span>,<span class="st">&#39;phi1x&#39;</span>,<span class="st">&#39;phi1y&#39;</span>,<span class="st">&#39;phi1z&#39;</span>,<span class="op">\</span>
            <span class="st">&#39;u2&#39;</span>,<span class="st">&#39;v2&#39;</span>,<span class="st">&#39;w2&#39;</span>,<span class="st">&#39;phi2x&#39;</span>,<span class="st">&#39;phi2y&#39;</span>,<span class="st">&#39;phi2z&#39;</span>,<span class="op">\</span>
            <span class="st">&#39;u3&#39;</span>,<span class="st">&#39;v3&#39;</span>,<span class="st">&#39;w3&#39;</span>,<span class="st">&#39;phi3x&#39;</span>,<span class="st">&#39;phi3y&#39;</span>,<span class="st">&#39;phi3z&#39;</span>,<span class="op">\</span>
            <span class="st">&#39;u4&#39;</span>,<span class="st">&#39;v4&#39;</span>,<span class="st">&#39;w4&#39;</span>,<span class="st">&#39;phi4x&#39;</span>,<span class="st">&#39;phi4y&#39;</span>,<span class="st">&#39;phi4z&#39;</span>]
df1f <span class="op">=</span> dfutil.expand_dataframe(df1,all_vars)
df2f <span class="op">=</span> dfutil.expand_dataframe(df2,all_vars)
df3f <span class="op">=</span> dfutil.expand_dataframe(df3,all_vars)
df_super <span class="op">=</span> df1f <span class="op">+</span> df2f <span class="op">+</span> df3f
drop_cols <span class="op">=</span> [<span class="st">&#39;u2&#39;</span>,<span class="st">&#39;v2&#39;</span>,<span class="st">&#39;w2&#39;</span>,<span class="st">&#39;phi2x&#39;</span>,<span class="st">&#39;phi2y&#39;</span>,<span class="st">&#39;phi2z&#39;</span>, <span class="op">\</span>
             <span class="st">&#39;u3&#39;</span>,<span class="st">&#39;v3&#39;</span>,<span class="st">&#39;w3&#39;</span>,<span class="st">&#39;phi3x&#39;</span>,<span class="st">&#39;phi3y&#39;</span>,<span class="st">&#39;phi3z&#39;</span>,<span class="op">\</span>
             <span class="st">&#39;u4&#39;</span>,<span class="st">&#39;v4&#39;</span>,<span class="st">&#39;w4&#39;</span>,<span class="st">&#39;phi4x&#39;</span>,<span class="st">&#39;phi4y&#39;</span>,<span class="st">&#39;phi4z&#39;</span>]
df_super <span class="op">=</span> dfutil.drop_col_row(df_super,drop_cols)
df_super <span class="op">=</span> df_super.applymap(<span class="kw">lambda</span> x: np.<span class="bu">round</span>(np.<span class="bu">float</span>(x),<span class="dv">0</span>))
<span class="bu">print</span> (df_super)</code></pre></div>
<pre><code>           u1      v1      w1     phi1x     phi1y     phi1z
u1     3072.0     0.0     0.0       0.0   -1800.0    1800.0
v1        0.0  3072.0     0.0    1800.0       0.0   -1800.0
w1        0.0     0.0  3072.0   -1800.0    1800.0       0.0
phi1x     0.0  1800.0 -1800.0  245000.0       0.0       0.0
phi1y -1800.0     0.0  1800.0       0.0  245000.0       0.0
phi1z  1800.0 -1800.0     0.0       0.0       0.0  245000.0</code></pre>
<p>Yer değişimlerini kuvvetlerle ilintilendiren denklemi</p>
<p><span class="math display">\[
f = k d
\]</span></p>
<p>olarak görmüştük. Üstdüşüm ile birleştirip sınır şartları ile ufalttığımız matris bize bir global <span class="math inline">\(k\)</span> verdi. Global kuvvetlerin ne olduğunu da problem tanımından biliyoruz, bunlar <span class="math inline">\(F_{1y} = -50\)</span> kips, ve <span class="math inline">\(M_{1x} = -1000\)</span> k-inch. O zaman <span class="math inline">\(f = kd\)</span> sisteminde bilinen <span class="math inline">\(f,k\)</span> ve bilinmeyen <span class="math inline">\(d\)</span> için lineer cebirin tanıdık çözüm işlemini uygulayabiliriz.</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="im">import</span> numpy.linalg <span class="im">as</span> lin
d <span class="op">=</span> lin.solve(df_super,np.array([[<span class="dv">0</span>,<span class="op">-</span><span class="dv">50</span>,<span class="dv">0</span>,<span class="op">-</span><span class="dv">1000</span>,<span class="dv">0</span>,<span class="dv">0</span>]]).T)
d <span class="op">=</span> pd.DataFrame(d,index<span class="op">=</span>df_super.index)
d</code></pre></div>
<pre><code>Out[1]: 
              0
u1     0.000071
v1    -0.013995
w1    -0.002352
phi1x -0.003996
phi1y  0.000018
phi1z -0.000103</code></pre>
<p>Yer değişimleri böylece hesaplandı. Şimdi her öge için yerel etki eden kuvvetleri <span class="math inline">\(f&#39; = k&#39; T d\)</span> hesabı ile bulabiliriz. Tabii boyutlara dikkat etmek gerekiyor, mesela birinci parçanın kullandığı değişken listesi farklı, <span class="math inline">\(d\)</span> vektörünü o değişken listesi için uyarlamak lazım, Pandas yazılımı burada yardıma yetişiyor, bir seri (liste, vektör) objesini bir diğeri ile yaratırken eksik olan indis (değişken) değerler varsa onlar için boş değer atayabilir, o boş değerlere biz sıfır dersek istediğimiz sonucu elde edebiliriz. Mesela birinci parça için</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">pd.DataFrame(d,index<span class="op">=</span>vars1)</code></pre></div>
<pre><code>Out[1]: 
              0
u2          NaN
v2          NaN
w2          NaN
phi2x       NaN
phi2y       NaN
phi2z       NaN
u1     0.000071
v1    -0.013995
w1    -0.002352
phi1x -0.003996
phi1y  0.000018
phi1z -0.000103</code></pre>
<p>sonucunu alabiliyoruz, görüldüğü gibi parça 1 için <span class="math inline">\(d\)</span>'de olan değerler dolduruldu, diğerleri boş bırakıldı. Bu tekniği tüm parçalara uygulayalım ve kuvvet tarafındaki değişkenlerin <span class="math inline">\(u_1,v_1..,\phi_{1x},\phi_{1y},...\)</span> için <span class="math inline">\(f_{1x},f_{1y},..,M_{1x},M_{1y},..\)</span> şeklinde gittiğini dikkate alalım,</p>
<p>Parça 1</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">d_expanded1 <span class="op">=</span> pd.DataFrame(d,index<span class="op">=</span>vars1).fillna(<span class="dv">0</span>)
f1 <span class="op">=</span> np.dot(np.dot(kprime, T_P1), d_expanded1)
f1</code></pre></div>
<pre><code>Out[1]: 
array([[-0.212947726538524],
       [0.317807629532996],
       [0.0526267712100185],
       [19.9804522034949],
       [-3.16535930819590],
       [18.9906685952123],
       [0.212947726538524],
       [-0.317807629532996],
       [-0.0526267712100185],
       [-19.9804522034949],
       [-2.09731781280595],
       [12.7900943580873]], dtype=object)</code></pre>
<p>Parça 2</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">d_expanded2 <span class="op">=</span> pd.DataFrame(d,index<span class="op">=</span>vars2).fillna(<span class="dv">0</span>)
f2 <span class="op">=</span> np.dot(np.dot(kprime, T_P2), d_expanded2)
f2</code></pre></div>
<pre><code>Out[1]: 
array([[7.05566800597642],
       [7.69678764990490],
       [-0.0294858721432362],
       [0.516714519760416],
       [0.940272859466836],
       [264.956669274276],
       [-7.05566800597642],
       [-7.69678764990490],
       [0.0294858721432362],
       [-0.516714519760416],
       [2.00831435485679],
       [504.722095716214]], dtype=object)</code></pre>
<p>Parça 3</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">d_expanded3 <span class="op">=</span> pd.DataFrame(d,index<span class="op">=</span>vars3).fillna(<span class="dv">0</span>)
f3 <span class="op">=</span> np.dot(np.dot(kprime, T_P3), d_expanded3)
f3</code></pre></div>
<pre><code>Out[1]: 
array([[41.9854047205621],
       [-0.183461854395287],
       [-7.10829477718644],
       [-0.0890034579491625],
       [235.532025638353],
       [-6.07280560120188],
       [-41.9854047205621],
       [0.183461854395287],
       [7.10829477718644],
       [0.0890034579491625],
       [475.297452080291],
       [-12.2733798383269]], dtype=object)</code></pre>
<p>Bu değerlerin [2, sf. 291]'deki sonuçlarla aynı olduğunu görebiliriz.</p>
<p>Kaynaklar</p>
<p>[1] Bayramlı, <em>Fizik, Materyel Mekaniği 7</em></p>
<p>[2] Logan, <em>A First Course in the Finite Element Method, 6th Ed</em></p>
<p>[3] Witt <em>Concepts and Apps of FEM</em></p>
<p>[4] Bayramlı, <em>Fizik, Materyel Mekaniği 9</em></p>
<p>[5] Dunn, <em>3D Math Primer for Graphics and Game Development</em></p>
<p>[6] Stasa, <em>Applied Finite Element Analysis for Engineers</em></p>
</body>
</html>
