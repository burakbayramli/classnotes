<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <script type="text/x-mathjax-config">
    MathJax.Hub.Register.StartupHook("TeX Jax Ready",function () {
      MathJax.Hub.Insert(MathJax.InputJax.TeX.Definitions.macros,{
        cancel: ["Extension","cancel"], cancelto: ["Extension","cancel"]
      });
    });
    </script>  
   
  <title>Çift Sarkaç (Double Pendulum)</title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <script
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_HTML-full"
  type="text/javascript"></script>
</head>
<body>
<div id="header">
</div>
<h1 id="çift-sarkaç-double-pendulum">Çift Sarkaç (Double Pendulum)</h1>
<p>En basit formunda çifte sarkaç <span
class="math inline">\(L_1,L_2\)</span> uzunluğunda kütlesiz iki çubuk,
iki <span class="math inline">\(m_1,m_2\)</span> kütlesindeki iki topu
birleştirir ve sallandırır. Eğer <span
class="math inline">\(m_1\)</span>’in olduğu kordinatları <span
class="math inline">\(x_1,y_1\)</span>, <span
class="math inline">\(m_2\)</span> kütlesini <span
class="math inline">\(x_2,y_2\)</span> ile belirtirsek,</p>
<p><img src="phy_dblpend_01.png" /></p>
<p><span class="math display">\[
x_1 = L_1 \sin\theta_1
\]</span></p>
<p><span class="math display">\[
y_1 = - L_1 \cos\theta_1
\]</span></p>
<p><span class="math display">\[
x_2 = L_2  (\sin\theta_1 +  \sin\theta_2)
\]</span></p>
<p><span class="math display">\[
y_2 = -L_2  (\cos\theta_1 + \cos \theta_2)
\]</span></p>
<p>Mesela <span class="math inline">\(y_1\)</span> için <span
class="math inline">\(- L_1 \cos\theta_1\)</span> olmasının sebebi
kordinat bakımından aşağı doğru gidiyor olmamız.</p>
<p>Bu sistemi şurada şu kuvvet, artı şurada şu kuvvet, şurada hareket
şeklinde modelleyebilirdik, fakat daha kolay bir yöntem sistemin
Lagrangian’inini hesaplamak ve onun optimalliği üzerinden Euler-Lagrange
denklemlerini kullanıp sistemın formüllerinin burada dökülmesini
sağlamak.</p>
<p>Sistemin Lagrangian’ını hesaplayacağız, <span class="math inline">\(L
= K - P\)</span>.</p>
<p>Kinetik enerji <span class="math inline">\(K\)</span> hesabını <span
class="math inline">\(\frac{1}{2} m v^2\)</span> üzerinden yapabiliriz,
ve <span class="math inline">\(v\)</span> bileşenlerini yatay, dikey
üzerinden düşünürsek, <span class="math inline">\(v = \sqrt{v_x^2 +
v_y^2}\)</span> ya da <span class="math inline">\(v^2 = v_x^2 +
v_y^2\)</span>, ve üstteki örnekte hız kütle #1 için <span
class="math inline">\(\dot{x}_1\)</span> kütle #2 için <span
class="math inline">\(\dot{x}_2\)</span>. O zaman</p>
<p><span class="math display">\[
K = \frac{1}{2} m_1 ( \dot{x}_1 ^2 + \dot{y}_1 ^2 )  + m_2 ( \dot{x}_2
^2 + \dot{y}_2 ^2 )
\]</span></p>
<p>Açmak için <span class="math inline">\(\dot{x}_1, \dot{x}_2\)</span>,
vs bulunmalı, üstteki <span class="math inline">\(x_1\)</span>’in <span
class="math inline">\(t\)</span> üzerinden türevini almak lazım yani,
hepsini yapinca,</p>
<p><span class="math display">\[
\dot{x}_1 = L_1 \cos^2(\theta_1)\dot{\theta_1}
\]</span></p>
<p><span class="math display">\[
\dot{y}_1 = L_1 \sin(\theta_1)\dot{\theta_1}
\]</span></p>
<p><span class="math display">\[
\dot{x}_2 = L_1 \cos(\theta_1)\dot{\theta}_1 + L_2 \cos
(\theta_2)\dot{\theta}_2
\]</span></p>
<p><span class="math display">\[
\dot{y}_2 = L_1 \sin(\theta_1)\dot{\theta}_1 + L_2
\sin(\theta_2)\dot{\theta}_2
\]</span></p>
<p><span class="math display">\[
K =
1/2 m_1 \dot{\theta}_1^2 L_1^2 +
1/2 m_2 [
\dot{\theta}_1^2 L_1^2 + \dot{\theta}_2^2 L_2^2  +
2 \dot{\theta}_1^2 L_1 \dot{\theta}_1L_2\cos(\theta_1 - \theta_2)]
\]</span></p>
<p>Potansiyel enerjiye gelelim, tek sarkaçtan <span
class="math inline">\(m g h\)</span> formülü en yüksek noktada en fazla
potansiyel enerji verir. Bir kordinat sisteminde kütle #1’ın
sabitlendiği noktaya orijin dedik, o zaman en alt noktada enerji en
azdir. Fakat mesela <span class="math inline">\(L_1\)</span> negatif,
pozitifsel durumu bunları idare eder zaten, biz direk formülü
yazarsak,</p>
<p><span class="math display">\[
P = m g y_1 + m g y_2
\]</span></p>
<p>Sadece dikey kordinat kullanıldı çünkü potansiyel enerji üzerinde tek
etkili olan dikey kordinattır.</p>
<p><span class="math display">\[
P = -m_1 g L_1 \cos(\theta_1) - m_2 g (L_1 \cos(\theta_1) + L_2
\cos(\theta_2))
\]</span></p>
<p>Lagrangian <span class="math inline">\(L = K - P\)</span>’yi elde
etmek icin</p>
<p><span class="math display">\[
L =
\frac{1}{2} m_1 (\dot{\theta}_1 L_1)^2 +
\frac{1}{2} m_2 [(\dot{\theta}_1L_1)^2 +
(\dot{\theta}_2 L_2 )^2  +  ..
\]</span> <span class="math display">\[
2 \dot{\theta}_1^2 L_1 \dot{\theta}_1L_2\cos(\theta_1 - \theta_2)] -
[-(m_1+m_2) g L_1 \cos(\theta_1) - m_2 L_2 g \cos(\theta_2)]
\]</span></p>
<p>Basitleştirince</p>
<p><span class="math display">\[
L = \frac{1}{2} (m_1 + m_2) L_1^2 \dot{\theta}_1^2 +
\frac{1}{2} m_2 L_2^2 \dot{\theta}_2^2 +
m_2 L_1 L_2 \dot{\theta}_1\dot{\theta}_2 \cos(\theta_1-\theta_2) + ..
\]</span> <span class="math display">\[
(m_1 + m_2) g L_1 \cos(\theta_1) + m_2 L_2  g \cos(\theta_2)
\]</span></p>
<p>Bu sistemden bir fiziksel sistemi üretmek istiyorsam <span
class="math inline">\(L\)</span>’yi minimize edecek fonksiyonları elde
etmem lazım. Burada bir değişimsel calculus problemi var, yani
Euler-Lagrange denklemlerine bakabilirim.</p>
<p><span class="math display">\[
\frac{\mathrm{d}}{\mathrm{d} t} \left(
\frac{\partial L}{\partial \dot{\theta}}
\right) -
\frac{\partial L}{\partial \theta} = 0
\]</span></p>
<p>Her <span class="math inline">\(\theta_1,\theta_2\)</span> için
üstteki denklemi kullanacağım, ve elde ettiğim formüller bu sistemin
dinamik formülleri olacaklar.</p>
<p><span class="math inline">\(\theta_1\)</span> için</p>
<p><span class="math display">\[
\frac{\partial L}{\partial \theta_1} =
-L_1 g (m_1 + m_2) \sin(\theta_1) - m_2 L_1 L_2
\dot{\theta}_1\dot{\theta_2}\sin(\theta_1-\theta_2)
\]</span></p>
<p><span class="math display">\[
\frac{\partial L}{\partial \dot{\theta}_1} =
(m_1 + m_2) L_1^2 \dot{\theta}_1 + m_2 L_1 L_2 \dot{\theta}_2
\cos(\theta_1- \theta_2)
\]</span></p>
<p><span class="math display">\[
\frac{\mathrm{d} }{\mathrm{d} t} \left(
\frac{\partial L}{\partial \dot{\theta}_1} \right) =
(m_1 + m_2) L_1^2 \ddot{\theta}_1 + m_2 L_1 L_2 \ddot{\theta}_2
\cos(\theta_1-\theta_2)-
m_2 L_1 L_2 \dot{\theta}_2 \sin(\theta_1-\theta_2)(\dot{\theta}_1 -
\dot{\theta}_2)
\]</span></p>
<p>Üsttekileri bir araya koyarsak,</p>
<p><span class="math display">\[
\Rightarrow (m_1 + m_2) L_1^2 \ddot{\theta}_1 +
m_2L_1 L_2 \ddot{\theta}_2 \cos(\theta_1-\theta_2)-
\]</span> <span class="math display">\[
m_2 L_1 L_2 \dot{\theta}_2 \sin(\theta_1-\theta_2)(\dot{\theta}_1 -
\dot{\theta}_2) +
g L_1 (m_1 + m_2) \sin(\theta_1) +
m_2 L_1 L_2 \dot{\theta}_1\dot{\theta_2}\sin(\theta_1-\theta_2)=0
\]</span></p>
<p><span class="math display">\[
\Rightarrow (m_1 + m_2) L_1^2 \ddot{\theta}_1 +
m_2 L_1 L_2 \ddot{\theta}_2 \cos(\theta_1-\theta_2) +
g L_1 (m_1 + m_2) \sin(\theta_1) +
\]</span> <span class="math display">\[
m_2 L_1 L_2\dot{\theta}_2 \sin(\theta_1-\theta_2) \left[ (\dot{\theta}_1
- \dot{\theta}_1 + \dot{\theta}_2)  \right]
=0
\]</span></p>
<p><span class="math display">\[
\frac{\mathrm{d}}{\mathrm{d} t} \left(
\frac{\partial L}{\partial \dot{\theta_1}}
\right) - \frac{\partial L}{\partial \theta_1} =  
(m_1 + m_2) L_1^2 \ddot{\theta}_1 +
m_2 L_1 L_2 \ddot{\theta}_2 \cos(\theta_1-\theta_2) +
g L_1 (m_1 + m_2) \sin(\theta_1) +
\]</span> <span class="math display">\[
m_2 L_1 L_2\dot{\theta}_2^2 \sin(\theta_1-\theta_2)
=0
\]</span></p>
<p>Basitleştirip <span class="math inline">\(\ddot{\theta}_1\)</span>
için çözelim,</p>
<p><span class="math display">\[
\ddot{\theta}_1 = \frac{
-m_2 L_2 \ddot{\theta}_2 \cos (\theta_1-\theta_2) -
m_2 L_2 \dot{\theta}_2^2 \sin(\theta_1 - \theta_2) - (m_1 + m_2) g
\sin(\theta_1)
}
{(m_1 + m_2) L_1 }
\qquad (2)
\]</span></p>
<p><span class="math inline">\(\theta_2\)</span> için</p>
<p><span class="math display">\[
\frac{\partial L}{\partial \theta_2} =
m_2 L_1 L_2 \dot{\theta}_1 \dot{\theta}_2 \sin(\theta_1 - \theta_2) -
L_2 m_2 g \sin(\theta_2)
\]</span></p>
<p><span class="math display">\[
\frac{\partial L}{\partial \dot{\theta}_2 } =
m_2 L_2^2 \dot{\theta}_2 + m_2 L_1 L_2 \dot{\theta}_1 \cos(\theta_1 -
\theta_2)
\]</span></p>
<p><span class="math display">\[
\frac{\mathrm{d}}{\mathrm{d} t} \left(\frac{\partial L}{\partial
\dot{\theta_2}}  \right) =
m_2 L_2^2 \ddot{\theta}_2 + m_2 L_1 L_2 \ddot{\theta}_1 \cos(\theta_1 -
\theta_2)
- m_2 L_1 L_2 \dot{\theta}_1 \sin(\theta_1 - \theta_2)(\dot{\theta}_1 -
\dot{\theta}_2)
\]</span></p>
<p>E-L denklemine sokunca</p>
<p><span class="math display">\[
\frac{\mathrm{d}}{\mathrm{d} t} \left(
\frac{\partial L}{\partial \dot{\theta_2}}
\right) - \frac{\partial L}{\partial \theta_2} =  
L_2 \ddot{\theta}_2 + L_1 \ddot{\theta}_1 \cos(\theta_1 - \theta_2) -
L_1 \dot{\theta}_1^2 \sin(\theta_1 - \theta_2) + g \sin (\theta_2) = 0
\]</span></p>
<p>Aynı şekilde basitleştirip <span
class="math inline">\(\ddot{\theta}_2\)</span> için çözelim,</p>
<p><span class="math display">\[
\ddot{\theta}_2 =
\frac{
-L_1 \ddot{\theta}_1 \cos(\theta_1-\theta_2) +
L_1 \dot{\theta}_1^2\sin(\theta_1-\theta_2) -
g \sin(\theta_2)
}
{L_2}
\qquad (1)
\]</span></p>
<p>Şimdi (1) ve (2) formüllerine bakarsak elimde <span
class="math inline">\(\ddot{\theta}_2\)</span>’ye dayanan bir <span
class="math inline">\(\ddot{\theta}_1\)</span> formülü, <span
class="math inline">\(\ddot{\theta}_1\)</span>’e dayanan bir <span
class="math inline">\(\ddot{\theta}_2\)</span> formülü var. Bu
formülleri kullanarak içinde aynı anda <span
class="math inline">\(\ddot{\theta}_1\)</span> ya da <span
class="math inline">\(\ddot{\theta}_2\)</span> içermeyen (yani her
denklem ya sadece <span class="math inline">\(\ddot{\theta}_1\)</span>
ya da sadece <span class="math inline">\(\ddot{\theta}_2\)</span>
içerecek) iki tane yeni formül üretebilirim.</p>
<p>Eğer (1)’i (2) içine sokarsak,</p>
<p><span class="math display">\[
\ddot{\theta}_1 (m_1 + m_2) L_1 = -m_2
\big[-L_1\ddot{\theta}_1 \cos(\theta_1-\theta_2) +
L_1\dot{\theta}_1^2 \sin(\theta_1-\theta_2) -
g \sin(\theta_2) \big] \cos(\theta_1-\theta_2)-
\]</span> <span class="math display">\[
m_2 L_2 \dot{\theta}_2^2 \sin(\theta_1-\theta_2)-
(m_1 + m_2) g \sin(\theta_1)
\]</span></p>
<p>İçinde <span class="math inline">\(\ddot{\theta}_1\)</span> olan tüm
terimleri eşitliğin sol tarafına taşırsam,</p>
<p><span class="math display">\[
\ddot{\theta}_1 [L_1 (m_1 + m2) - m_2 L_1 \cos^2(\theta_1-\theta_2)] =
-m_2 L_1 \dot{\theta}_1^2 \sin(\theta_1-\theta_2)
\cos(\theta_1-\theta_2) +
g m_2 \sin(\theta_2) \cos(\theta_1-\theta_2) -
\]</span> <span class="math display">\[
m_2 L_2 \dot{\theta}_2^2 \sin(\theta_1-\theta_2) -
(m_1 + m_2) g \sin(\theta_1)
\]</span></p>
<p><span class="math inline">\(\ddot{\theta}\)</span> için çözersem,</p>
<p><span class="math display">\[
-m_2 L_1 \dot{\theta}_1^2 \sin(\theta_1-\theta_2)\cos(\theta_1-\theta_2)
+
\]</span> <span class="math display">\[
\ddot{\theta}_1 =
\frac{ g m_2 \sin(\theta_2)\cos(\theta_1-\theta_2) -
m_2 L_2 \dot{\theta}_2^2 \sin(\theta_1-\theta_2) -
(m_1+m_2)g\sin(\theta_1)
}
{L_1 (m_1+m_2)-m_2L_1\cos^2(\theta_1-\theta_2)}
\qquad (3)
\]</span></p>
<p>Dikkat: Bölünen çok kalabalık, o iki satır bölünendeki değerleri
gösteriyor.</p>
<p>Aynı şekilde <span class="math inline">\(\ddot{\theta}_2\)</span>
için işlem yapınca,</p>
<p><span class="math display">\[
m_2 L_2 \dot{\theta}_2^2 \sin(\theta_1-\theta_2)\cos(\theta_1-\theta_2)
+
\]</span> <span class="math display">\[
\ddot{\theta}_2 =
\frac{
g \sin(\theta_1) \cos(\theta_1-\theta_2)(m_1+m_2) +
L_1 \dot{\theta}_1^2 \sin(\theta_1-\theta_2)(m_1+m_2) - g\sin(\theta_2)
(m_1+m_2)
}
{L_2 (m_1+m_2) - m_2 L_2 \cos^2 (\theta_1-\theta_2)}
\qquad (4)
\]</span></p>
<p>Artık elimde iki tane ikinci dereceden diferansiyel denklem var. Bu
denklemleri birinci derece diferansiyel denkleme çevirebilirim. Ufak bir
değişken değimi numarası kullanırsam,</p>
<p><span class="math display">\[
z_1 = \theta_1, \quad
z_2 = \theta_2, \quad
z_3 = \dot{\theta}_1, \quad
z_4 = \dot{\theta}_2
\]</span></p>
<p>Bu değişkenlerin türevini alırsam,</p>
<p><span class="math display">\[
\dot{z}_1 = \dot{\theta}_1, \quad
\dot{z}_2 = \dot{\theta}_2, \quad
\dot{z}_3 = \ddot{\theta}_1, \quad
\dot{z}_4 = \ddot{\theta}_1
\]</span></p>
<p>Böylece dört yeni diferansiyel denklem yarattık. (3), (4)
denklemlerinde <span class="math inline">\(\theta_1\)</span> yerine
<span class="math inline">\(z_1\)</span>, <span
class="math inline">\(\dot{\theta}_2\)</span> yerine <span
class="math inline">\(z_4\)</span>, <span
class="math inline">\(\dot{\theta}_1\)</span> yerine <span
class="math inline">\(z_3\)</span>, vs. koyunca,</p>
<p><span class="math display">\[
\dot{z}_1 = \dot{\theta}_1
\]</span></p>
<p><span class="math display">\[
\dot{z}_2 = \dot{\theta}_2
\]</span></p>
<p><span class="math display">\[
-m_2 L_1 z_4^2 \sin(z_1-z_2)\cos(z_1-z_2) +
\]</span> <span class="math display">\[
\dot{z}_3 =
\frac{ g m_2 \sin(z_2)\cos(z_1-z_2) -
m_2 L_2 z_4^2 \sin(z_1-z_2) - (m_1+m_2)g\sin(z_1)
}
{L_1 (m_1+m_2)-m_2L_1\cos^2(z_1-z_2)}
\]</span></p>
<p><span class="math display">\[
m_2 L_2 z_4^2 \sin(z_1-z_2)\cos(z_1-z_2) +
\]</span> <span class="math display">\[
\dot{z}_4 =
\frac{
g \sin(z_1) \cos(z_1-z_2)(m_1+m_2) +
L_1 z_4^2 \sin(z_1-z_2)(m_1+m_2) - g\sin(z_2) (m_1+m_2)
}
{L_2 (m_1+m_2) - m_2 L_2 \cos^2 (z_1-z_2)}
\]</span></p>
<p>Bu ODE sistemini sayısal olarak çözebiliriz. Başlangıç açılarını
<span class="math inline">\(\theta_1,\theta_2\)</span> için <span
class="math inline">\(\pi/4\)</span> olarak seçtik, sarkaç sağ taraftan
başlayacak, ve sallanacak.</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> matplotlib.patches <span class="im">import</span> Circle</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> numpy <span class="im">import</span> cos, sin</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> scipy.integrate <span class="im">import</span> odeint</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>m1<span class="op">=</span><span class="fl">1.0</span><span class="op">;</span> m2<span class="op">=</span><span class="fl">1.0</span><span class="op">;</span> L1<span class="op">=</span><span class="fl">1.0</span><span class="op">;</span> L2<span class="op">=</span><span class="fl">1.0</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>g<span class="op">=</span><span class="fl">9.8</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> f(z, t):</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>    z1, z2, z3, z4 <span class="op">=</span> z</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>    tmp1 <span class="op">=</span> (<span class="op">-</span>m2<span class="op">*</span>L1<span class="op">*</span>z4<span class="op">**</span><span class="dv">2</span><span class="op">*</span>sin(z1<span class="op">-</span>z2)<span class="op">*</span>cos(z1<span class="op">-</span>z2) <span class="op">+</span> g<span class="op">*</span>m2<span class="op">*</span>sin(z2)<span class="op">*</span>cos(z1<span class="op">-</span>z2) <span class="op">-</span> <span class="op">\</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>            m2<span class="op">*</span>L2<span class="op">*</span>z4<span class="op">**</span><span class="dv">2</span><span class="op">*</span>sin(z1<span class="op">-</span>z2) <span class="op">-</span> (m1<span class="op">+</span>m2)<span class="op">*</span>g<span class="op">*</span>sin(z1)) <span class="op">\</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>            <span class="op">/</span>(L1<span class="op">*</span>(m1<span class="op">+</span>m2)<span class="op">-</span>m2<span class="op">*</span>L1<span class="op">*</span>cos(z1<span class="op">-</span>z2)<span class="op">**</span><span class="dv">2</span>)<span class="op">;</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>    tmp2 <span class="op">=</span> (m2 <span class="op">*</span> L2 <span class="op">*</span> (z4<span class="op">**</span><span class="dv">2</span>) <span class="op">*</span>sin(z1<span class="op">-</span>z2) <span class="op">*</span> cos(z1<span class="op">-</span>z2) <span class="op">+</span> <span class="op">\</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>            g<span class="op">*</span>sin(z1)<span class="op">*</span>cos(z1<span class="op">-</span>z2)<span class="op">*</span>(m1<span class="op">+</span>m2) <span class="op">+</span> L1<span class="op">*</span>(z4<span class="op">**</span><span class="dv">2</span>)<span class="op">*</span>sin(z1<span class="op">-</span>z2)<span class="op">*</span>(m1<span class="op">+</span>m2) <span class="op">-</span> <span class="op">\</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>            g<span class="op">*</span>sin(z2)<span class="op">*</span>(m1<span class="op">+</span>m2)) <span class="op">\</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>    <span class="op">/</span> (L2<span class="op">*</span>(m1<span class="op">+</span>m2)<span class="op">-</span>m2<span class="op">*</span>L2<span class="op">*</span>cos(z1<span class="op">-</span>z2)<span class="op">**</span><span class="dv">2</span>)</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>    z <span class="op">=</span> [ z3, z4, tmp1, tmp2 ]</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> z</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>z0 <span class="op">=</span> np.array([np.pi<span class="op">/</span><span class="dv">4</span>, np.pi<span class="op">/</span><span class="dv">4</span>, <span class="fl">0.0</span>, <span class="fl">0.0</span>])</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>t <span class="op">=</span> np.linspace(<span class="dv">0</span>, <span class="dv">10</span>, <span class="dv">100</span>)</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>z <span class="op">=</span> odeint(f, z0, t)</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>x1<span class="op">=</span>L1<span class="op">*</span>sin(z[:,<span class="dv">0</span>])</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>y1<span class="op">=-</span>L1<span class="op">*</span>cos(z[:,<span class="dv">0</span>])</span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>x2<span class="op">=</span>L1<span class="op">*</span>sin(z[:,<span class="dv">0</span>])<span class="op">+</span>L2<span class="op">*</span>sin(z[:,<span class="dv">1</span>])</span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>y2<span class="op">=-</span>L1<span class="op">*</span>cos(z[:,<span class="dv">0</span>])<span class="op">-</span>L2<span class="op">*</span>cos(z[:,<span class="dv">1</span>])</span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> make_plot(fout,x1,y1,x2,y2):</span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>    r <span class="op">=</span> <span class="fl">0.05</span></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>    fig <span class="op">=</span> plt.figure()</span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>    ax <span class="op">=</span> fig.add_subplot(<span class="dv">111</span>)</span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a>    ax.set_xlim(<span class="op">-</span><span class="dv">2</span>,<span class="dv">2</span>)</span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>    ax.set_ylim(<span class="op">-</span><span class="dv">2</span>,<span class="dv">2</span>)</span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a>    plt.plot([<span class="dv">0</span>, x1, x2], [<span class="dv">0</span>, y1, y2], lw<span class="op">=</span><span class="dv">2</span>, c<span class="op">=</span><span class="st">&#39;k&#39;</span>)</span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a>    c0 <span class="op">=</span> Circle((<span class="dv">0</span>, <span class="dv">0</span>), r<span class="op">/</span><span class="dv">2</span>, fc<span class="op">=</span><span class="st">&#39;k&#39;</span>, zorder<span class="op">=</span><span class="dv">10</span>)</span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a>    c1 <span class="op">=</span> Circle((x1, y1), r, fc<span class="op">=</span><span class="st">&#39;b&#39;</span>, ec<span class="op">=</span><span class="st">&#39;b&#39;</span>, zorder<span class="op">=</span><span class="dv">10</span>)</span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a>    c2 <span class="op">=</span> Circle((x2, y2), r, fc<span class="op">=</span><span class="st">&#39;r&#39;</span>, ec<span class="op">=</span><span class="st">&#39;r&#39;</span>, zorder<span class="op">=</span><span class="dv">10</span>)</span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a>    ax.add_patch(c0)</span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a>    ax.add_patch(c1)</span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a>    ax.add_patch(c2)</span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a>    plt.savefig(fout)</span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(x1)):</span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> i <span class="op">%</span> <span class="dv">5</span> <span class="op">==</span> <span class="dv">0</span>: </span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a>        make_plot(<span class="st">&#39;frames/img</span><span class="sc">{:04d}</span><span class="st">.png&#39;</span>.<span class="bu">format</span>(i),x1[i],y1[i],x2[i],y2[i])</span></code></pre></div>
<p>Sistemin belli anlarda “fotoğrafını çekip’’ grafikledik, ve bu
grafikleri animasyon olarak birleştirirsek,</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>os.system(<span class="st">&quot;convert -loop 0 -delay 100 frames/*.png frames/dblpend.gif&quot;</span>)</span></code></pre></div>
<p>Sonuçları [2]’de bulabiliriz.</p>
<p>Kaynaklar</p>
<p>[1] Altic, <a
href="sophia.dtp.fmph.uniba.sk/~kovacik/doublePendulum.pdf">sophia.dtp.fmph.uniba.sk/~kovacik/doublePendulum.pdf</a></p>
<p>[2] Bayramlı, <em>Double Pendulum Animasyonu</em>,
[https://www.dropbox.com/scl/fi/113k9tdky17xel0445qk9/dblpend.gif?rlkey=17mhrvq64t0jgr3v6c4whb9je&amp;st=92qxyh1j&amp;raw=1)</p>
<p>[3] Virginia Tech, <a
href="http://galileo.phys.virginia.edu/education/outreach/8thgradesol/EnergyPendulum.htm">http://galileo.phys.virginia.edu/education/outreach/8thgradesol/EnergyPendulum.htm</a></p>
<p>[4] Altic, <a
href="https://mse.redwoods.edu/darnold/math55/DEproj/sp08/jaltic/ProjectTitleOnline.pdf">https://mse.redwoods.edu/darnold/math55/DEproj/sp08/jaltic/ProjectTitleOnline.pdf</a></p>
<p>
  <a href="..">Yukarı</a>
</p>
</body>
</html>
